<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>刘楠的博客</title>
  <subtitle>热爱生活</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ln0491.github.io/"/>
  <updated>2017-02-27T07:48:12.730Z</updated>
  <id>https://ln0491.github.io/</id>
  
  <author>
    <name>Liu Nan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mybatis入门二</title>
    <link href="https://ln0491.github.io/2017/02/27/mybatis%E5%85%A5%E9%97%A8%E4%BA%8C/"/>
    <id>https://ln0491.github.io/2017/02/27/mybatis入门二/</id>
    <published>2017-02-27T02:12:13.000Z</published>
    <updated>2017-02-27T07:48:12.730Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mybatis入门二-实现数据的增删改查"><a href="#mybatis入门二-实现数据的增删改查" class="headerlink" title="mybatis入门二 实现数据的增删改查"></a>mybatis入门二 实现数据的增删改查</h3><h4 id="在mapper-xml中添类与数据库表关系映射"><a href="#在mapper-xml中添类与数据库表关系映射" class="headerlink" title="在mapper.xml中添类与数据库表关系映射"></a>在mapper.xml中添类与数据库表关系映射</h4><p>configuration.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;!--添加别名 --&gt;</div><div class="line">&lt;typeAliases&gt;</div><div class="line">	&lt;!-- &lt;typeAlias alias=&quot;UserDo&quot; type=&quot;com.ghg.md.domain.UserDo&quot;/&gt; --&gt;</div><div class="line">	&lt;!--配置基本包名实体类路径 --&gt;</div><div class="line">	&lt;package name=&quot;com.ghg.md.domain&quot; /&gt;</div><div class="line">&lt;/typeAliases&gt;</div></pre></td></tr></table></figure></p>
<p>mapper.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;mapper namespace=&quot;com.ghg.md.dao.UserMapper&quot;&gt;</div><div class="line"></div><div class="line"></div><div class="line">	&lt;resultMap type=&quot;UserDo&quot; id=&quot;userDo&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot;  property=&quot;id&quot;/&gt;</div><div class="line">		&lt;result column=&quot;username&quot; property=&quot;userName&quot;/&gt;</div><div class="line">		&lt;result column=&quot;userage&quot; property=&quot;userAge&quot;/&gt;</div><div class="line">		&lt;result column=&quot;useraddress&quot;  property=&quot;userAddress&quot;/&gt;</div><div class="line">	&lt;/resultMap&gt;</div><div class="line"></div><div class="line">	&lt;!-- 根据ID查询用户 --&gt;</div><div class="line">	&lt;select id=&quot;selectUserByID&quot; parameterType=&quot;int&quot;	resultMap=&quot;userDo&quot;&gt;</div><div class="line">		select * from user where id=#&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line">	&lt;!-- 查询全部用户信息 --&gt;</div><div class="line">	&lt;select id=&quot;getAllUser&quot; resultMap=&quot;userDo&quot;&gt;</div><div class="line">		select * from user</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">&lt;/mapper&gt;</div></pre></td></tr></table></figure></p>
<p>如果不配置</p>
<p><package name="com.ghg.md.domain"><br>那么resultMap type=”UserDo” 中type就要写全路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;resultMap type=&quot;com.ghg.md.domain.UserDo&quot; id=&quot;userDo&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot;  property=&quot;id&quot;/&gt;</div><div class="line">		&lt;result column=&quot;username&quot; property=&quot;userName&quot;/&gt;</div><div class="line">		&lt;result column=&quot;userage&quot; property=&quot;userAge&quot;/&gt;</div><div class="line">		&lt;result column=&quot;useraddress&quot;  property=&quot;userAddress&quot;/&gt;</div><div class="line">	&lt;/resultMap&gt;</div></pre></td></tr></table></figure></package></p>
<h4 id="完整的dao-mapper"><a href="#完整的dao-mapper" class="headerlink" title="完整的dao mapper"></a>完整的dao mapper</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">package com.ghg.md.dao;</div><div class="line"></div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">import org.apache.ibatis.annotations.Param;</div><div class="line"></div><div class="line">import com.ghg.md.domain.UserDo;</div><div class="line"></div><div class="line">/**</div><div class="line"> * dao</div><div class="line">* @ClassName: UserMapper</div><div class="line">* @Description: TODO(这里用一句话描述这个类的作用)</div><div class="line">* @author 刘楠</div><div class="line">* @date 2017-2-27 上午9:25:12</div><div class="line">*</div><div class="line"> */</div><div class="line">public interface UserMapper &#123;</div><div class="line"></div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 获取所有用户</div><div class="line">	* @Title: getAllUser</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @return    设定文件</div><div class="line">	* @return List&lt;UserDo&gt;    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public List&lt;UserDo&gt; getAllUser();</div><div class="line">	</div><div class="line">	</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 根据ID查询用户</div><div class="line">	* @Title: selectUserByID</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @param id</div><div class="line">	* @param @return    设定文件</div><div class="line">	* @return UserDo    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public UserDo selectUserByID(int id);</div><div class="line">	/**</div><div class="line">	 * 根据名称模糊查询</div><div class="line">	* @Title: selectUsers</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @param username</div><div class="line">	* @param @return    设定文件</div><div class="line">	* @return List&lt;UserDo&gt;    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public List&lt;UserDo&gt; selectUsers(@Param(&quot;username&quot;)String username);</div><div class="line">	</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 添加用户</div><div class="line">	* @Title: addUser</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @param userDo    设定文件</div><div class="line">	* @return void    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public void addUser(@Param(&quot;userDo&quot;)UserDo userDo);</div><div class="line">	</div><div class="line">	</div><div class="line">	</div><div class="line">	public void updateUser(@Param(&quot;userDo&quot;)UserDo userDo);</div><div class="line">	</div><div class="line">	</div><div class="line">	public void deleteUser(@Param(&quot;id&quot;) int id);</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="mapper-xml"><a href="#mapper-xml" class="headerlink" title="mapper.xml"></a>mapper.xml</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">&lt;!DOCTYPE mapper</div><div class="line">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</div><div class="line">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</div><div class="line">&lt;mapper namespace=&quot;com.ghg.md.dao.UserMapper&quot;&gt;</div><div class="line"></div><div class="line"></div><div class="line">	&lt;resultMap type=&quot;com.ghg.md.domain.UserDo&quot; id=&quot;userDo&quot;&gt;</div><div class="line">		&lt;id column=&quot;id&quot; property=&quot;id&quot; /&gt;</div><div class="line">		&lt;result column=&quot;username&quot; property=&quot;userName&quot; /&gt;</div><div class="line">		&lt;result column=&quot;userage&quot; property=&quot;userAge&quot; /&gt;</div><div class="line">		&lt;result column=&quot;useraddress&quot; property=&quot;userAddress&quot; /&gt;</div><div class="line">	&lt;/resultMap&gt;</div><div class="line"></div><div class="line">	&lt;!-- 根据ID查询用户 --&gt;</div><div class="line">	&lt;select id=&quot;selectUserByID&quot; parameterType=&quot;int&quot; resultMap=&quot;userDo&quot;&gt;</div><div class="line">		select * from user where id=#&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line">	&lt;!-- 查询全部用户信息 --&gt;</div><div class="line">	&lt;select id=&quot;getAllUser&quot; resultMap=&quot;userDo&quot;&gt;</div><div class="line">		select * from user</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">	&lt;!-- 模糊查询 --&gt;</div><div class="line">	&lt;select id=&quot;selectUsers&quot; parameterType=&quot;String&quot; resultMap=&quot;userDo&quot;&gt;</div><div class="line">		select * from user</div><div class="line">		&lt;where&gt;</div><div class="line">			&lt;if test=&quot;username != null&quot;&gt;</div><div class="line">				username LIKE CONCAT(&apos;%&apos;,#&#123;username&#125;,&apos;%&apos;)</div><div class="line">			&lt;/if&gt;</div><div class="line">		&lt;/where&gt;</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">	&lt;!--添加用户 --&gt;</div><div class="line">	&lt;insert id=&quot;addUser&quot; parameterType=&quot;com.ghg.md.domain.UserDo&quot;&gt;</div><div class="line">		INSERT INTO</div><div class="line">		USER(username,userage,useraddress)</div><div class="line">		VALUES(#&#123;userDo.userName&#125;,#&#123;userDo.userAge&#125;,#&#123;userDo.userAddress&#125;);</div><div class="line">	&lt;/insert&gt;</div><div class="line">	&lt;!--更新用户 --&gt;</div><div class="line">	&lt;update id=&quot;updateUser&quot; parameterType=&quot;com.ghg.md.domain.UserDo&quot;&gt;</div><div class="line">		UPDATE USER SET</div><div class="line">		&lt;if test=&quot;userDo.userName!=null&quot;&gt;</div><div class="line">			username= #&#123;userDo.userName&#125;,</div><div class="line">		&lt;/if&gt;</div><div class="line">		&lt;if test=&quot;userDo.userAge!=null&quot;&gt;</div><div class="line">			userage=#&#123;userDo.userAge&#125;,</div><div class="line">		&lt;/if&gt;</div><div class="line">		&lt;if test=&quot;userDo.userAddress!=null&quot;&gt;</div><div class="line">			useraddress =#&#123;userDo.userAddress&#125;</div><div class="line">		&lt;/if&gt;</div><div class="line">		WHERE id =#&#123;userDo.id&#125;</div><div class="line">	&lt;/update&gt;</div><div class="line">	&lt;!--删除用户 --&gt;</div><div class="line">	&lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt;</div><div class="line">		DELETE FROM USER</div><div class="line">		&lt;where&gt;</div><div class="line">			&lt;if test=&quot;id!=null&quot;&gt;</div><div class="line">				id=#&#123;id&#125;</div><div class="line">			&lt;/if&gt;</div><div class="line">		&lt;/where&gt;</div><div class="line">	&lt;/delete&gt;</div><div class="line"></div><div class="line">&lt;/mapper&gt;</div></pre></td></tr></table></figure>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">UserDo insertUserDo = new UserDo();</div><div class="line">insertUserDo.setUserAddress(&quot;日本海&quot;);</div><div class="line">insertUserDo.setUserAge(32);</div><div class="line">insertUserDo.setUserName(&quot;宫本&quot;);</div><div class="line">userMapper.addUser(insertUserDo);</div><div class="line">session.commit();</div></pre></td></tr></table></figure></p>
<p>修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">SqlSession session = sqlSessionFactory.openSession();</div><div class="line">		UserMapper userMapper = session.getMapper(UserMapper.class);</div><div class="line">		</div><div class="line">		</div><div class="line">		UserDo userDo = userMapper.selectUserByID(6);</div><div class="line">		logger.info(&quot;查询一个用户：&#123;&#125;&quot;, userDo);</div><div class="line">		</div><div class="line">		userDo.setUserName(&quot;刀个大蛇&quot;);</div><div class="line">		userDo.setUserAddress(&quot;东京&quot;);</div><div class="line">		userDo.setUserAge(101);</div><div class="line">		userMapper.updateUser(userDo);</div><div class="line">		session.commit();</div></pre></td></tr></table></figure></p>
<p>删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">SqlSession session = sqlSessionFactory.openSession();</div><div class="line">		UserMapper userMapper = session.getMapper(UserMapper.class);</div><div class="line">		</div><div class="line">		</div><div class="line">		UserDo userDo = userMapper.selectUserByID(6);</div><div class="line">		logger.info(&quot;查询一个用户：&#123;&#125;&quot;, userDo);</div><div class="line">		</div><div class="line">		 userMapper.deleteUser(6);</div><div class="line">	</div><div class="line">		session.commit();</div></pre></td></tr></table></figure>
<p>增加，修改，删除 必须提交事务，否则不会写入到数据库.<br>模糊查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//模糊查询</div><div class="line">		List&lt;UserDo&gt; users = userMapper.selectUsers(&quot;j&quot;);</div></pre></td></tr></table></figure>
<p>写法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1、mysql ：LIKE CONCAT(&apos;%&apos;,#&#123;empname&#125;,&apos;%&apos; ) 或者 LIKE CONCAT(&apos;%&apos;,‘$&#123;empname&#125;’,&apos;%&apos; )</div><div class="line">2、oracle：LIKE &apos;%&apos;||#&#123;empname&#125;||&apos;%&apos;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mybatis入门二-实现数据的增删改查&quot;&gt;&lt;a href=&quot;#mybatis入门二-实现数据的增删改查&quot; class=&quot;headerlink&quot; title=&quot;mybatis入门二 实现数据的增删改查&quot;&gt;&lt;/a&gt;mybatis入门二 实现数据的增删改查&lt;/h3&gt;&lt;
    
    </summary>
    
      <category term="mybatis" scheme="https://ln0491.github.io/categories/mybatis/"/>
    
    
      <category term="mybatis" scheme="https://ln0491.github.io/tags/mybatis/"/>
    
  </entry>
  
  <entry>
    <title>mybatis入门一</title>
    <link href="https://ln0491.github.io/2017/02/27/mybatis%E5%85%A5%E9%97%A8%E4%B8%80/"/>
    <id>https://ln0491.github.io/2017/02/27/mybatis入门一/</id>
    <published>2017-02-27T00:55:47.000Z</published>
    <updated>2017-02-27T02:23:08.217Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mybatis入门一"><a href="#mybatis入门一" class="headerlink" title="mybatis入门一"></a>mybatis入门一</h3><h4 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h4><p>新建MAVEN普通项目，添加依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">&lt;properties&gt;</div><div class="line">	&lt;mybatis.version&gt;3.4.2&lt;/mybatis.version&gt;</div><div class="line">	&lt;mysql.version&gt;5.1.34&lt;/mysql.version&gt;</div><div class="line">	&lt;slf4j.version&gt;1.7.23&lt;/slf4j.version&gt;</div><div class="line">	&lt;logback.verison&gt;1.2.1&lt;/logback.verison&gt;</div><div class="line">&lt;/properties&gt;</div><div class="line">	&lt;dependencies&gt;</div><div class="line">		&lt;!--mybatis --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;org.mybatis&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;mybatis&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line">		&lt;!--mysql --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;mysql&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line">		&lt;!-- slf4j --&gt;</div><div class="line">	&lt;dependency&gt;</div><div class="line">		&lt;groupId&gt;org.slf4j&lt;/groupId&gt;</div><div class="line">		&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</div><div class="line">		&lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt;</div><div class="line">	&lt;/dependency&gt;</div><div class="line">	&lt;!--logback --&gt;</div><div class="line">	&lt;dependency&gt;</div><div class="line">		&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</div><div class="line">		&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</div><div class="line">		&lt;version&gt;$&#123;logback.verison&#125;&lt;/version&gt;</div><div class="line">	&lt;/dependency&gt;</div><div class="line">&lt;/dependencies&gt;</div></pre></td></tr></table></figure></p>
<p><img src="https://ln0491.github.io/img/mybatis1.png" alt="mybatis1.png"></p>
<h5 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">CREATE TABLE USER (</div><div class="line"></div><div class="line">id INT(11) PRIMARY KEY AUTO_INCREMENT,</div><div class="line">username VARCHAR(50) NOT NULL,</div><div class="line">userage INT(5) DEFAULT NULL,</div><div class="line">useraddress VARCHAR(200) DEFAULT NULL</div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO USER VALUES(NULL,&apos;summer&apos;,50,&apos;广州&apos;),(NULL,&apos;jack&apos;,25,&apos;深圳&apos;),(NULL,&apos;john&apos;,18,&apos;上海&apos;);</div></pre></td></tr></table></figure>
<h4 id="设置mybatis-配置文件-Configuration-xml，在resources目录下"><a href="#设置mybatis-配置文件-Configuration-xml，在resources目录下" class="headerlink" title="设置mybatis 配置文件:Configuration.xml，在resources目录下"></a>设置mybatis 配置文件:Configuration.xml，在resources目录下</h4><p>参考<a href="http://www.mybatis.org/mybatis-3/zh/getting-started.html" target="_blank" rel="external">http://www.mybatis.org/mybatis-3/zh/getting-started.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">&lt;!DOCTYPE configuration</div><div class="line">  PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</div><div class="line">  &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</div><div class="line"></div><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;environments default=&quot;development&quot;&gt;</div><div class="line">		&lt;environment id=&quot;development&quot;&gt;</div><div class="line">			&lt;transactionManager type=&quot;JDBC&quot; /&gt;</div><div class="line"></div><div class="line">			&lt;dataSource type=&quot;POOLED&quot;&gt;</div><div class="line">				&lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;</div><div class="line">				&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/company&quot; /&gt;</div><div class="line">				&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;</div><div class="line">				&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;</div><div class="line"></div><div class="line">			&lt;/dataSource&gt;</div><div class="line">		&lt;/environment&gt;</div><div class="line">	&lt;/environments&gt;</div><div class="line">	&lt;mappers&gt;</div><div class="line">		&lt;mapper resource=&quot;org/mybatis/md/dao/UserMapper.xml&quot; /&gt;</div><div class="line">	&lt;/mappers&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<h4 id="建立与数据库对应的-java-class-以及映射文件"><a href="#建立与数据库对应的-java-class-以及映射文件" class="headerlink" title="建立与数据库对应的 java class,以及映射文件"></a>建立与数据库对应的 java class,以及映射文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">package com.ghg.md.domain;</div><div class="line"></div><div class="line">public class UserDo &#123;</div><div class="line">	/**</div><div class="line">	 * 用户ID</div><div class="line">	 */</div><div class="line">	private int id;</div><div class="line">	/**</div><div class="line">	 * 用户名</div><div class="line">	 */</div><div class="line">	private String userName;</div><div class="line">	/**</div><div class="line">	 * 用户年龄</div><div class="line">	 */</div><div class="line">	private int userAge;</div><div class="line">	/**</div><div class="line">	 * 用户地址</div><div class="line">	 */</div><div class="line">	private String userAddress;</div><div class="line">	public UserDo() &#123;</div><div class="line">		super();</div><div class="line">		// TODO Auto-generated constructor stub</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	public UserDo(int id, String userName, int userAge, String userAddress) &#123;</div><div class="line">		super();</div><div class="line">		this.id = id;</div><div class="line">		this.userName = userName;</div><div class="line">		this.userAge = userAge;</div><div class="line">		this.userAddress = userAddress;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public int getId() &#123;</div><div class="line">		return id;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setId(int id) &#123;</div><div class="line">		this.id = id;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public String getUserName() &#123;</div><div class="line">		return userName;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setUserName(String userName) &#123;</div><div class="line">		this.userName = userName;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public int getUserAge() &#123;</div><div class="line">		return userAge;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setUserAge(int userAge) &#123;</div><div class="line">		this.userAge = userAge;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public String getUserAddress() &#123;</div><div class="line">		return userAddress;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setUserAddress(String userAddress) &#123;</div><div class="line">		this.userAddress = userAddress;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public String toString() &#123;</div><div class="line">		return &quot;UserDo [id=&quot; + id + &quot;, userName=&quot; + userName + &quot;, userAge=&quot; + userAge + &quot;, userAddress=&quot; + userAddress</div><div class="line">				+ &quot;]&quot;;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>dao接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">package com.ghg.md.dao;</div><div class="line"></div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">import com.ghg.md.domain.UserDo;</div><div class="line"></div><div class="line">/**</div><div class="line"> * dao</div><div class="line">* @ClassName: UserMapper</div><div class="line">* @Description: TODO(这里用一句话描述这个类的作用)</div><div class="line">* @author 刘楠</div><div class="line">* @date 2017-2-27 上午9:25:12</div><div class="line">*</div><div class="line"> */</div><div class="line">public interface UserMapper &#123;</div><div class="line"></div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 获取所有用户</div><div class="line">	* @Title: getAllUser</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @return    设定文件</div><div class="line">	* @return List&lt;UserDo&gt;    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public List&lt;UserDo&gt; getAllUser();</div><div class="line">	</div><div class="line">	</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * 根据ID查询用户</div><div class="line">	* @Title: selectUserByID</div><div class="line">	* @Description: TODO(这里用一句话描述这个方法的作用)</div><div class="line">	* @param @param id</div><div class="line">	* @param @return    设定文件</div><div class="line">	* @return UserDo    返回类型</div><div class="line">	* @throws</div><div class="line">	 */</div><div class="line">	public UserDo selectUserByID(int id);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</div><div class="line">&lt;!DOCTYPE mapper</div><div class="line">  PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</div><div class="line">  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</div><div class="line">&lt;mapper namespace=&quot;com.ghg.md.dao.UserMapper&quot;&gt;</div><div class="line"></div><div class="line"></div><div class="line">	&lt;!-- 根据ID查询用户 --&gt;</div><div class="line">	&lt;select id=&quot;selectUserByID&quot; parameterType=&quot;int&quot;</div><div class="line">		resultType=&quot;com.ghg.md.domain.UserDo&quot;&gt;</div><div class="line">		select * from user where id=#&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line">	&lt;!-- 查询全部用户信息 --&gt;</div><div class="line">	&lt;select id=&quot;getAllUser&quot; resultType=&quot;com.ghg.md.domain.UserDo&quot;&gt;</div><div class="line">		select * from user</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">&lt;/mapper&gt;</div></pre></td></tr></table></figure>
<p><img src="https://ln0491.github.io/img/mybatis2.png" alt="mybatis2.png"></p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">package com.ghg.md.test;</div><div class="line"></div><div class="line">import java.io.IOException;</div><div class="line">import java.io.Reader;</div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">import org.apache.ibatis.io.Resources;</div><div class="line">import org.apache.ibatis.session.SqlSession;</div><div class="line">import org.apache.ibatis.session.SqlSessionFactory;</div><div class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</div><div class="line">import org.slf4j.Logger;</div><div class="line">import org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line">import com.ghg.md.domain.UserDo;</div><div class="line"></div><div class="line">public class Test &#123;</div><div class="line"></div><div class="line">	private static SqlSessionFactory sqlSessionFactory;</div><div class="line">	private static Reader reader;</div><div class="line">	private static Logger logger = LoggerFactory.getLogger(Test.class);</div><div class="line"></div><div class="line">	public static void main(String[] args) &#123;</div><div class="line"></div><div class="line">		try &#123;</div><div class="line"></div><div class="line">			reader = Resources.getResourceAsReader(&quot;Configuration.xml&quot;);</div><div class="line"></div><div class="line">			sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);</div><div class="line"></div><div class="line">		&#125; catch (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		SqlSession session = sqlSessionFactory.openSession();</div><div class="line"></div><div class="line">		// 查询一个用户</div><div class="line">		UserDo userDo = session.selectOne(&quot;com.ghg.md.dao.UserMapper.selectUserByID&quot;, 1);</div><div class="line">		// 查询全部用户</div><div class="line">		List&lt;UserDo&gt; list = session.selectList(&quot;com.ghg.md.dao.UserMapper.getAllUser&quot;);</div><div class="line"></div><div class="line">		logger.info(&quot;查询一个用户：&#123;&#125;&quot;, userDo);</div><div class="line">		logger.info(&quot;查询全部用户：&#123;&#125;&quot;, list);</div><div class="line">		</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">10:03:53.622 [main] INFO  com.ghg.md.test.Test- 查询一个用户：UserDo [id=1, userName=summer, userAge=50, userAddress=广州]</div><div class="line">10:03:53.625 [main] INFO  com.ghg.md.test.Test- 查询全部用户：[UserDo [id=1, userName=summer, userAge=50, userAddress=广州], UserDo [id=2, userName=jack, userAge=25, userAddress=深圳], UserDo [id=3, userName=john, userAge=18, userAddress=上海]]</div></pre></td></tr></table></figure>
<h4 id="为userDo添加别名-在configuration-xml"><a href="#为userDo添加别名-在configuration-xml" class="headerlink" title="为userDo添加别名,在configuration.xml"></a>为userDo添加别名,在configuration.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">&lt;!--添加别名  --&gt;</div><div class="line">	&lt;typeAliases&gt; </div><div class="line">        &lt;typeAlias alias=&quot;UserDo&quot; type=&quot;com.ghg.md.domain.UserDo&quot;/&gt; </div><div class="line">    &lt;/typeAliases&gt;</div></pre></td></tr></table></figure>
<p>mapper.xml中可以直接使用，不需要全路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;mapper namespace=&quot;com.ghg.md.dao.UserMapper&quot;&gt;</div><div class="line"></div><div class="line"></div><div class="line">	&lt;!-- 根据ID查询用户 --&gt;</div><div class="line">	&lt;select id=&quot;selectUserByID&quot; parameterType=&quot;int&quot;</div><div class="line">		resultType=&quot;UserDo&quot;&gt;</div><div class="line">		select * from user where id=#&#123;id&#125;</div><div class="line">	&lt;/select&gt;</div><div class="line">	&lt;!-- 查询全部用户信息 --&gt;</div><div class="line">	&lt;select id=&quot;getAllUser&quot; resultType=&quot;UserDo&quot;&gt;</div><div class="line">		select * from user</div><div class="line">	&lt;/select&gt;</div><div class="line"></div><div class="line">&lt;/mapper&gt;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mybatis入门一&quot;&gt;&lt;a href=&quot;#mybatis入门一&quot; class=&quot;headerlink&quot; title=&quot;mybatis入门一&quot;&gt;&lt;/a&gt;mybatis入门一&lt;/h3&gt;&lt;h4 id=&quot;环境搭建&quot;&gt;&lt;a href=&quot;#环境搭建&quot; class=&quot;head
    
    </summary>
    
      <category term="mybatis" scheme="https://ln0491.github.io/categories/mybatis/"/>
    
    
      <category term="mybatis" scheme="https://ln0491.github.io/tags/mybatis/"/>
    
  </entry>
  
  <entry>
    <title>logback常用配置详解</title>
    <link href="https://ln0491.github.io/2017/02/24/logback%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/"/>
    <id>https://ln0491.github.io/2017/02/24/logback常用配置详解/</id>
    <published>2017-02-24T01:55:10.000Z</published>
    <updated>2017-02-24T07:22:05.349Z</updated>
    
    <content type="html"><![CDATA[<h3 id="logback常用配置详解"><a href="#logback常用配置详解" class="headerlink" title="logback常用配置详解"></a>logback常用配置详解</h3><h4 id="什么是-logback"><a href="#什么是-logback" class="headerlink" title="什么是 logback"></a>什么是 logback</h4><p>Logback 为取代 log4j 而生.<br>Logback 由 log4j 的创立者 Ceki Gülcü 设计。以十多年设计工业级记录系统的经验为基<br>础，所创建的 logback 比现有任何记录系统更快、占用资源更少，有时差距非常大。<br>Logback 提供独特而实用的特性，比如 Marker、参数化记录语句、条件化堆栈跟踪和强<br>大的事件过滤功能。以上列出的仅仅是 logbook 实用特性的一小部分。<br>对于自身的错误报告，logback 依赖状态（Status）对象，状态对象极大地简化了故障查<br>找。你也许想在上下文中使用状态对象而不是记录。<br>Logback-core 附带了 Joran，Joran 是个强大的、通用的配置系统，你可以在自己的项目<br>里使用 Joran 以获得巨大的作用</p>
<h4 id="第一步集成"><a href="#第一步集成" class="headerlink" title="第一步集成"></a>第一步集成</h4><p>Logback-classic 依赖 slf4j-api.jar 和 logback-core.jar。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div class="line">	xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</div><div class="line">	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</div><div class="line">	&lt;groupId&gt;com.ghg&lt;/groupId&gt;</div><div class="line">	&lt;artifactId&gt;logback&lt;/artifactId&gt;</div><div class="line">	&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</div><div class="line"></div><div class="line"></div><div class="line">	&lt;dependencies&gt;</div><div class="line">		&lt;!--slf4j --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;1.7.23&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line">		&lt;!-- logback --&gt;</div><div class="line">		&lt;!-- classic会自动引入core --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;1.2.1&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line">		&lt;!--非必需  --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;logback-core&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;1.2.1&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line">		&lt;!--非必需  --&gt;</div><div class="line">		&lt;dependency&gt;</div><div class="line">			&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</div><div class="line">			&lt;artifactId&gt;logback-access&lt;/artifactId&gt;</div><div class="line">			&lt;version&gt;1.2.1&lt;/version&gt;</div><div class="line">		&lt;/dependency&gt;</div><div class="line"></div><div class="line">	&lt;/dependencies&gt;</div><div class="line">	&lt;build /&gt;</div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure></p>
<p>简单输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">package com.ghg.logback.demo1;</div><div class="line"></div><div class="line">import org.slf4j.Logger;</div><div class="line">import org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line">public class HelloWorld &#123;</div><div class="line">	//声明org.slf4j.Logger 通过工厂获取</div><div class="line">	private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);</div><div class="line">	</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		</div><div class="line">		logger.debug(&quot;Hello ,World!.&quot;);</div><div class="line">		logger.info(&quot;Hello ,World!.&quot;);</div><div class="line">		logger.warn(&quot;Hello ,World!.&quot;);</div><div class="line">		logger.error(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>SLF4J API 定义的 Logger 类和 LoggerFactory 类，更明确地说是<br>定义在 org.slf4j 包里的两个类<br>结果:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">10:05:08.086 [main] DEBUG com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:05:08.089 [main] INFO com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:05:08.089 [main] WARN com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:05:08.089 [main] ERROR com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div></pre></td></tr></table></figure></p>
<p>Logback 可以通过内置的状态系统来报告其内部状态。通过 StatusManager 组件可以访<br>问 logback 生命期内发生的重要事件。目前，我们调用 StatusPrinter 类的 print()方法来打印<br>logback 的内部状态。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">package com.ghg.logback.demo1;</div><div class="line"></div><div class="line">import org.slf4j.Logger;</div><div class="line">import org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line">import ch.qos.logback.classic.LoggerContext;</div><div class="line">import ch.qos.logback.core.util.StatusPrinter;</div><div class="line"></div><div class="line">public class HelloWorld &#123;</div><div class="line">	//声明org.slf4j.Logger 通过工厂获取</div><div class="line">	private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * The main method.</div><div class="line">	 *</div><div class="line">	 * @param args the arguments</div><div class="line">	 */</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();</div><div class="line">		logger.debug(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.info(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.warn(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.error(&quot;Hello ,World!.&quot;);</div><div class="line">	</div><div class="line">		StatusPrinter.print(loggerContext);</div><div class="line">		</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">10:09:16.054 [main] DEBUG com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:09:16.056 [main] INFO com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:09:16.056 [main] WARN com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:09:16.056 [main] ERROR com.ghg.logback.demo1.HelloWorld - Hello ,World!.</div><div class="line">10:09:16,026 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]</div><div class="line">10:09:16,026 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]</div><div class="line">10:09:16,026 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]</div><div class="line">10:09:16,029 |-INFO in ch.qos.logback.classic.BasicConfigurator@557485ac - Setting up default configuration.</div></pre></td></tr></table></figure></p>
<p>结构:</p>
<ul>
<li>第一个字段是自程序启动以来的逝去时间，单位是毫秒。</li>
<li>第二个地段发出记录请求的线程。</li>
<li>第三个字段是记录请求的级别。</li>
<li>第四个字段是与记录请求关联的 logger 的名称。</li>
<li>“-”之后是请求的消息文字。</li>
</ul>
<p>Logback 说它没有找到配置文件 logback-test.xml 、logback.groovy和 logback.xml，于是用默<br>认策略进行配置，即用一个基本的 ConsoleAppender。Appender 类可被视为输出目的地的。<br>Appender 包含许多不同类型的目的地，包括控制台、文件、Syslog、TCP 套接字、JMS 和<br>其他。用户可以很容易地自定义 Appender。</p>
<h4 id="在应程序里启用记录的三个必需步骤如下"><a href="#在应程序里启用记录的三个必需步骤如下" class="headerlink" title="在应程序里启用记录的三个必需步骤如下"></a>在应程序里启用记录的三个必需步骤如下</h4><ol>
<li>配置 logback 环境。引入依赖，JAR之类</li>
<li><p>在每个需要执行记录的类里，调用 org.slf4j.LoggerFactory 类的 getLogger()方法获<br>取一个 Logger 实例，以当前类名或类本身作为参数。</p>
</li>
<li><p>调用取得的 logger 实例的打印方法，即 debug()、info()、warn()和 error()，把记录<br>输出到配置里的各 appender。</p>
</li>
</ol>
<h4 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h4><h5 id="logback-的体系结构"><a href="#logback-的体系结构" class="headerlink" title="logback  的体系结构"></a>logback  的体系结构</h5><p>Logback 的基本结构充分通用，可应用于各种不同环境。目前，logback 分为三个模块：<br>Core、Classic 和 Access<br>Core模块是其他两个模块的基础。Classic 模块扩展了core模块。Classic 模块相当于 log4j<br>的显著改进版。Logback-classic 直接实现了 SLF4J API，因此你可以在 logback 与其他记录<br>系统如 log4j 和 java.util.logging (JUL)之间轻松互相切换。Access 模块与 Servlet 容器集成，<br>提供 HTTP 访问记录功能</p>
<p>这里，“logback”代表 logback-classic 模块。引入时只需要引入这个就可以使用logback了</p>
<h5 id="Logger-、Appender-和-和-Layout"><a href="#Logger-、Appender-和-和-Layout" class="headerlink" title="Logger 、Appender 和 和 Layout"></a>Logger 、Appender 和 和 Layout</h5><p>Logback 建立于三个主要类之上：Logger、Appender 和 Layout。这三种组件协同工作，<br>使开发者可以按照消息类型和级别来记录消息，还可以在程序运行期内控制消息的输出格式<br>和输出目的地。<br>Logger类是logback-classic 模块的一部分，而Appender和Layout接口来自logback-core。<br>作为一个多用途模块，logback-core 不包含任何 logger。</p>
<p>Logger 是命名了的实体:<br>如果 logger  的名称带上一个点号后是另外一个 logger  的名称的前缀，那么， 前者 就被<br>称为 后者的祖先。 如果 logger  与代 其后代 logger  之间没有其他祖先， 那么，前者就被称为子<br>logger  之 父。<br>比如，名为“com.foo””的 logger 是名为“com.foo.Bar”之父。同理， “java”是“java.util””<br>之父，也是“java.util.Vector”的祖先。<br>根 logger 位于 logger 等级的最顶端，它的特别之处是它是每个层次等级的共同始祖。<br>如同其他各 logger，根 logger 可以通过其名称取得，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Logger logger =LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);</div><div class="line"></div><div class="line">logger.error(logger.getName());</div></pre></td></tr></table></figure></p>
<p>结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">10:17:54.385 [main] ERROR ROOT - ROOT</div></pre></td></tr></table></figure></p>
<p>其他所有 logger 也通过 org.slf4j.LoggerFactory 类的静态方法 getLogger 取得。getLogger<br>方法以 logger 名称为参数</p>
<h5 id="有效-级别（Level-）-即-级别-继承"><a href="#有效-级别（Level-）-即-级别-继承" class="headerlink" title="有效 级别（Level ） 即 级别 继承"></a>有效 级别（Level ） 即 级别 继承</h5><p>Logger 可以被分配级别。级别包括：TRACE、DEBUG、INFO、WARN 和 ERROR，定<br>义于 ch.qos.logback.classic.Level 类。注意在 logback 里，Level 类是 final 的，不能被继承，<br>Marker 对象提供了更灵活的方法。</p>
<p>为确保所有 logger 都能够最终继承一个级别，根 logger 总是有级别，默认情况下，这<br>个级别是 DEBUG</p>
<p>logger L 的有效级别 等于其层次等级里的第一个非 null  级别， 顺序是从 从 L 开始， 向上<br>直至根 根 logger</p>
<h4 id="logback配置"><a href="#logback配置" class="headerlink" title="logback配置"></a>logback配置</h4><p>Logback 可以通过编程式配置，或用 XML 格式的配置文件进行配置</p>
<p>Logback 采取下面的步骤进行自我配置：</p>
<ol>
<li>尝试在 classpath 下查找文件 logback-test.xml；</li>
<li>如果文件不存在，则查找文件 logback.xml；</li>
<li>如果两个文件都不存在，logback 用 BasicConfigurator 自动对自己进行配置，这会<br>导致记录输出到控制台。<br>第三步也是最后一步是为了在缺少配置文件时提供默认（但基本的）记录功能</li>
</ol>
<h5 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h5><p>不需要写配置文件直接使用，如开头的例子，日志会输出到控制台<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">package com.ghg.logback.demo1;</div><div class="line"></div><div class="line">import org.slf4j.Logger;</div><div class="line">import org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line">import ch.qos.logback.classic.LoggerContext;</div><div class="line">import ch.qos.logback.core.util.StatusPrinter;</div><div class="line"></div><div class="line">public class HelloWorld &#123;</div><div class="line">	//声明org.slf4j.Logger 通过工厂获取</div><div class="line">	private static final Logger logger = LoggerFactory.getLogger(HelloWorld.class);</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * The main method.</div><div class="line">	 *</div><div class="line">	 * @param args the arguments</div><div class="line">	 */</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">		LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();</div><div class="line">		logger.debug(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.info(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.warn(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.error(&quot;Hello ,World!.&quot;);</div><div class="line">	</div><div class="line">		StatusPrinter.print(loggerContext);</div><div class="line">		</div><div class="line">		Logger logger =LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);</div><div class="line">		</div><div class="line">		logger.error(logger.getName());</div><div class="line">		</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="logback-test-xml-或-或-logback-xml-自动-配置"><a href="#logback-test-xml-或-或-logback-xml-自动-配置" class="headerlink" title="logback-test.xml 或 或 logback.xml  自动 配置"></a>logback-test.xml 或 或 logback.xml  自动 配置</h5><p>如果 classpath 里有 logback-test.xml 或 logback.xml，logback 会试图用它进<br>行自我配置,在resources目录下，建立logback.xml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;!--指定输出目的地为控制台 ch.qos.logback.core.ConsoleAppender name可以随意写 --&gt;</div><div class="line">	&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</div><div class="line">		&lt;!--指定输出规则 --&gt;</div><div class="line">		&lt;encoder&gt;</div><div class="line">			&lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125;- %msg%n</div><div class="line">			&lt;/pattern&gt;</div><div class="line">		&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;!--过滤输出级别，在这个之上的才会输出  --&gt;</div><div class="line">	&lt;root level=&quot;info&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<p>代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">package com.ghg.logback.demo1;</div><div class="line"></div><div class="line">import org.slf4j.Logger;</div><div class="line">import org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line">import ch.qos.logback.classic.LoggerContext;</div><div class="line">import ch.qos.logback.core.util.StatusPrinter;</div><div class="line"></div><div class="line">public class HelloWorld1 &#123;</div><div class="line">	//声明org.slf4j.Logger 通过工厂获取</div><div class="line">	private static final Logger logger = LoggerFactory.getLogger(HelloWorld1.class);</div><div class="line">	</div><div class="line">	/**</div><div class="line">	 * The main method.</div><div class="line">	 *</div><div class="line">	 * @param args the arguments</div><div class="line">	 */</div><div class="line">	public static void main(String[] args) &#123;</div><div class="line">	</div><div class="line">		LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();</div><div class="line">		logger.debug(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.info(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.warn(&quot;Hello ,World!.&quot;);</div><div class="line">		</div><div class="line">		logger.error(&quot;Hello ,World!.&quot;);</div><div class="line">	</div><div class="line">		</div><div class="line">		StatusPrinter.print(loggerContext);</div><div class="line">	</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">10:39:11.621 [main] INFO  com.ghg.logback.demo1.HelloWorld1- Hello ,World!.</div><div class="line">10:39:11.623 [main] WARN  com.ghg.logback.demo1.HelloWorld1- Hello ,World!.</div><div class="line">10:39:11.623 [main] ERROR com.ghg.logback.demo1.HelloWorld1- Hello ,World!.</div><div class="line">.....省略</div><div class="line">10:41:50,877 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]</div><div class="line">10:41:50,877 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]</div><div class="line">10:41:50,877 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/D:/myeclipsework/logback/target/classes/logback.xml]</div><div class="line">10:41:50,925 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set</div><div class="line">10:41:50,926 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]</div><div class="line">10:41:50,932 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]</div><div class="line">10:41:50,937 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property</div><div class="line">10:41:50,974 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to INFO</div><div class="line">10:41:50,974 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]</div><div class="line">10:41:50,975 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.</div><div class="line">10:41:50,976 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@14874647 - Registering current configuration as safe fallback point</div></pre></td></tr></table></figure></p>
<p>发现只有INFO之上的才输出，DEBUG并没有输出,同时也提示找到了Found resource [logback.xml]</p>
<p>可以不用从代码里调用 StatusPrinter，而是在配置文件里进行相关配置，即使没有出现<br>错误。方法是，设置 configuration 元素的 debug 属性为 true。请注意 debug 属性只与状态数<br>据有关，它不影响 logback 的配置，更不会影响记录级别</p>
<h5 id="debug模式，"><a href="#debug模式，" class="headerlink" title="debug模式，"></a>debug模式，</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;configuration debug=&quot;true&quot;&gt;</div></pre></td></tr></table></figure>
<p>加个这段就不需要使用StatusPrinter进行打印了<br>把 configuration 元素的 debug 属性设为 true 后，会输出状态信息，但是前提是：</p>
<ol>
<li>找到了配置文件；</li>
<li>配置文件是格式化良好的 XML</li>
</ol>
<h5 id="配置文件修改后自动重新加载"><a href="#配置文件修改后自动重新加载" class="headerlink" title="配置文件修改后自动重新加载"></a>配置文件修改后自动重新加载</h5><p>如果设置成自动重新加载，logback-classic 会扫描配置文件里的变化，并且当发生变化<br>后进行重新配置。设置访方法是设 configuration 元素的 scan 属性为 true。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;configuration debug=&quot;true&quot; scan=&quot;true&quot;&gt;</div><div class="line">...</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<p>默认情况下，每隔一分钟扫描一次。configuration 元素的 scanPeriod 属性控制扫描周期，<br>其值可以带时间单位，包括：milliseconds、seconds、minutes 和 hours。<br>指定不同的扫描周期<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;configuration debug=&quot;true&quot; scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;</div><div class="line">...</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure></p>
<p>如果没写明时间单位，则默认为毫秒</p>
<h5 id="查看状态消息"><a href="#查看状态消息" class="headerlink" title="查看状态消息"></a>查看状态消息</h5><p>Logback 把内部数据放在一个 StatusManager 对象里，并通过 LoggerContext 访问<br>StatusManager 通过 logback 上下文来访问所有数据对象。为把内存占用保持在合理的范<br>围内，默认的 StatusManager 实现将状态消息按头和尾两部分存储。头部存储开始的 H 条状<br>态消息，尾部存储后面的 T 条消息。现在的 H=T=150，将来或许会改变</p>
<p>Logback-classic 带了一个叫 ViewStatusMessagesServlet 的 Servlet，它以 HTML 表格的格<br>式打印与当前 LoggerContext 关联的 StatusManager 的内容</p>
<p><img src="https://ln0491.github.io/img/logbackstatuslook.png" alt="logbackstatuslook.png"></p>
<p>要加到自己的 web 应用程序里，可以在 WEB-INF/web.xml 里添加如下内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;servlet&gt;</div><div class="line">		&lt;servlet-name&gt;ViewStatusMessages&lt;/servlet-name&gt;</div><div class="line">		&lt;servlet-class&gt;ch.qos.logback.classic.ViewStatusMessagesServlet&lt;/servlet-class&gt;</div><div class="line">	&lt;/servlet&gt;</div><div class="line">	&lt;servlet-mapping&gt;</div><div class="line">		&lt;servlet-name&gt;ViewStatusMessages&lt;/servlet-name&gt;</div><div class="line">		&lt;url-pattern&gt;/lbClassicStatus&lt;/url-pattern&gt;</div><div class="line">	&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure></p>
<p>访问地址是 <a href="http://host/yourWebapp/lbClassicStatus" target="_blank" rel="external">http://host/yourWebapp/lbClassicStatus</a></p>
<h5 id="配置文件语法"><a href="#配置文件语法" class="headerlink" title="配置文件语法"></a>配置文件语法</h5><p>Logback 配置文件的语法非常灵活。正因为灵活，所以无法用 DTD 或 XML schema 进<br>行定义。尽管如此，可以这样描述配置文件的基本结构：以<configuration>开头，后面有零<br>个或多个<appender>元素，有零个或多个<logger>元素，有最多一个<root>元素。如下图所<br>示：</root></logger></appender></configuration></p>
<p><img src="https://ln0491.github.io/img/logbackconfig.png" alt="logbackconfig.png"></p>
<h6 id="标记名大小写敏感"><a href="#标记名大小写敏感" class="headerlink" title="标记名大小写敏感"></a>标记名大小写敏感</h6><p>从 logback 0.9.17 版起，标记名不区分大小些。比如，<logger>、<logger>和<logger><br>都是合法元素且表示同一个意思。按照隐式规则，标记名除了首字母外要区分大小写。因此，</logger></logger></logger></p>
<p><xyz>与<xyz>等价，但不等价于<xyz>。隐式规则一般遵循 Java 世界里常用的驼峰命名规<br>则。因为很难确定一个标记什么时候与显式动作相关，什么时候又与隐式动作相关，所以很<br>难说 XML 标记是否是大小写敏感。如果你不确定标记名的大小写，就用驼峰命名法，基本<br>不会错。</xyz></xyz></xyz></p>
<h6 id="配置logger或-元素"><a href="#配置logger或-元素" class="headerlink" title="配置logger或 元素"></a>配置logger或<logger> 元素</logger></h6><p>Logger 是用<logger>元素配置的。<logger>元素有且仅有一个 name 属性、一个可选的<br>level 属性和一个可选的 additivity 属性。<br>Level 属性的值大小写无关，其值为下面其中一个字符串：TRACE、DEBUG、INFO、<br>WARN、ERROR、ALL 和 OFF。还可以是一个特殊的字符串“INHERITED”或其同义词<br>“NULL”，表示强制继承上级的级别。</logger></logger></p>
<p><logger>元素可以包含零个或多个<appender-ref>元素，表示这个 appender 会被添加到<br>该 logger。强调一下，每个用<logger>元素声明的 logger，首先会移除所有 appender，然后<br>才添加引用了的 appender，所以如果 logger 没有引用任何 appender，就会失去所有 appender</logger></appender-ref></logger></p>
<p>####### 配置根logger或<root> 元素</root></p>
<p><root>元素配置根 logger。该元素有一个 level 属性。没有 name 属性，因为已经被命名<br>为“ROOT”。<br>Level 属性的值大小写无关，其值为下面其中一个字符串：TRACE、DEBUG、INFO、<br>WARN、ERROR、ALL 和 OFF。注意不能设置为“INHERITED” 或“NULL”。</root></p>
<p><logger>元素可以包含零个或多个<appender-ref>元素。与<logger>元素类似，声明<root><br>元素后，会先关闭然后移除全部当前 appender，只引用声明了的 appender。如果 root 元素没<br>有引用任何 appender，就会失去所有 appender</root></logger></appender-ref></logger></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div class="line">&lt;configuration debug=&quot;true&quot; scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;</div><div class="line">	&lt;!--指定输出目的地为控制台 ch.qos.logback.core.ConsoleAppender name可以随意写 --&gt;</div><div class="line">	&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</div><div class="line">		&lt;!--指定输出规则 --&gt;</div><div class="line">		&lt;encoder&gt;</div><div class="line">			&lt;pattern&gt;%d&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125;- %msg%n</div><div class="line">			&lt;/pattern&gt;</div><div class="line">		&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;logger name=&quot;org.springframework&quot; level=&quot;debug&quot; /&gt;</div><div class="line">	&lt;logger name=&quot;org.springframework.jdbc&quot; level=&quot;warn&quot; additivity=&quot;false&quot;/&gt;</div><div class="line">	&lt;!--过滤输出级别，在这个之上的才会输出  --&gt;</div><div class="line">	&lt;root level=&quot;info&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<p>#######  配置Appender<br>Appender 用<appender>元素配置，该元素必要属性 name 和 class。<br>name 属性指定 appender 的名称，class 属性指定 appender 类的全限定名。</appender></p>
<p><appender>元素可以包含零个或多个<layout>元素、零个或多个<encoder>元素和零个或<br>多个<filter>元素。除了这三个常用元素之外，还可以包含 appender 类的任意数量的 javabean<br>属性。</filter></encoder></layout></appender></p>
<p><layout>元素的 class 属性是必要的，表示将被实例化的 layout 类的全限定名。和</layout></p>
<p><appender>元素一样， <layout>元素可以包含 layout 的的 javabean 属性。因为太常用了，所<br>以当当 layout 是 PatternLayout 时，可以省略 class 属性</layout></appender></p>
<p><encoder>元素 class 属性是必要的，表示将被实例化的 encoder 类的全限定名。因为太<br>常用了，所以当当 encoder 是 PatternLayoutEncoder 时，可以省略 class 属性</encoder></p>
<p>记录输出到多个 appender 很简单，先定义各种 appender，然后在 logger 里进行引用，<br>就行了</p>
<h6 id="设置上下文名称"><a href="#设置上下文名称" class="headerlink" title="设置上下文名称"></a>设置上下文名称</h6><p>每个 logger 都关联到 logger 上下文。默认情况下，logger 上下文名为“default”。但是<br>你可以借助配置指令<contextname>设置成其他名字。注意一旦设置 logger 上下文名称后，<br>不能再改。设置上下文名称后，可以方便地区分来自不同应用程序的记录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 上下文建议为应用名称 --&gt;</div><div class="line">&lt;contextName&gt;logback&lt;/contextName&gt;</div></pre></td></tr></table></figure></contextname></p>
<h6 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;!--属性  --&gt;</div><div class="line">	&lt;property name=&quot;log_base&quot; value=&quot;/home/datas/logs/logback&quot; /&gt;</div><div class="line"></div><div class="line">	&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;</div><div class="line">		&lt;file&gt;$&#123;log_base&#125;/myApp.log&lt;/file&gt;</div><div class="line">		&lt;encoder&gt;</div><div class="line">			&lt;pattern&gt;%msg%n&lt;/pattern&gt;</div><div class="line">		&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">&lt;!--过滤输出级别，在这个之上的才会输出 --&gt;</div><div class="line">	&lt;root level=&quot;info&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;FILE&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div></pre></td></tr></table></figure>
<p>属性引用属性文件propertites<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;property file=&quot;src/main/java/chapters/configuration/variables1.properties&quot; /&gt;</div></pre></td></tr></table></figure></p>
<p>属性引用资源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;property resource=&quot;resource1.properties&quot; /&gt;</div></pre></td></tr></table></figure></p>
<p>文件包括<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;include file=&quot;src/main/java/chapters/configuration/includedConfig.xml&quot; /&gt;</div></pre></td></tr></table></figure></p>
<h4 id="Appender"><a href="#Appender" class="headerlink" title="Appender"></a>Appender</h4><h5 id="什么是Appender"><a href="#什么是Appender" class="headerlink" title="什么是Appender"></a>什么是Appender</h5><p>Appender 是 负 责 写 记 录 事 件 的 组 件 。 Appender 必 须 实 现 接 口”ch.qos.logback.core.Appender”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">package ch.qos.logback.core;</div><div class="line">import ch.qos.logback.core.spi.ContextAware;</div><div class="line">import ch.qos.logback.core.spi.FilterAttachable;</div><div class="line">import ch.qos.logback.core.spi.LifeCycle;</div><div class="line">public interface Appender&lt;E&gt; extends LifeCycle, ContextAware,</div><div class="line">FilterAttachable &#123;</div><div class="line">public String getName();</div><div class="line">public void setName(String name);</div><div class="line">void doAppend(E event);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Appender 接口里的多数方法都是 getter 和 setting。值得注意的是 doAppend()方法，它唯<br>一的参数是类型E的对象。类型E的实际类型视 logback模块的不同而不同。在 logback-classic<br>模块里，E 可能是“ILoggingEvent”类型；在 logback-access 模块里，E 可能是“AccessEvent”<br>类型。doAppend()方法也许是 logback 框架里最重要的方法，它负责以适当的格式将记录事<br>件输出到合适的设备。</p>
<p>Appender 是被命名的实体。因为有名字，所以能被引用。Appender 接口扩展了<br>FilterAttachable 接口，因此 appender 实例可被关联一个或多个过滤器</p>
<p>Appender 是最终负责输出记录事件的组件。然而，它们可以把实际格式化的任务委托<br>给Layout或Encoder对象。每个layout/encoder都关联到一个且仅一个appender。有些appender<br>有内置的或固定的事件格式，因此它们不需要也没有 layout/encoder。例如，SocketAppender<br>在发送记录事件之前只是简单地对其进行序列化。</p>
<h5 id="AppenderBase"><a href="#AppenderBase" class="headerlink" title="AppenderBase"></a>AppenderBase</h5><p>类 ch.qos.logback.core.AppenderBase 是实现了 Appender 接口的抽象类。AppenderBase<br>提供所有 appender 共享的基本功能，比如设置/获取名字的方法，其活动状态和过滤器。<br>AppenderBase 是 loback 里所有 appender 的超类。尽管是抽象类，AppenderBase 实际上实现<br>了 Appender 接口的 doAppend()方法</p>
<h5 id="OutputStreamAppender"><a href="#OutputStreamAppender" class="headerlink" title="OutputStreamAppender"></a>OutputStreamAppender</h5><p>OutputStreamAppender 把事件添加到 java.io.OutputStream。该类提供其他 appender 所需的基本服务。用户通常不直接实例化 OutputStreamAppender 对象。由于 java.io.OutputStream<br>一般无法被方便地映射到字符串，所以无法在配置文件里指定目标 OutputStream 对象。简<br>而言之，你不能在配置文件里配置 OutputStreamAppender。但这不是说 OutputStreamAppender<br>没有配置属性。它的属性如下。<br>属性名          类型              描述<br>encoder  Encoder  决定把事件写入到底层 OutputStreamAppender 的方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;encoder&gt;</div><div class="line">	&lt;pattern&gt;%date %-5level - %msg%n&lt;/pattern&gt;</div><div class="line">	&lt;charset&gt;UTF-8&lt;/charset&gt;</div><div class="line">&lt;/encoder&gt;</div></pre></td></tr></table></figure>
<p>OutputStreamAppender 是另外三个 appender 的超类：ConsoleAppender、FileAppender<br>及其直接子类 RollingFileAppender</p>
<p><img src="https://ln0491.github.io/img/outpustreamappender.png" alt="outpustreamappender.png"></p>
<h5 id="ConsoleAppender"><a href="#ConsoleAppender" class="headerlink" title="ConsoleAppender"></a>ConsoleAppender</h5><p>ConsoleAppender 把事件添加到控制台，更准确地说是 System.out 或 System.err，默认为前者。ConsoleAppender 按照用户指定的 encoder 对事件进行格式化。System.out 和 System.err都是 java.io.PrintStream 类型，因此，它们被包裹在有缓冲 I/O 操作的 OutputStreamWriter 里.</p>
<ul>
<li>encoder  Encoder  参见 OutputStreamAppender 属性</li>
<li>target  String字 符 串 “ System.out ” 或 “ System.err ”。 默 认 为“System.out”。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;appender name=&quot;STDOUT&quot;class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;</div><div class="line"></div><div class="line">	&lt;encoder&gt;</div><div class="line">		&lt;pattern&gt;%-4relative [%thread] %-5level - %msg%n&lt;/pattern&gt;</div><div class="line">	&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;root level=&quot;DEBUG&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<h5 id="FileAppender"><a href="#FileAppender" class="headerlink" title="FileAppender"></a>FileAppender</h5><p>FileAppender 是 OutputStreamAppender 的子类，把记录事件添加到文件。目标文件通过<br>File 选项指定。如果文件已经存在，则根据 Append 属性追加或清空文件</p>
<ul>
<li>append  boolean  如果 true，事件被追加到现存文件尾部。如果 false，清空现存文件。默认为 true。</li>
<li>encoder  Encoder  参见 OutputStreamAppender 属性</li>
<li>File  String  被写入的文件名。如果文件不存在，则创建之。没有默认值。如果文件的父目录不存在，FileAppender 会自动创建各<br>级不存在的目录。</li>
<li>prudent  boolean<br>在 prudent 模式下，FileAppender 将安全地写入指定文<br>件，即使其他 FileAppender 实例运行在不同 JVM 上，<br>比如运行在不同主机上。<br>prudent 默认值为 false。<br>prudent 模式意味着 Append 属性自动设为 true。<br>prudent 模式写记录事件时，大约消耗非 prudent 模式的<br>三倍。在一台“普通”的 PC 上，向本地硬盘写文件，<br>写一条记录事件，非 prudent 模式需要 10 微妙，prudent<br>模式需要 30 微妙。也就是非 prudent 模式每秒记录<br>100000 条事件，prudent 模式每秒 33000 条。<br>不同 JVM 写入同一个文件时，prudent 模式高效地排<br>列 I/O 操作。所以，由于访问文件的 JVM 的数量增加，<br>导致每次 I/O 操作都会有延迟。只要 I/O 操作的总数大<br>约是 20 次记录请求/秒，就可以忽略对性能的影响。每<br>秒 100 次或等多次 I/O 操作会影响性能，此时应当避免<br>prudent 模式。<br>prudent 模式可以与 RollingFileAppender 联合使用，但<br>有些限制。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;</div><div class="line">		&lt;file&gt;testFile.log&lt;/file&gt;</div><div class="line">		&lt;append&gt;true&lt;/append&gt;</div><div class="line"></div><div class="line">	&lt;encoder&gt;</div><div class="line">		&lt;pattern&gt;%-4relative [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt;</div><div class="line">	&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;root level=&quot;DEBUG&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;FILE&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<h5 id="文件名时间戳"><a href="#文件名时间戳" class="headerlink" title="文件名时间戳"></a>文件名时间戳</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line"></div><div class="line">		&lt;timestamp key=&quot;bySecond&quot; datePattern=&quot;yyyyMMdd&apos;T&apos;HHmmss&quot; /&gt;</div><div class="line">	&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;</div><div class="line"></div><div class="line">		&lt;file&gt;log-$&#123;bySecond&#125;.txt&lt;/file&gt;</div><div class="line">		&lt;encoder&gt;</div><div class="line">		&lt;pattern&gt;%logger&#123;35&#125; - %msg%n&lt;/pattern&gt;</div><div class="line"></div><div class="line">		&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;root level=&quot;DEBUG&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;FILE&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<p>timestamp 元素有两个属性：key 和 datePattern。属性 key 是变量名，对余下的配置元素<br>可用。属性 datePattern 表示把当前时间（解析配置文件的时间）转换成字符串时使用的日期<br>模式，遵从 java.text.SimpleDateFormat 里的约定</p>
<h5 id="RollingFileAppender"><a href="#RollingFileAppender" class="headerlink" title="RollingFileAppender"></a>RollingFileAppender</h5><p>RollingFileAppender 继承 FileAppender，能够滚动记录文件。例如，RollingFileAppender<br>能先记录到文件“log.txt”，然后当符合某个条件时，变成记录到其他文件。<br>RollingFileAppender 有两个与之互动的重要子组件。第一个是 RollingPolicy，负责滚动。<br>第二个是 TriggeringPolicy，决定是否以及何时进行滚动。所以，RollingPolicy 负责“什么”，<br>TriggeringPolicy 负责“何时”。<br>要想 RollingFileAppender 起作用，必须同时设置 RollingPolicy 和 TriggeringPolicy。不<br>过，如果 RollingPolicy 也实现了 TriggeringPolicy 接口，那么只需要设置 RollingPolicy</p>
<ul>
<li>file  String  参加 FileAppender 属性</li>
<li>append  boolean  参加 FileAppender 属性</li>
<li>encoder  Encoder  参见 OutputStreamAppender 属性</li>
<li>rollingPolicy  RollingPolicy  当发生滚动时，决定 RollingFileAppender 的行为。</li>
<li>triggeringPolicy  TriggeringPolicy  告知 RollingFileAppender 何时激活滚动。</li>
<li>prudent  boolean  prudent 模式下不支持 FixedWindowRollingPolicy。<br>RollingFileAppender 支 持 prudent 与TimeBasedRollingPolicy 的联合使用，但有两个限制：</li>
</ul>
<ol>
<li>在 prudent 模式，不支持也不允许文件压缩（不能<br>在一个 JVM 压缩文件时，让另一个 JVM 写文件）。</li>
<li>不能设置 FileAppender 的 file 属性，必须留空。实<br>际上，多数操作系统不允许当一个进程打开文件时<br>又重命名该文件</li>
</ol>
<h5 id="FixedWindowRollingPolicy"><a href="#FixedWindowRollingPolicy" class="headerlink" title="FixedWindowRollingPolicy"></a>FixedWindowRollingPolicy</h5><p>当发生滚动时，FixedWindowRollingPolicy 根据如下固定窗口（window）算法重命名文<br>件。<br>选项“fileNamePattern”代表归档（滚动）记录文件的文件名模式。该选项是必需的，<br>且必需在模式的某处包含标志“%i”。<br>下面是 FixedWindowRollingPolicy 的可用属性</p>
<ul>
<li>minIndex  int  窗口索引的最小值</li>
<li>maxIndex  int  窗口索引的最大值</li>
<li>fileNamePattern  String<br>例如，对于最小值和最大值分别是 1 和 3 的文件名模式<br>“MyLogFile%i.log”，会产生归档文件 MyLogFile1.log、<br>MyLogFile2.log 和 MyLogFile3.log。<br>该 属 性 还 可 以 指 定 文 件 压 缩 选 项 。 例 如<br>“MyLogFile%i.log.zip”表示归档文件必须用 zip 格式<br>进行压缩；还支持“.gz”格式。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</div><div class="line">		&lt;file&gt;testFile.log&lt;/file&gt;</div><div class="line">	&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;</div><div class="line">	&lt;fileNamePattern&gt;testFile.%i.log.zip&lt;/fileNamePattern&gt;</div><div class="line">	&lt;minIndex&gt;1&lt;/minIndex&gt;</div><div class="line">	&lt;maxIndex&gt;3&lt;/maxIndex&gt;</div><div class="line">	&lt;/rollingPolicy&gt;</div><div class="line">	&lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;</div><div class="line">		&lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;</div><div class="line">	&lt;/triggeringPolicy&gt;</div><div class="line">	&lt;encoder&gt;</div><div class="line">		&lt;pattern&gt;%-4relative [%thread] %-5level %logger&#123;35&#125; - %msg%n	&lt;/pattern&gt;</div><div class="line">	&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;root level=&quot;DEBUG&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;FILE&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<h5 id="TimeBasedRollingPolicy"><a href="#TimeBasedRollingPolicy" class="headerlink" title="TimeBasedRollingPolicy"></a>TimeBasedRollingPolicy</h5><p>TimeBasedRollingPolicy 或许是最受流行的滚动策略。它根据时间来制定滚动策略，例<br>如 根 据 日 或 月 。TimeBasedRollingPolicy 既 负 责 滚 动 也 负 责 触 发 滚 动 。 实 际 上 ，<br>TimeBasedRollingPolicy 同时实现了 RollingPolicy 接口和 TriggeringPolicy 接口。<br>TimeBasedRollingPolicy 有两个属性：必需的“fileNamePattern”和可选的“maxHistory”</p>
<ul>
<li>fileNamePattern  String<br>必需。定义滚动（归档）记录文件的名字。其值应当包含文件名及“%d”格式转换符。“%d”可以包含一个<br>java.text.SimpleDateFormat 指定的日期时间模式。如果没有指定日期时间模式，则默认为 yyyy-MM-dd。<br>RollingFileAppender（TimeBasedRollingPolicy 之父）的“file”选项可有可无。<br>通过设置“file”属性，可以为活动文件和归档文件指定不同的位置。当前记录总是被指向由“file”属性指<br>定的文件。如果有“file”属性，则活动文件的名字不会改变。而如果没有“file”属性，则活动文件的名字<br>会根据“fileNamePattern”的值每隔一段时间就重新计算一次。下面的例子会解释这点。<br>“ %d{} ” 里 的 日 期 时 间 模 式 遵 循java.text.SimpleDateFormat 的约定。在 fileNamePattern<br>或日期时间模式里的前置“/”或后置“\”会被当作目录分隔符。</li>
<li>maxHistory int</li>
</ul>
<p>控制被保留的归档文件的最大数量，超出数量就删除旧文件。例如，假设每月滚动，且 maxHistory 是 6，则只<br>保留最近 6 个月的归档文件，删除之前的文件。注意当删除旧归档文件时，那些为了归档而创建的目录也会被删除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;configuration&gt;</div><div class="line">	&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;</div><div class="line">		&lt;file&gt;logFile.log&lt;/file&gt;</div><div class="line">	&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;</div><div class="line"></div><div class="line">&lt;!-- keep 30 days worth of history --&gt;</div><div class="line">	&lt;maxHistory&gt;30&lt;/maxHistory&gt;</div><div class="line">	&lt;/rollingPolicy&gt;</div><div class="line">	&lt;encoder&gt;</div><div class="line">		&lt;pattern&gt;%-4relative [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt;</div><div class="line">	&lt;/encoder&gt;</div><div class="line">	&lt;/appender&gt;</div><div class="line">	&lt;root level=&quot;DEBUG&quot;&gt;</div><div class="line">		&lt;appender-ref ref=&quot;FILE&quot; /&gt;</div><div class="line">	&lt;/root&gt;</div><div class="line">&lt;/configuration&gt;</div></pre></td></tr></table></figure>
<h4 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h4><p>Encoder 负责两件事，一是把事件转换为字节数组，二是把字节数组写入输出流。在<br>logback 0.9.19 版之前没有 encoder。在之前的版本里，多数 appender 依靠 layout 来把事件转<br>换成字符串并用 java.io.Writer 把字符串输出。在之前的版本里，用户需要在 FileAppender<br>里嵌入一个 PatternLayout。而从 0.9.19 版开始，FileAppender 和其子类使用 encoder，不接<br>受 layout</p>
<h4 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h4><p>Layout 负责把事件转换成字符串。Layout 接口的 format()方法的参数是代表任何类型的<br>事件，返回字符串</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;logback常用配置详解&quot;&gt;&lt;a href=&quot;#logback常用配置详解&quot; class=&quot;headerlink&quot; title=&quot;logback常用配置详解&quot;&gt;&lt;/a&gt;logback常用配置详解&lt;/h3&gt;&lt;h4 id=&quot;什么是-logback&quot;&gt;&lt;a href=
    
    </summary>
    
      <category term="logback" scheme="https://ln0491.github.io/categories/logback/"/>
    
    
      <category term="logback" scheme="https://ln0491.github.io/tags/logback/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十九系统信息函数</title>
    <link href="https://ln0491.github.io/2017/02/17/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%B9%9D%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0/"/>
    <id>https://ln0491.github.io/2017/02/17/mysql学习十九系统信息函数/</id>
    <published>2017-02-17T05:23:58.000Z</published>
    <updated>2017-02-17T07:04:29.268Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十九系统信息函数"><a href="#mysql学习十九系统信息函数" class="headerlink" title="mysql学习十九系统信息函数"></a>mysql学习十九系统信息函数</h3><ul>
<li>version() 返回数据库版本号</li>
<li>DATABASE() 返回当前数据库名</li>
<li>USER() 返回当前用户</li>
<li>LAST_INSERT_ID() 返回最近生成的AUTO_INCREMENT值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select version(),database(),user();</div><div class="line">+------------+------------+----------------+</div><div class="line">| version()  | database() | user()         |</div><div class="line">+------------+------------+----------------+</div><div class="line">| 5.7.17-log | company    | root@localhost |</div><div class="line">+------------+------------+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="获取AUTO-INCREMENT约束的最后ID值"><a href="#获取AUTO-INCREMENT约束的最后ID值" class="headerlink" title="获取AUTO_INCREMENT约束的最后ID值"></a>获取AUTO_INCREMENT约束的最后ID值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE IF NOT EXISTS t_autoincrement(</div><div class="line">id INT(11) PRIMARY KEY AUTO_INCREMENT </div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div><div class="line">INSERT INTO t_autoincrement VALUES(NULL);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">SELECT LAST_INSERT_ID();</div><div class="line">mysql&gt; select last_insert_id();</div><div class="line">+------------------+</div><div class="line">| last_insert_id() |</div><div class="line">+------------------+</div><div class="line">|               6 |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)\</div></pre></td></tr></table></figure>
<h4 id="其它的函数"><a href="#其它的函数" class="headerlink" title="其它的函数"></a>其它的函数</h4><ul>
<li>IF(value,t f) 如果value是真，返回t，否则返回f</li>
<li>IFNULL(value1,value2) 如果value1不为空返回value1，否则返回value2</li>
<li>CASE WHEN [value1] THEN[result1]…ELSE[default] END 如果value1是真，返回result1，否则返回default</li>
<li>CASE [expr]WHEN[value1] THEN[result1]…ELSE[default] END 如果expr等于value1，返回result1，否则返回default</li>
<li>PASSWORD(str)  实现对字符串str进行加密</li>
<li>FORMAT(x,n) 实现将数字x进行格式化，保留n位小数</li>
<li>INET_ATON(ip) 实现将IP地址转换成数字</li>
<li>INET_NTOA(x) 实现将数字转换成IP</li>
<li>GET_LOCT(name,time) 创建一个持续时间为time的名为name的锁</li>
<li>RELEASE_LOCT(name) 为名为name的锁进行解锁</li>
<li>BENCHMARK(count,expr) 实现将表达式重复执行count次</li>
<li>CONVERT(s USING cs) 实现将字符串s的字符集变成cs</li>
<li>CONV(N,from_base,to_base)函数</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十九系统信息函数&quot;&gt;&lt;a href=&quot;#mysql学习十九系统信息函数&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十九系统信息函数&quot;&gt;&lt;/a&gt;mysql学习十九系统信息函数&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;version() 返回
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十八日期函数</title>
    <link href="https://ln0491.github.io/2017/02/17/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E5%85%AB%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/"/>
    <id>https://ln0491.github.io/2017/02/17/mysql学习十八日期函数/</id>
    <published>2017-02-17T05:23:48.000Z</published>
    <updated>2017-02-17T08:37:02.171Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十八日期函数"><a href="#mysql学习十八日期函数" class="headerlink" title="mysql学习十八日期函数"></a>mysql学习十八日期函数</h3><ul>
<li>CURDATE() 获取当前日期</li>
<li>CURTIME() 获取当前时间</li>
<li>NOW() 获取前的日期和时间</li>
<li>UNIX_TIMESTAMP(DATE) 获取日期DATE的UNIX时间戳</li>
<li>FROM_UNIXTIME()获取UNIX时间戳的日期值</li>
<li>WEEK（date） 返日期DATE为一年中的第几周</li>
<li>YEAR(DATE)返回日期DATE的年份</li>
<li>HOUR(TIME) 返回时间 为TIME的小时值</li>
<li>MINUTE(TIME)返回时间为TIME的分钟值</li>
<li>MONTHNAME(DATE)返回时间TIME的月份值</li>
</ul>
<h4 id="获取当前的时间和时间"><a href="#获取当前的时间和时间" class="headerlink" title="获取当前的时间和时间"></a>获取当前的时间和时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW() now方式,CURRENT_TIMESTAMP() timestamp方式,LOCALTIME() localtime方式,SYSDATE() sysdate方式;</div><div class="line">+---------------------+---------------------+---------------------+---------------------+</div><div class="line">| now方式             | timestamp方式       | localtime方式       | sysdate方式         |</div><div class="line">+---------------------+---------------------+---------------------+---------------------+</div><div class="line">| 2017-02-17 15:11:36 | 2017-02-17 15:11:36 | 2017-02-17 15:11:36 | 2017-02-17 15:11:36 |</div><div class="line">+---------------------+---------------------+---------------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>可以获取当前时间，同一种格式显示日期和时间</p>
<h4 id="获取当前日期"><a href="#获取当前日期" class="headerlink" title="获取当前日期"></a>获取当前日期</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select curdate() curdate方式,current_date() current_date方式;</div><div class="line">+---------------+--------------------+</div><div class="line">| curdate方式   | current_date方式   |</div><div class="line">+---------------+--------------------+</div><div class="line">| 2017-02-17    | 2017-02-17         |</div><div class="line">+---------------+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="获取当前时间"><a href="#获取当前时间" class="headerlink" title="获取当前时间"></a>获取当前时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select curtime() curtime方式,current_time current_time方式;</div><div class="line">+---------------+--------------------+</div><div class="line">| curtime方式   | current_time方式   |</div><div class="line">+---------------+--------------------+</div><div class="line">| 15:14:48      | 15:14:48           |</div><div class="line">+---------------+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="通过UNIX方式显示日期和时间"><a href="#通过UNIX方式显示日期和时间" class="headerlink" title="通过UNIX方式显示日期和时间"></a>通过UNIX方式显示日期和时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW() 当前时间,UNIX_TIMESTAMP(NOW()) unix方式,FROM_UNIXTIME(UNIX_TIMESTAMP(NOW())) 普通方式;</div><div class="line">+---------------------+------------+---------------------+</div><div class="line">| 当前时间            | unix方式   | 普通方式            |</div><div class="line">+---------------------+------------+---------------------+</div><div class="line">| 2017-02-17 15:17:53 | 1487315873 | 2017-02-17 15:17:53 |</div><div class="line">+---------------------+------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>UNIX_TIMESTAMP(),UNIX_TIMESTAMP(NOW())<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW(),UNIX_TIMESTAMP(),UNIX_TIMESTAMP(NOW());</div><div class="line">+---------------------+------------------+-----------------------+</div><div class="line">| NOW()               | UNIX_TIMESTAMP() | UNIX_TIMESTAMP(NOW()) |</div><div class="line">+---------------------+------------------+-----------------------+</div><div class="line">| 2017-02-17 15:19:17 |       1487315957 |            1487315957 |</div><div class="line">+---------------------+------------------+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>UNIX_TIMESTAMP(),UNIX_TIMESTAMP(NOW())返回相同的时间戳</p>
<h4 id="通过UTC的方式显示日期和时间"><a href="#通过UTC的方式显示日期和时间" class="headerlink" title="通过UTC的方式显示日期和时间"></a>通过UTC的方式显示日期和时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW(),UTC_DATE(),UTC_TIME();</div><div class="line">+---------------------+------------+------------+</div><div class="line">| NOW()               | UTC_DATE() | UTC_TIME() |</div><div class="line">+---------------------+------------+------------+</div><div class="line">| 2017-02-17 15:20:42 | 2017-02-17 | 07:20:42   |</div><div class="line">+---------------------+------------+------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="获取日期和时间各部分的值"><a href="#获取日期和时间各部分的值" class="headerlink" title="获取日期和时间各部分的值"></a>获取日期和时间各部分的值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW() 当前时间,YEAR(NOW()) 年,MONTH(NOW()) 月,DAY(NOW())日,QUARTER(NOW()) 季度,WEEK(NOW()) 星期,DAYOFMONTH(NOW())月中天,HOUR(NOW())时,MINUTE(NOW())分,SECOND(NOW())秒;</div><div class="line">+---------------------+------+------+------+--------+--------+-----------+------+------+------+</div><div class="line">| 当前时间            | 年   | 月   | 日   | 季度   | 星期   | 月中天    | 时   | 分   | 秒   |</div><div class="line">+---------------------+------+------+------+--------+--------+-----------+------+------+------+</div><div class="line">| 2017-02-17 15:24:32 | 2017 |    2 |   17 |      1 |      7 |        17 |   15 |   24 |   32 |</div><div class="line">+---------------------+------+------+------+--------+--------+-----------+------+------+------+</div></pre></td></tr></table></figure>
<h4 id="月的函数"><a href="#月的函数" class="headerlink" title="月的函数"></a>月的函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select now(), month(now()),monthname(now());</div><div class="line">+---------------------+--------------+------------------+</div><div class="line">| now()               | month(now()) | monthname(now()) |</div><div class="line">+---------------------+--------------+------------------+</div><div class="line">| 2017-02-17 15:26:04 |            2 | February         |</div><div class="line">+---------------------+--------------+------------------+</div><div class="line">1 row in set (0.01 sec)</div></pre></td></tr></table></figure>
<h4 id="星期"><a href="#星期" class="headerlink" title="星期"></a>星期</h4><ul>
<li>WEEK()和WEEKOFYEAR（）返回日期和时间中星期都是当前年的第几个星期1-53</li>
<li>DAYNAME()返回日期和时间中星期的英文名</li>
<li>DAYOFWEEK()返回星期几1-7</li>
<li>WEEKDAY()返回星期几0-6</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW()当前时间,WEEK(NOW()),WEEKOFYEAR(NOW()),DAYNAME(NOW()),DAYOFWEEK(NOW()),WEEKDAY(NOW());</div><div class="line">+---------------------+-------------+-------------------+----------------+------------------+----------------+</div><div class="line">| 当前时间            | WEEK(NOW()) | WEEKOFYEAR(NOW()) | DAYNAME(NOW()) | DAYOFWEEK(NOW()) | WEEKDAY(NOW()) |</div><div class="line">+---------------------+-------------+-------------------+----------------+------------------+----------------+</div><div class="line">| 2017-02-17 15:31:06 |           7 |                 7 | Friday         |                6 |              4 |</div><div class="line">+---------------------+-------------+-------------------+----------------+------------------+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="天"><a href="#天" class="headerlink" title="天"></a>天</h4><ul>
<li>DAYOFMONTH()日期属于当前月的第几天</li>
<li>DAY()日期属于当前月的第几天</li>
<li>DAYOFYEAR（）  本年的第几天</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW()当前时间,DAY(NOW()),DAYOFMONTH(NOW()),DAYOFYEAR(NOW());</div><div class="line">+---------------------+------------+-------------------+------------------+</div><div class="line">| 当前时间            | DAY(NOW()) | DAYOFMONTH(NOW()) | DAYOFYEAR(NOW()) |</div><div class="line">+---------------------+------------+-------------------+------------------+</div><div class="line">| 2017-02-17 15:32:56 |         17 |                17 |               48 |</div><div class="line">+---------------------+------------+-------------------+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="获取指定EXTRACT-函数"><a href="#获取指定EXTRACT-函数" class="headerlink" title="获取指定EXTRACT()函数"></a>获取指定EXTRACT()函数</h4><p>统一获取日期和时间的各部分值</p>
<p>extract(type from date);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW()当前时间,EXTRACT(YEAR FROM NOW()) 年,EXTRACT(MONTH FROM NOW())月,EXTRACT(DAY FROM NOW()) 日,EXTRACT(QUARTER FROM NOW())季,EXTRACT(WEEK FROM NOW())星期,EXTRACT(HOUR FROM NOW())时,EXTRACT(MINUTE FROM NOW())分,EXTRACT(SECOND FROM NOW());</div><div class="line">+---------------------+------+------+------+------+--------+------+------+----------------------------+</div><div class="line">| 当前时间            | 年   | 月   | 日   | 季   | 星期   | 时   | 分   | EXTRACT(SECOND FROM NOW()) |</div><div class="line">+---------------------+------+------+------+------+--------+------+------+----------------------------+</div><div class="line">| 2017-02-17 15:40:12 | 2017 |    2 |   17 |    1 |      7 |   15 |   40 |                         12 |</div><div class="line">+---------------------+------+------+------+------+--------+------+------+----------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="TO-DAYS-DATE-与FROM-DAYS-NUMBER"><a href="#TO-DAYS-DATE-与FROM-DAYS-NUMBER" class="headerlink" title="TO_DAYS(DATE)与FROM_DAYS(NUMBER)"></a>TO_DAYS(DATE)与FROM_DAYS(NUMBER)</h4><ul>
<li>TO_DAYS(DATE) 计算日期参数与默认日期0000年1月1日）之间的天数</li>
<li>FROM_DAYS(NUMBER) 计算从默认昌和时间0000年1月1日）开始经历NUMBER天数后的日期和时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW() ,TO_DAYS(NOW()),FROM_DAYS(TO_DAYS(NOW()));</div><div class="line">+---------------------+----------------+---------------------------+</div><div class="line">| NOW()               | TO_DAYS(NOW()) | FROM_DAYS(TO_DAYS(NOW())) |</div><div class="line">+---------------------+----------------+---------------------------+</div><div class="line">| 2017-02-17 16:06:39 |         736742 | 2017-02-17                |</div><div class="line">+---------------------+----------------+---------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="DATEDIFF-date1-date2"><a href="#DATEDIFF-date1-date2" class="headerlink" title="DATEDIFF(date1,date2)"></a>DATEDIFF(date1,date2)</h4><p>返回date1与date2之间的天数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW(),DATEDIFF(NOW(),&apos;2015-02-24&apos;);</div><div class="line">+---------------------+------------------------------+</div><div class="line">| NOW()               | DATEDIFF(NOW(),&apos;2015-02-24&apos;) |</div><div class="line">+---------------------+------------------------------+</div><div class="line">| 2017-02-17 16:07:57 |                          724 |</div><div class="line">+---------------------+------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="指定日期和时间操作"><a href="#指定日期和时间操作" class="headerlink" title="指定日期和时间操作"></a>指定日期和时间操作</h4><ul>
<li>ADDDATE(DATE,N),计算日期加上N天后的日期</li>
<li>SUBDATE(DATE,N),计算日期减去N天后的日期</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT NOW(),ADDDATE(CURDATE(),5),SUBDATE(CURDATE(),5);</div><div class="line">+---------------------+----------------------+----------------------+</div><div class="line">| NOW()               | ADDDATE(CURDATE(),5) | SUBDATE(CURDATE(),5) |</div><div class="line">+---------------------+----------------------+----------------------+</div><div class="line">| 2017-02-17 16:15:35 | 2017-02-22           | 2017-02-12           |</div><div class="line">+---------------------+----------------------+----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<ul>
<li>ADDDATE(DATE,interval expr type),计算日期加上N天后的日期</li>
<li><p>SUBDATE(DATE,interval expr type),计算日期减去N天后的日期</p>
<h4 id="TYPE类型"><a href="#TYPE类型" class="headerlink" title="TYPE类型"></a>TYPE类型</h4></li>
<li><p>YEAR 年 YY</p>
</li>
<li>MONTH 月 MM</li>
<li>DAY 日 DD</li>
<li>HOUR 时 hh</li>
<li>MINUTE 分钟 mm</li>
<li>SECOND 秒 ss</li>
<li>YEAR_MONTH 年和月 YY与MM之间用任意符号隔开</li>
<li>DAY_HOUR 日和小时 DD和hh之间用任意符号隔开</li>
<li>DAY_MINUTE 日和分钟 DD和mm之间用任意符号隔开</li>
<li>DAY_SECOND 日和秒 DD和ss之间用任意符号隔开</li>
<li>HOUR_MINUTE 小时和分钟  hh和mm之间用任意符号隔开</li>
<li>HOUR_SECOND 小时和秒 hh和ss之间用任意符号隔开</li>
<li>MINUTE_SECOND  分钟和秒 mm和ss之间用任意符号隔开</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select adddate(curdate(),interval &apos;1,2&apos; year_month),subdate(curdate(),interval 1 year);</div><div class="line">+----------------------------------------------+------------------------------------+</div><div class="line">| adddate(curdate(),interval &apos;1,2&apos; year_month) | subdate(curdate(),interval 1 year) |</div><div class="line">+----------------------------------------------+------------------------------------+</div><div class="line">| 2018-04-17                                   | 2016-02-17                         |</div><div class="line">+----------------------------------------------+------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line">mysql&gt; select adddate(curdate(),interval &apos;1,2&apos; year_month),subdate(curdate(),interval -1 year);</div><div class="line">+----------------------------------------------+-------------------------------------+</div><div class="line">| adddate(curdate(),interval &apos;1,2&apos; year_month) | subdate(curdate(),interval -1 year) |</div><div class="line">+----------------------------------------------+-------------------------------------+</div><div class="line">| 2018-04-17                                   | 2018-02-17                          |</div><div class="line">+----------------------------------------------+-------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="ADDTIME-TIME-N-SUBTIME-TIME-N"><a href="#ADDTIME-TIME-N-SUBTIME-TIME-N" class="headerlink" title="ADDTIME(TIME,N),SUBTIME(TIME,N)"></a>ADDTIME(TIME,N),SUBTIME(TIME,N)</h4><p>时间加上N秒，或者时间减去N秒后的时间<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT CURTIME(),ADDTIME(CURTIME(),5),SUBTIME(CURTIME(),5);</div><div class="line">+-----------+----------------------+----------------------+</div><div class="line">| CURTIME() | ADDTIME(CURTIME(),5) | SUBTIME(CURTIME(),5) |</div><div class="line">+-----------+----------------------+----------------------+</div><div class="line">| 16:27:29  | 16:27:34             | 16:27:24             |</div><div class="line">+-----------+----------------------+----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十八日期函数&quot;&gt;&lt;a href=&quot;#mysql学习十八日期函数&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十八日期函数&quot;&gt;&lt;/a&gt;mysql学习十八日期函数&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;CURDATE() 获取当前日期&lt;/li
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十七数值函数</title>
    <link href="https://ln0491.github.io/2017/02/17/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%B8%83%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0/"/>
    <id>https://ln0491.github.io/2017/02/17/mysql学习十七数值函数/</id>
    <published>2017-02-17T05:23:39.000Z</published>
    <updated>2017-02-27T02:21:32.613Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十七数值函数"><a href="#mysql学习十七数值函数" class="headerlink" title="mysql学习十七数值函数"></a>mysql学习十七数值函数</h3><ul>
<li>ABS(X) 返回数据X的绝对值</li>
<li>CEIL(X) 返回大于X的最大整数值</li>
<li>FLOOR(X) 返回小于X的最大整数</li>
<li>MODE(X,Y) 返回X模Y的值</li>
<li>RAND(） 返回0-1之间的随机数</li>
<li>ROUND(X,Y) 返回数值X的四舍5入后有Y位小数的数值</li>
<li>TRUNCATE(X,Y)，返回X断为Y位小数的数值</li>
</ul>
<h4 id="获取随机数RAND"><a href="#获取随机数RAND" class="headerlink" title="获取随机数RAND()"></a>获取随机数RAND()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT RAND(),RAND(),RAND(3),RAND(3);</div><div class="line">+---------------------+---------------------+--------------------+--------------------+</div><div class="line">| RAND()              | RAND()              | RAND(3)            | RAND(3)            |</div><div class="line">+---------------------+---------------------+--------------------+--------------------+</div><div class="line">| 0.14539613215755312 | 0.17698627540561024 | 0.9057697559760601 | 0.9057697559760601 |</div><div class="line">+---------------------+---------------------+--------------------+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>每次运行RAND（）函数返回的都不一样，如果要获取相同的随机数，使用带有相同参数的RNAD()来实现</p>
<h4 id="获取整数"><a href="#获取整数" class="headerlink" title="获取整数"></a>获取整数</h4><ul>
<li>CEIL(X) 返回大于X的最大整数值</li>
<li>FLOOR(X) 返回小于X的最大整数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT CEIL(3.5),CEIL(-3.5),FLOOR(3.5),FLOOR(-3.5);</div><div class="line">+-----------+------------+------------+-------------+</div><div class="line">| CEIL(3.5) | CEIL(-3.5) | FLOOR(3.5) | FLOOR(-3.5) |</div><div class="line">+-----------+------------+------------+-------------+</div><div class="line">|         4 |         -3 |          3 |          -4 |</div><div class="line">+-----------+------------+------------+-------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="截取数值函数"><a href="#截取数值函数" class="headerlink" title="截取数值函数"></a>截取数值函数</h4><ul>
<li>TRUNCATE(X,Y)，返回X断为Y位小数的数值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT TRUNCATE(903.53564,2),TRUNCATE(903.53567,-1);</div><div class="line">+-----------------------+------------------------+</div><div class="line">| TRUNCATE(903.53564,2) | TRUNCATE(903.53567,-1) |</div><div class="line">+-----------------------+------------------------+</div><div class="line">|                903.53 |                    900 |</div><div class="line">+-----------------------+------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="四舍五入函数"><a href="#四舍五入函数" class="headerlink" title="四舍五入函数"></a>四舍五入函数</h4><ul>
<li>ROUND(X,Y) 返回数值X的四舍5入后有Y位小数的数值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ROUND(903.53564),ROUND(903.53564,2),ROUND(-903.53564),ROUND(903.53564,-1);</div><div class="line">+------------------+--------------------+-------------------+---------------------+</div><div class="line">| ROUND(903.53564) | ROUND(903.53564,2) | ROUND(-903.53564) | ROUND(903.53564,-1) |</div><div class="line">+------------------+--------------------+-------------------+---------------------+</div><div class="line">|              904 |             903.54 |              -904 |                 900 |</div><div class="line">+------------------+--------------------+-------------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="BIN（N）-OCT（N），HEX（N-or-S）函数-其实就是进制转换"><a href="#BIN（N）-OCT（N），HEX（N-or-S）函数-其实就是进制转换" class="headerlink" title="BIN（N）,OCT（N），HEX（N_or_S）函数..其实就是进制转换"></a>BIN（N）,OCT（N），HEX（N_or_S）函数..其实就是进制转换</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT BIN(12);</div><div class="line">        -&gt; &apos;1100&apos;</div><div class="line">mysql&gt; SELECT OCT(12);</div><div class="line">        -&gt; &apos;14&apos;</div><div class="line">mysql&gt; SELECT HEX(255);</div><div class="line">        -&gt; &apos;FF&apos;</div><div class="line">mysql&gt; SELECT HEX(&quot;abc&quot;);</div><div class="line">        -&gt; 616263</div></pre></td></tr></table></figure>
<h4 id="CONV-N-from-base-to-base-函数"><a href="#CONV-N-from-base-to-base-函数" class="headerlink" title="CONV(N,from_base,to_base)函数"></a>CONV(N,from_base,to_base)函数</h4><p>将一个数字N，从from_base转换为to_base，返回值为字符串..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">mysql&gt; SELECT CONV(&quot;a&quot;,16,2);</div><div class="line">        -&gt; &apos;1010&apos;</div><div class="line">mysql&gt; SELECT CONV(&quot;6E&quot;,18,8);</div><div class="line">        -&gt; &apos;172&apos;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十七数值函数&quot;&gt;&lt;a href=&quot;#mysql学习十七数值函数&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十七数值函数&quot;&gt;&lt;/a&gt;mysql学习十七数值函数&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ABS(X) 返回数据X的绝对值&lt;/li
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十六常用字符函数</title>
    <link href="https://ln0491.github.io/2017/02/17/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E5%85%AD%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0/"/>
    <id>https://ln0491.github.io/2017/02/17/mysql学习十六常用字符函数/</id>
    <published>2017-02-17T05:23:10.000Z</published>
    <updated>2017-02-17T07:03:17.572Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十六常用字符函数"><a href="#mysql学习十六常用字符函数" class="headerlink" title="mysql学习十六常用字符函数"></a>mysql学习十六常用字符函数</h3><h4 id="全并字符串函数-CONCAT-和CONCAT-WS"><a href="#全并字符串函数-CONCAT-和CONCAT-WS" class="headerlink" title="全并字符串函数 CONCAT()和CONCAT_WS()"></a>全并字符串函数 CONCAT()和CONCAT_WS()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CONCAT(S1,S2,S3...SN)</div></pre></td></tr></table></figure>
<p>将传入的函数连接起来返回所合并字符串数据，如果其中一个为NULL，则返加值为NULL<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat(&apos;M&apos;,&apos;y&apos;,&apos;S&apos;,&apos;q&apos;,&apos;l&apos;);</div><div class="line">+-----------------------------+</div><div class="line">| concat(&apos;M&apos;,&apos;y&apos;,&apos;S&apos;,&apos;q&apos;,&apos;l&apos;) |</div><div class="line">+-----------------------------+</div><div class="line">| MySql                       |</div><div class="line">+-----------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>有NULL<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat(&apos;M&apos;,&apos;y&apos;,&apos;S&apos;,&apos;q&apos;,&apos;l&apos;,null);</div><div class="line">+----------------------------------+</div><div class="line">| concat(&apos;M&apos;,&apos;y&apos;,&apos;S&apos;,&apos;q&apos;,&apos;l&apos;,null) |</div><div class="line">+----------------------------------+</div><div class="line">| NULL                             |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>实现当前时间CURDATE和数值合并<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat(curdate(),13.27);</div><div class="line">+-------------------------+</div><div class="line">| concat(curdate(),13.27) |</div><div class="line">+-------------------------+</div><div class="line">| 2017-02-1713.27         |</div><div class="line">+-------------------------+</div><div class="line">1 row in set (0.03 sec)</div></pre></td></tr></table></figure></p>
<h4 id="全并字符串函数CONCAT-WS"><a href="#全并字符串函数CONCAT-WS" class="headerlink" title="全并字符串函数CONCAT_WS()"></a>全并字符串函数CONCAT_WS()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CONCAT_WS(S1,S2,S3...SN)</div></pre></td></tr></table></figure>
<p>与CONCAT相比多了一个SEP分割符参数，即不仅将传的其他参数连接起来，而且还会通过分割符将各个字符串侵害开，分隔答可以是一个字符串，也可以是其他参数。<br>如果分隔符为NULL，则返回结果为NULL，函数会忽略任何分隔符参数后的NULL。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT CONCAT_WS(&apos;-&apos;,&apos;0755&apos;,&apos;518000&apos;);</div><div class="line">+--------------------------------+</div><div class="line">| CONCAT_WS(&apos;-&apos;,&apos;0755&apos;,&apos;518000&apos;) |</div><div class="line">+--------------------------------+</div><div class="line">| 0755-518000                    |</div><div class="line">+--------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>NULL<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT CONCAT_WS(null,&apos;0755&apos;,&apos;518000&apos;);</div><div class="line">+---------------------------------+</div><div class="line">| CONCAT_WS(null,&apos;0755&apos;,&apos;518000&apos;) |</div><div class="line">+---------------------------------+</div><div class="line">| NULL                            |</div><div class="line">+---------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>当侵害符后，参数存在NULL时<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT CONCAT_WS(&apos;-&apos;,&apos;0755&apos;,null,&apos;518000&apos;);</div><div class="line">+-------------------------------------+</div><div class="line">| CONCAT_WS(&apos;-&apos;,&apos;0755&apos;,null,&apos;518000&apos;) |</div><div class="line">+-------------------------------------+</div><div class="line">| 0755-518000                         |</div><div class="line">+-------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt;  SELECT CONCAT_WS(&apos;-&apos;,null,&apos;0755&apos;,&apos;518000&apos;);</div><div class="line">+-------------------------------------+</div><div class="line">| CONCAT_WS(&apos;-&apos;,null,&apos;0755&apos;,&apos;518000&apos;) |</div><div class="line">+-------------------------------------+</div><div class="line">| 0755-518000                         |</div><div class="line">+-------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="比较字符大小函数STRCMP"><a href="#比较字符大小函数STRCMP" class="headerlink" title="比较字符大小函数STRCMP()"></a>比较字符大小函数STRCMP()</h4><p>STRCMP(S1,S2)<br>比较字符串1，与字符串2，如果参数1大于参数2，返回1，<br>如果参数1小参数2，返回-1<br>如果相等则返回0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT STRCMP(&apos;ABC&apos;,&apos;abc&apos;),</div><div class="line">    -&gt; STRCMP(&apos;abc&apos;,&apos;abd&apos;),</div><div class="line">    -&gt; STRCMP(&apos;abc&apos;,&apos;abb&apos;);</div><div class="line">+---------------------+---------------------+---------------------+</div><div class="line">| STRCMP(&apos;ABC&apos;,&apos;abc&apos;) | STRCMP(&apos;abc&apos;,&apos;abd&apos;) | STRCMP(&apos;abc&apos;,&apos;abb&apos;) |</div><div class="line">+---------------------+---------------------+---------------------+</div><div class="line">|                   0 |                  -1 |                   1 |</div><div class="line">+---------------------+---------------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="获取字符串长度函数LENGTH"><a href="#获取字符串长度函数LENGTH" class="headerlink" title="获取字符串长度函数LENGTH()"></a>获取字符串长度函数LENGTH()</h4><p>LENGTH(STR)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;Mysql&apos; 英文字符,</div><div class="line">    -&gt; LENGTH(&apos;Mysql&apos;) 长度,</div><div class="line">    -&gt; &apos;常用数&apos; 中文字符,</div><div class="line">    -&gt; LENGTH(&apos;常用数&apos;) 长度;</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">| 英文字符     | 长度   | 中文字符     | 长度   |</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">| Mysql        |      5 | 常用数       |      9 |</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>中文字符一个占3位</p>
<h4 id="获取字符串长度函数CHAR-LENGTH"><a href="#获取字符串长度函数CHAR-LENGTH" class="headerlink" title="获取字符串长度函数CHAR_LENGTH()"></a>获取字符串长度函数CHAR_LENGTH()</h4><p>CHAR_LENGTH(str)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;Mysql&apos; 英文字符,</div><div class="line">    -&gt; CHAR_LENGTH(&apos;Mysql&apos;) 长度,</div><div class="line">    -&gt; &apos;常用数&apos; 中文字符,</div><div class="line">    -&gt; CHAR_LENGTH(&apos;常用数&apos;) 长度;</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">| 英文字符     | 长度   | 中文字符     | 长度   |</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">| Mysql        |      5 | 常用数       |      3 |</div><div class="line">+--------------+--------+--------------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>中文还是占一个字符</p>
<h4 id="字母大小写转换函数UPPPER-和函数LOWER"><a href="#字母大小写转换函数UPPPER-和函数LOWER" class="headerlink" title="字母大小写转换函数UPPPER()和函数LOWER()"></a>字母大小写转换函数UPPPER()和函数LOWER()</h4><p>UPPER(STR)将字符所有字符转换为大写<br>ucase(str)将字符所有字符转换为大写<br>LOWER(STR)将字符所有字符转换为小写<br>LCASE(STR)将字符所有字符转换为小写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select &apos;mysql&apos; 字符串,upper(&apos;mysql&apos;) 转换后,ucase(&apos;mysql&apos;) 转换后,lower(&apos;MYsQL&apos;) 转换后, lcase(&apos;MYSQL&apos;) 转换后;</div><div class="line">+-----------+-----------+-----------+-----------+-----------+</div><div class="line">| 字符串    | 转换后    | 转换后    | 转换后    | 转换后    |</div><div class="line">+-----------+-----------+-----------+-----------+-----------+</div><div class="line">| mysql     | MYSQL     | MYSQL     | mysql     | mysql     |</div><div class="line">+-----------+-----------+-----------+-----------+-----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="返加字符串位置的FIND-IN-SET"><a href="#返加字符串位置的FIND-IN-SET" class="headerlink" title="返加字符串位置的FIND_IN_SET()"></a>返加字符串位置的FIND_IN_SET()</h4><p>FIND_IN_SET(s1,,s2)<br>会返回在字符串s2中与s1相匹配的字符口中的益，参数S2字符串中将包含若干个用逗号隔开的字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT FIND_IN_SET(&apos;MySQL&apos;,&apos;oracle,sql,server,MySql&apos;);</div><div class="line">+------------------------------------------------+</div><div class="line">| FIND_IN_SET(&apos;MySQL&apos;,&apos;oracle,sql,server,MySql&apos;) |</div><div class="line">+------------------------------------------------+</div><div class="line">|                                              4 |</div><div class="line">+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="返回指定字符串的位置FIELD"><a href="#返回指定字符串的位置FIELD" class="headerlink" title="返回指定字符串的位置FIELD()"></a>返回指定字符串的位置FIELD()</h4><p>FIELD(str,s1,,s2,…)返回第一个与字符串str，匹配的字符串的位置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT FIELD(&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;);</div><div class="line">+------------------------------------------------+</div><div class="line">| FIELD(&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;) |</div><div class="line">+------------------------------------------------+</div><div class="line">|                                              2 |</div><div class="line">+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="返回子字符串相匹配的开始位置"><a href="#返回子字符串相匹配的开始位置" class="headerlink" title="返回子字符串相匹配的开始位置"></a>返回子字符串相匹配的开始位置</h4><p>LOCATE(str1,str)<br>返回参数str中字符串str1的开始位置</p>
<p>POSITION(str1 in str)<br>instr(str,str1)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT LOCATE(&apos;sql&apos;,&apos;mysql&apos;),</div><div class="line">    -&gt;        POSITION(&apos;sql&apos; IN &apos;MySQL&apos;),</div><div class="line">    -&gt;        INSTR(&apos;MySql&apos;,&apos;my&apos;);</div><div class="line">+-----------------------+----------------------------+---------------------+</div><div class="line">| LOCATE(&apos;sql&apos;,&apos;mysql&apos;) | POSITION(&apos;sql&apos; IN &apos;MySQL&apos;) | INSTR(&apos;MySql&apos;,&apos;my&apos;) |</div><div class="line">+-----------------------+----------------------------+---------------------+</div><div class="line">|                     3 |                          3 |                   1 |</div><div class="line">+-----------------------+----------------------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="返回指定位置的字符串ELT"><a href="#返回指定位置的字符串ELT" class="headerlink" title="返回指定位置的字符串ELT()"></a>返回指定位置的字符串ELT()</h4><p>ELT(N，s1,s2,s3…);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ELT(3,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;);</div><div class="line">+------------------------------------------------+</div><div class="line">| ELT(3,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;) |</div><div class="line">+------------------------------------------------+</div><div class="line">| MySql                                          |</div><div class="line">+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT ELT(0,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;);</div><div class="line">+------------------------------------------------+</div><div class="line">| ELT(0,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;) |</div><div class="line">+------------------------------------------------+</div><div class="line">| NULL                                           |</div><div class="line">+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT ELT(-1,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;);</div><div class="line">+-------------------------------------------------+</div><div class="line">| ELT(-1,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;) |</div><div class="line">+-------------------------------------------------+</div><div class="line">| NULL                                            |</div><div class="line">+-------------------------------------------------+</div><div class="line">1 row in set (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT ELT(8,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;);</div><div class="line">+------------------------------------------------+</div><div class="line">| ELT(8,&apos;MySQL&apos;,&apos;oracle&apos;,&apos;MySql&apos;,&apos;sql&apos;,&apos;server&apos;) |</div><div class="line">+------------------------------------------------+</div><div class="line">| NULL                                           |</div><div class="line">+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="选择字符串的MAKE-SET（）"><a href="#选择字符串的MAKE-SET（）" class="headerlink" title="选择字符串的MAKE_SET（）"></a>选择字符串的MAKE_SET（）</h4><p>MAKE_SET（num,s1,s2,s3,…）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">SELECT BIN(5) 二进制数,MAKE_SET(5,&apos;MySQL&apos;,&apos;Oracle&apos;,&apos;SQL Server&apos;,&apos;PostgreSQL&apos;) 选取后的字符串;</div><div class="line">+--------------+-----------------------+</div><div class="line">| 二进制数     | 选取后的字符串        |</div><div class="line">+--------------+-----------------------+</div><div class="line">| 101          | MySQL,SQL Server      |</div><div class="line">+--------------+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>由于5的二进制为101,所以选择MySQL,SQL Server ，第一个和第三个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select BIN(7) 二进制数,MAKE_SET(7,&apos;MySQL&apos;,&apos;Oracle&apos;,&apos;SQL Server&apos;,&apos;PostgreSQL&apos;) 选取后的字符串;</div><div class="line">+--------------+-------------------------+</div><div class="line">| 二进制数     | 选取后的字符串          |</div><div class="line">+--------------+-------------------------+</div><div class="line">| 111          | MySQL,Oracle,SQL Server |</div><div class="line">+--------------+-------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>7为111,选择为前3个</p>
<h4 id="从现有字符串中截取子字符串LEFT-和RIGHT"><a href="#从现有字符串中截取子字符串LEFT-和RIGHT" class="headerlink" title="从现有字符串中截取子字符串LEFT()和RIGHT"></a>从现有字符串中截取子字符串LEFT()和RIGHT</h4><p> LEFT(str,num) RIGHT(str,num)<br>从左边或右边截取子字符串<br>返回字符串str中包含前NUM个字符，从左或者从右边数的字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;MySQL&apos; 字符串,LEFT(&apos;MySQL&apos;,2) 前2个字符串 ,RIGHT(&apos;MySQL&apos;,3) 后3个字符串;</div><div class="line">+-----------+------------------+------------------+</div><div class="line">| 字符串    | 前2个字符串      | 后3个字符串      |</div><div class="line">+-----------+------------------+------------------+</div><div class="line">| MySQL     | My               | SQL              |</div><div class="line">+-----------+------------------+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="截取指定位置和长度子字符串SUBSTRING和MID"><a href="#截取指定位置和长度子字符串SUBSTRING和MID" class="headerlink" title="截取指定位置和长度子字符串SUBSTRING和MID()"></a>截取指定位置和长度子字符串SUBSTRING和MID()</h4><p>SUBSTRING(str,num,len)<br>返回字符串str第num个位置开始长度为len的子字符串<br>MID(str,num,len)<br>返回字符串str第num个位置开始长度为len的子字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;oraclemysql&apos; 字符串,SUBSTR(&apos;oraclemysql&apos;,1,5),SUBSTR(&apos;oraclemysql&apos;,7),SUBSTRING(&apos;oraclemysql&apos;,7,5),SUBSTRING(&apos;oraclemysql&apos;,7),MID(&apos;oraclemysql&apos;,7,5),MID(&apos;oraclemysql&apos;,7);</div><div class="line">+-------------+---------------------------+-------------------------+------------------------------+----------------------------+------------------------+----------------------+</div><div class="line">| 字符串      | SUBSTR(&apos;oraclemysql&apos;,1,5) | SUBSTR(&apos;oraclemysql&apos;,7) | SUBSTRING(&apos;oraclemysql&apos;,7,5) | SUBSTRING(&apos;oraclemysql&apos;,7) | MID(&apos;oraclemysql&apos;,7,5) | MID(&apos;oraclemysql&apos;,7) |</div><div class="line">+-------------+---------------------------+-------------------------+------------------------------+----------------------------+------------------------+----------------------+</div><div class="line">| oraclemysql | oracl                     | mysql                   | mysql                        | mysql                      | mysql                  | mysql                |</div><div class="line">+-------------+---------------------------+-------------------------+------------------------------+----------------------------+------------------------+----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="去队字符串的首空格LTRIM"><a href="#去队字符串的首空格LTRIM" class="headerlink" title="去队字符串的首空格LTRIM()"></a>去队字符串的首空格LTRIM()</h4><p>LTRIM(STR)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT  CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;) 原来字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;))  原来字符串长度,</div><div class="line">    -&gt; CONCAT(&apos;-&apos;,LTRIM(&apos; MySQL &apos;),&apos;-&apos;) 处理后字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,LTRIM(&apos; MySQL &apos;),&apos;-&apos;))  处理后字符串长度;</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| 原来字符串      | 原来字符串长度        | 处理后字符串       | 处理后字符串长度         |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| - MySQL -       |                     9 | -MySQL -           |                        8 |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="去队字符串的尾空格RTRIM"><a href="#去队字符串的尾空格RTRIM" class="headerlink" title="去队字符串的尾空格RTRIM()"></a>去队字符串的尾空格RTRIM()</h4><p>RTRIM(STR)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT  CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;) 原来字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;))  原来字符串长度,</div><div class="line">    -&gt; CONCAT(&apos;-&apos;,RTRIM(&apos; MySQL &apos;),&apos;-&apos;) 处理后字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,RTRIM(&apos; MySQL &apos;),&apos;-&apos;))  处理后字符串长度;</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| 原来字符串      | 原来字符串长度        | 处理后字符串       | 处理后字符串长度         |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| - MySQL -       |                     9 | - MySQL-           |                        8 |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="去队字符串的首尾空格TRIM"><a href="#去队字符串的首尾空格TRIM" class="headerlink" title="去队字符串的首尾空格TRIM()"></a>去队字符串的首尾空格TRIM()</h4><p>TRIM(STR)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT  CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;) 原来字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,&apos; MySQL &apos;,&apos;-&apos;))  原来字符串长度,</div><div class="line">    -&gt; CONCAT(&apos;-&apos;,TRIM(&apos; MySQL &apos;),&apos;-&apos;) 处理后字符串,</div><div class="line">    -&gt; CHAR_LENGTH(CONCAT(&apos;-&apos;,TRIM(&apos; MySQL &apos;),&apos;-&apos;))  处理后字符串长度;</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| 原来字符串      | 原来字符串长度        | 处理后字符串       | 处理后字符串长度         |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">| - MySQL -       |                     9 | -MySQL-            |                        7 |</div><div class="line">+-----------------+-----------------------+--------------------+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="替换字符串insert"><a href="#替换字符串insert" class="headerlink" title="替换字符串insert"></a>替换字符串insert</h4><p>INSERT(str,pos,len,newstr)<br>将字符串str中pos位置开始长度为len的字符串使用newstr来替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;这是MySQL数据库管理系统&apos; 原字符串,</div><div class="line">    -&gt; INSERT(&apos;这是MySQL数据库管理系统&apos;,3,5,&apos;Oracle&apos;) 替换后字符串;</div><div class="line">+----------------------------------+-----------------------------------+</div><div class="line">| 原字符串                         | 替换后字符串                      |</div><div class="line">+----------------------------------+-----------------------------------+</div><div class="line">| 这是MySQL数据库管理系统          | 这是Oracle数据库管理系统          |</div><div class="line">+----------------------------------+-----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>当长度大于原来的字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;这是MySQL数据库管理系统&apos; 原字符串,</div><div class="line">    -&gt; CHAR_LENGTH(&apos;这是MySQL数据库管理系统&apos;) 字符串长度,</div><div class="line">    -&gt; INSERT(&apos;这是MySQL数据库管理系统&apos;,20,5,&apos;Oracle&apos;) 替换后字符串;</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">| 原字符串                         | 字符串长度      | 替换后字符串                     |</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">| 这是MySQL数据库管理系统          |              14 | 这是MySQL数据库管理系统          |</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT &apos;这是MySQL数据库管理系统&apos; 原字符串,</div><div class="line">    -&gt; CHAR_LENGTH(&apos;这是MySQL数据库管理系统&apos;) 字符串长度,</div><div class="line">    -&gt; INSERT(&apos;这是MySQL数据库管理系统&apos;,13,5,&apos;Oracle&apos;) 替换后字符串;</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">| 原字符串                         | 字符串长度      | 替换后字符串                     |</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">| 这是MySQL数据库管理系统          |              14 | 这是MySQL数据库管理Oracle        |</div><div class="line">+----------------------------------+-----------------+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>当所有替换的长度大于原来字符串中所剩下的长度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;这是MySQL数据库管理系统&apos; 原字符串,</div><div class="line">    -&gt; CHAR_LENGTH(&apos;这是MySQL数据库管理系统&apos;) 字符串长度,</div><div class="line">    -&gt; INSERT(&apos;这是MySQL数据库管理系统&apos;,6,20,&apos;Oracle&apos;) 替换后字符串;</div><div class="line">+----------------------------------+-----------------+--------------------+</div><div class="line">| 原字符串                         | 字符串长度      | 替换后字符串       |</div><div class="line">+----------------------------------+-----------------+--------------------+</div><div class="line">| 这是MySQL数据库管理系统          |              14 | 这是MySOracle      |</div><div class="line">+----------------------------------+-----------------+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="替换字符串REPLACE"><a href="#替换字符串REPLACE" class="headerlink" title="替换字符串REPLACE"></a>替换字符串REPLACE</h4><p>replcae(str,substr,newstr)<br>将字符串str中的子字符串substr用字符串newstr替换<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT &apos;这是MySQL数据库管理系统&apos; 原字符串,</div><div class="line">    -&gt; REPLACE(&apos;这是MySQL数据库管理系统&apos;,&apos;mysql&apos;,&apos;Oracle&apos;) 替换后字符串,</div><div class="line">    -&gt; REPLACE(&apos;这是MySQL数据库管理系统&apos;,&apos;MySQL&apos;,&apos;Oracle&apos;) 替换后字符串;</div><div class="line">+----------------------------------+----------------------------------+-----------------------------------+</div><div class="line">| 原字符串                         | 替换后字符串                     | 替换后字符串                      |</div><div class="line">+----------------------------------+----------------------------------+-----------------------------------+</div><div class="line">| 这是MySQL数据库管理系统          | 这是MySQL数据库管理系统          | 这是Oracle数据库管理系统          |</div><div class="line">+----------------------------------+----------------------------------+-----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>大小写必须一样才会替换，不然不会替换</p>
<h4 id="字符串反转-Reverse-str-字符串反转"><a href="#字符串反转-Reverse-str-字符串反转" class="headerlink" title="字符串反转 Reverse(str)字符串反转.."></a>字符串反转 Reverse(str)字符串反转..</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select reverse(&apos;abc&apos;);</div><div class="line">+----------------+</div><div class="line">| reverse(&apos;abc&apos;) |</div><div class="line">+----------------+</div><div class="line">| cba            |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十六常用字符函数&quot;&gt;&lt;a href=&quot;#mysql学习十六常用字符函数&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十六常用字符函数&quot;&gt;&lt;/a&gt;mysql学习十六常用字符函数&lt;/h3&gt;&lt;h4 id=&quot;全并字符串函数-CONCA
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十五子查询四(在select子句中使用子查询)</title>
    <link href="https://ln0491.github.io/2017/02/16/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%BA%94%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%9B%9B-%E5%9C%A8select%E5%AD%90%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/16/mysql学习十五子查询四-在select子句中使用子查询/</id>
    <published>2017-02-16T05:22:23.000Z</published>
    <updated>2017-02-16T06:44:00.624Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十五子查询四-在select子句中使用子查询"><a href="#mysql学习十五子查询四-在select子句中使用子查询" class="headerlink" title="mysql学习十五子查询四(在select子句中使用子查询)"></a>mysql学习十五子查询四(在select子句中使用子查询)</h3><h4 id="查询出每个部门的编号，名称，位置，部门人数，平均工资"><a href="#查询出每个部门的编号，名称，位置，部门人数，平均工资" class="headerlink" title="查询出每个部门的编号，名称，位置，部门人数，平均工资"></a>查询出每个部门的编号，名称，位置，部门人数，平均工资</h4><p>使用from 实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT d.deptno,d.dname,d.loc,tmp.counts,tmp.avgsal</div><div class="line">    -&gt; FROM dept d,(</div><div class="line">    -&gt; SELECT deptno,COUNT(empno) counts,AVG(sal) avgsal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; ) tmp</div><div class="line">    -&gt; WHERE d.deptno=tmp.deptno;</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">| deptno | dname      | loc      | counts | avgsal      |</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |      3 | 2916.666667 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |      5 | 2175.000000 |</div><div class="line">|     30 | SALES      | CHICAGO  |      6 | 1566.666667 |</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>select</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT d.deptno,d.dname,d.loc,</div><div class="line">    -&gt; (SELECT COUNT(empno) FROM emp WHERE emp.deptno=d.deptno GROUP BY emp.deptno) con,</div><div class="line">    -&gt; (SELECT AVG(sal) FROM emp WHERE emp.`deptno`=d.deptno GROUP BY emp.`deptno`) avgsal</div><div class="line">    -&gt; FROM dept d;</div><div class="line">+--------+------------+----------+------+-------------+</div><div class="line">| deptno | dname      | loc      | con  | avgsal      |</div><div class="line">+--------+------------+----------+------+-------------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |    3 | 2916.666667 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |    5 | 2175.000000 |</div><div class="line">|     30 | SALES      | CHICAGO  |    6 | 1566.666667 |</div><div class="line">|     40 | OPERATIONS | BOSTON   | NULL |        NULL |</div><div class="line">+--------+------------+----------+------+-------------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十五子查询四-在select子句中使用子查询&quot;&gt;&lt;a href=&quot;#mysql学习十五子查询四-在select子句中使用子查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十五子查询四(在select子句中使用子查询)&quot;&gt;&lt;/
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十四子查询三(在FROM子句中使用子查询)</title>
    <link href="https://ln0491.github.io/2017/02/16/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E5%9B%9B%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%B8%89-%E5%9C%A8FROM%E5%AD%90%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/16/mysql学习十四子查询三-在FROM子句中使用子查询/</id>
    <published>2017-02-16T05:21:49.000Z</published>
    <updated>2017-02-16T06:30:56.741Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十四子查询三-在FROM子句中使用子查询"><a href="#mysql学习十四子查询三-在FROM子句中使用子查询" class="headerlink" title="mysql学习十四子查询三(在FROM子句中使用子查询)"></a>mysql学习十四子查询三(在FROM子句中使用子查询)</h3><p>FROM子句中使用子查询一般都是返回多行多列，可以将其当作一张数据表</p>
<h4 id="查询出每个部门的编号，名称，位置，部门人数，平均工资"><a href="#查询出每个部门的编号，名称，位置，部门人数，平均工资" class="headerlink" title="查询出每个部门的编号，名称，位置，部门人数，平均工资"></a>查询出每个部门的编号，名称，位置，部门人数，平均工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT d.deptno,d.dname,d.loc,dp.counts,dp.avgsal</div><div class="line">    -&gt; FROM dept d,(</div><div class="line">    -&gt; SELECT deptno,COUNT(empno) counts,AVG(sal) avgsal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; )dp</div><div class="line">    -&gt; WHERE d.deptno = dp.deptno;</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">| deptno | dname      | loc      | counts | avgsal      |</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |      3 | 2916.666667 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |      5 | 2175.000000 |</div><div class="line">|     30 | SALES      | CHICAGO  |      6 | 1566.666667 |</div><div class="line">+--------+------------+----------+--------+-------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="查询出所有在部门SALES-销售部-工作的员工编号，姓名，基本工资，奖金，职位，入职日期，部门最高和最低工资"><a href="#查询出所有在部门SALES-销售部-工作的员工编号，姓名，基本工资，奖金，职位，入职日期，部门最高和最低工资" class="headerlink" title="查询出所有在部门SALES(销售部)工作的员工编号，姓名，基本工资，奖金，职位，入职日期，部门最高和最低工资"></a>查询出所有在部门SALES(销售部)工作的员工编号，姓名，基本工资，奖金，职位，入职日期，部门最高和最低工资</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.sal,e.comm,e.job,e.hiredate,e.deptno,temp.maxsal,temp.minsal</div><div class="line">    -&gt; FROM emp e,(</div><div class="line">    -&gt;             SELECT deptno dno,MAX(sal) maxsal,MIN(sal) minsal</div><div class="line">    -&gt;             FROM emp</div><div class="line">    -&gt;             GROUP BY deptno</div><div class="line">    -&gt;             ) temp</div><div class="line">    -&gt; WHERE e.deptno=(SELECT deptno</div><div class="line">    -&gt;                  FROM dept</div><div class="line">    -&gt;                  WHERE dname=&apos;SALES&apos;)</div><div class="line">    -&gt;                  AND e.deptno=temp.dno;</div><div class="line">+-------+--------+---------+---------+----------+---------------------+--------+---------+--------+</div><div class="line">| empno | ename  | sal     | comm    | job      | hiredate            | deptno | maxsal  | minsal |</div><div class="line">+-------+--------+---------+---------+----------+---------------------+--------+---------+--------+</div><div class="line">|  7499 | ALLEN  | 1600.00 |  300.00 | SALESMAN | 1981-02-20 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">|  7521 | WARD   | 1250.00 |  500.00 | SALESMAN | 1981-02-22 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">|  7654 | MARTIN | 1250.00 | 1400.00 | SALESMAN | 1981-09-28 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">|  7698 | BLAKE  | 2850.00 |    NULL | MANAGER  | 1981-05-01 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">|  7844 | TURNER | 1500.00 |    0.00 | SALESMAN | 1981-09-08 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">|  7900 | JAMES  |  950.00 |    NULL | CLERK    | 1981-12-03 00:00:00 |     30 | 2850.00 | 950.00 |</div><div class="line">+-------+--------+---------+---------+----------+---------------------+--------+---------+--------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="列出工资比ALLEN或者CLARK多的所有员工的编号，姓名，基本工资，部门名称，领导姓名，部门人数"><a href="#列出工资比ALLEN或者CLARK多的所有员工的编号，姓名，基本工资，部门名称，领导姓名，部门人数" class="headerlink" title="列出工资比ALLEN或者CLARK多的所有员工的编号，姓名，基本工资，部门名称，领导姓名，部门人数"></a>列出工资比ALLEN或者CLARK多的所有员工的编号，姓名，基本工资，部门名称，领导姓名，部门人数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.sal,d.dname,m.ename,temp.con</div><div class="line">    -&gt; FROM emp e,dept d,emp m,(</div><div class="line">    -&gt;                           SELECT deptno dno,COUNT(empno) con</div><div class="line">    -&gt;                           FROM emp</div><div class="line">    -&gt;                           GROUP BY deptno</div><div class="line">    -&gt;                           )temp</div><div class="line">    -&gt; WHERE e.sal&gt;ANY(SELECT sal</div><div class="line">    -&gt;                  FROM emp</div><div class="line">    -&gt;                  WHERE ename IN(&apos;ALLEN&apos;,&apos;CLARK&apos;)</div><div class="line">    -&gt;                  )</div><div class="line">    -&gt;               AND e.ename NOT IN (&apos;ALLEN&apos;,&apos;CLARK&apos;)</div><div class="line">    -&gt;               AND e.deptno=d.deptno</div><div class="line">    -&gt;               AND e.mgr=m.empno</div><div class="line">    -&gt;               AND e.deptno=temp.dno;</div><div class="line">+-------+-------+---------+----------+-------+-----+</div><div class="line">| empno | ename | sal     | dname    | ename | con |</div><div class="line">+-------+-------+---------+----------+-------+-----+</div><div class="line">|  7788 | SCOTT | 3000.00 | RESEARCH | JONES |   5 |</div><div class="line">|  7902 | FORD  | 3000.00 | RESEARCH | JONES |   5 |</div><div class="line">|  7566 | JONES | 2975.00 | RESEARCH | KING  |   5 |</div><div class="line">|  7698 | BLAKE | 2850.00 | SALES    | KING  |   6 |</div><div class="line">+-------+-------+---------+----------+-------+-----+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="列出公司各个部门的经理（一个部门只有一个）的姓名-工资，部门名称，部门人数，部门平均工资"><a href="#列出公司各个部门的经理（一个部门只有一个）的姓名-工资，部门名称，部门人数，部门平均工资" class="headerlink" title="列出公司各个部门的经理（一个部门只有一个）的姓名,工资，部门名称，部门人数，部门平均工资"></a>列出公司各个部门的经理（一个部门只有一个）的姓名,工资，部门名称，部门人数，部门平均工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.ename,e.sal,d.deptno,d.dname,tmp.counts,tmp.avgsal,e.job</div><div class="line">    -&gt; FROM emp e,dept d,(</div><div class="line">    -&gt; SELECT deptno,COUNT(empno) counts,AVG(sal) avgsal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; )tmp</div><div class="line">    -&gt; WHERE e.deptno=d.deptno</div><div class="line">    -&gt; AND d.deptno=tmp.deptno</div><div class="line">    -&gt; AND e.job=&apos;manager&apos;;</div><div class="line">+-------+---------+--------+------------+--------+-------------+---------+</div><div class="line">| ename | sal     | deptno | dname      | counts | avgsal      | job     |</div><div class="line">+-------+---------+--------+------------+--------+-------------+---------+</div><div class="line">| CLARK | 2450.00 |     10 | ACCOUNTING |      3 | 2916.666667 | MANAGER |</div><div class="line">| JONES | 2975.00 |     20 | RESEARCH   |      5 | 2175.000000 | MANAGER |</div><div class="line">| BLAKE | 2850.00 |     30 | SALES      |      6 | 1566.666667 | MANAGER |</div><div class="line">+-------+---------+--------+------------+--------+-------------+---------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十四子查询三-在FROM子句中使用子查询&quot;&gt;&lt;a href=&quot;#mysql学习十四子查询三-在FROM子句中使用子查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十四子查询三(在FROM子句中使用子查询)&quot;&gt;&lt;/a&gt;mysq
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十三子查询二(在HAVING子句中使用子查询)</title>
    <link href="https://ln0491.github.io/2017/02/16/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%B8%89%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BA%8C-%E5%9C%A8HAVING%E5%AD%90%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/16/mysql学习十三子查询二-在HAVING子句中使用子查询/</id>
    <published>2017-02-16T05:21:30.000Z</published>
    <updated>2017-02-16T06:19:58.347Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十三子查询二-在HAVING子句中使用子查询"><a href="#mysql学习十三子查询二-在HAVING子句中使用子查询" class="headerlink" title="mysql学习十三子查询二(在HAVING子句中使用子查询)"></a>mysql学习十三子查询二(在HAVING子句中使用子查询)</h3><p>HAVING子句的主要功能是对分组后的数据进行过滤，如果子查询在HAVING中表示要进行分组过滤，一般返回单行单列的数据</p>
<h4 id="查询部门编号，人数，平均工资，并且要求这些部门的平均工资高于公司的平均工资"><a href="#查询部门编号，人数，平均工资，并且要求这些部门的平均工资高于公司的平均工资" class="headerlink" title="查询部门编号，人数，平均工资，并且要求这些部门的平均工资高于公司的平均工资"></a>查询部门编号，人数，平均工资，并且要求这些部门的平均工资高于公司的平均工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT deptno,COUNT(empno),ROUND(AVG(sal),2)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; HAVING AVG(sal)&gt;(</div><div class="line">    -&gt; SELECT AVG(sal)</div><div class="line">    -&gt; FROM emp);</div><div class="line">+--------+--------------+-------------------+</div><div class="line">| deptno | COUNT(empno) | ROUND(AVG(sal),2) |</div><div class="line">+--------+--------------+-------------------+</div><div class="line">|     10 |            3 |           2916.67 |</div><div class="line">|     20 |            5 |           2175.00 |</div><div class="line">+--------+--------------+-------------------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十三子查询二-在HAVING子句中使用子查询&quot;&gt;&lt;a href=&quot;#mysql学习十三子查询二-在HAVING子句中使用子查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十三子查询二(在HAVING子句中使用子查询)&quot;&gt;&lt;/
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十二子查询一(WHERE中的子查询)</title>
    <link href="https://ln0491.github.io/2017/02/16/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%BA%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%B8%80-WHERE%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/16/mysql学习十二子查询一-WHERE中的子查询/</id>
    <published>2017-02-16T05:20:34.000Z</published>
    <updated>2017-02-16T06:01:41.399Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十二子查询一-WHERE中的子查询"><a href="#mysql学习十二子查询一-WHERE中的子查询" class="headerlink" title="mysql学习十二子查询一(WHERE中的子查询)"></a>mysql学习十二子查询一(WHERE中的子查询)</h3><p>子查询就是指的在一个完整的查询语句之中，嵌套若干个不同功能的小查询，从而一起完成复杂查询的一种编写形式，为了让读者更加清楚子查询的概念。</p>
<p>子查询返回结果<br>子查询可以返回的数据类型一共分为四种：</p>
<p>单行单列：返回的是一个具体列的内容，可以理解为一个单值数据；<br>单行多列：返回一行数据中多个列的内容；<br>多行单列：返回多行记录之中同一列的内容，相当于给出了一个操作范围；<br>多行多列：查询返回的结果是一张临时表；<br>在WHERE子句中使用子查询<br>在WHERE子句之中处理单行单列子查询、多行单列子查询、单行多列子查询。</p>
<h3 id="单行单列子查询"><a href="#单行单列子查询" class="headerlink" title="单行单列子查询"></a>单行单列子查询</h3><h4 id="查询公司之中工资最低的雇员的完整信息"><a href="#查询公司之中工资最低的雇员的完整信息" class="headerlink" title="查询公司之中工资最低的雇员的完整信息"></a>查询公司之中工资最低的雇员的完整信息</h4><p>首先查询出最低工资<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT MIN(sal) FROM emp;</div><div class="line">+----------+</div><div class="line">| MIN(sal) |</div><div class="line">+----------+</div><div class="line">|   800.00 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>再查询员工信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal =(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; );</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal    | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 | 800.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询出基本工资比ALLEN低的全部雇员信息"><a href="#查询出基本工资比ALLEN低的全部雇员信息" class="headerlink" title="查询出基本工资比ALLEN低的全部雇员信息"></a>查询出基本工资比ALLEN低的全部雇员信息</h4><p>查出ALLEN的基本工资<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE ename=&apos;allen&apos;;</div><div class="line">+---------+</div><div class="line">| sal     |</div><div class="line">+---------+</div><div class="line">| 1600.00 |</div><div class="line">+---------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>再查出比这个工资还低的员工信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal&lt;(</div><div class="line">    -&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE ename=&apos;allen&apos;</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK    | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK    | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK    | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">7 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询基本工资高于公司平均薪金的全部雇员信息"><a href="#查询基本工资高于公司平均薪金的全部雇员信息" class="headerlink" title="查询基本工资高于公司平均薪金的全部雇员信息"></a>查询基本工资高于公司平均薪金的全部雇员信息</h4><p>平均工资<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT AVG(sal)</div><div class="line">    -&gt; FROM emp;</div><div class="line">+-------------+</div><div class="line">| AVG(sal)    |</div><div class="line">+-------------+</div><div class="line">| 2073.214286 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>高于平均工资的员工信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal &gt;(</div><div class="line">    -&gt; SELECT AVG(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; );</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="单行多列子查询"><a href="#单行多列子查询" class="headerlink" title="单行多列子查询"></a>单行多列子查询</h3><h4 id="查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息"><a href="#查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息" class="headerlink" title="查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息,"></a>查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息,</h4><p>先查出ALLEN的工作和编辑为7521的工资,再分别添加条件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">SELECT * </div><div class="line">FROM emp</div><div class="line">WHERE job=(</div><div class="line">SELECT job</div><div class="line">FROM emp</div><div class="line">WHERE ename=&apos;allen&apos;</div><div class="line">) </div><div class="line">AND sal &gt;(</div><div class="line">SELECT sal </div><div class="line">FROM emp</div><div class="line">WHERE empno=7521</div><div class="line">) AND  NOT ename=&apos;allen&apos;;</div></pre></td></tr></table></figure></p>
<h4 id="查询与SCOTT从事同一工作且工资相同的雇员信息"><a href="#查询与SCOTT从事同一工作且工资相同的雇员信息" class="headerlink" title="查询与SCOTT从事同一工作且工资相同的雇员信息"></a>查询与SCOTT从事同一工作且工资相同的雇员信息</h4><p>查询出SCOTT的工作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT job</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE ename=&apos;scott&apos;;</div><div class="line">+---------+</div><div class="line">| job     |</div><div class="line">+---------+</div><div class="line">| ANALYST |</div><div class="line">+---------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>再查询出相同工作的员工<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=(</div><div class="line">    -&gt; SELECT job</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE ename=&apos;scott&apos;</div><div class="line">    -&gt; ) AND NOT ename=&apos;scott&apos;;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7902 | FORD  | ANALYST | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询与雇员7566从事同一工作且领导相同的全部雇员信息"><a href="#查询与雇员7566从事同一工作且领导相同的全部雇员信息" class="headerlink" title="查询与雇员7566从事同一工作且领导相同的全部雇员信息"></a>查询与雇员7566从事同一工作且领导相同的全部雇员信息</h4><p>查询出7566的工作与领导<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select job,mgr</div><div class="line">    -&gt; from emp</div><div class="line">    -&gt; where empno=7566;</div><div class="line">+---------+------+</div><div class="line">| job     | mgr  |</div><div class="line">+---------+------+</div><div class="line">| MANAGER | 7839 |</div><div class="line">+---------+------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>再查询出相同的员工<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT</div><div class="line">    -&gt;   *</div><div class="line">    -&gt; FROM</div><div class="line">    -&gt;   emp</div><div class="line">    -&gt; WHERE (job, mgr) =</div><div class="line">    -&gt;   (SELECT</div><div class="line">    -&gt;     job,</div><div class="line">    -&gt;     mgr</div><div class="line">    -&gt;   FROM</div><div class="line">    -&gt;     emp</div><div class="line">    -&gt;   WHERE empno = 7566) ;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="多行单列子查询"><a href="#多行单列子查询" class="headerlink" title="多行单列子查询"></a>多行单列子查询</h3><p>主要使用三种操作符：IN、ANY、ALL</p>
<h3 id="IN操作"><a href="#IN操作" class="headerlink" title="IN操作"></a>IN操作</h3><h4 id="查询出与每个部门中最低工资相同的全部雇员信息"><a href="#查询出与每个部门中最低工资相同的全部雇员信息" class="headerlink" title="查询出与每个部门中最低工资相同的全部雇员信息"></a>查询出与每个部门中最低工资相同的全部雇员信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal IN(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job   | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询出不与每个部门中最低工资相同的全部雇员信息"><a href="#查询出不与每个部门中最低工资相同的全部雇员信息" class="headerlink" title="查询出不与每个部门中最低工资相同的全部雇员信息"></a>查询出不与每个部门中最低工资相同的全部雇员信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal NOT IN(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="ANY在使用中有如下三种使用形式："><a href="#ANY在使用中有如下三种使用形式：" class="headerlink" title="ANY在使用中有如下三种使用形式："></a>ANY在使用中有如下三种使用形式：</h3><p>=ANY：表示与子查询中的每个元素进行比较，功能与IN类似（然而&lt;&gt;ANY不等价于NOT IN）</p>
<blockquote>
<p>ANY：比子查询中返回结果的最小的要大（还包含了&gt;=ANY）</p>
<p>&lt;ANY：比子查询中返回结果的最大的要小（还包含了&lt;=ANY）</p>
</blockquote>
<h4 id="查询出每个部门经理的工资"><a href="#查询出每个部门经理的工资" class="headerlink" title="查询出每个部门经理的工资"></a>查询出每个部门经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno;</div><div class="line">+----------+</div><div class="line">| MIN(sal) |</div><div class="line">+----------+</div><div class="line">|  2450.00 |</div><div class="line">|  2975.00 |</div><div class="line">|  2850.00 |</div><div class="line">+----------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal = ANY(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询出每个部门大于经理的工资"><a href="#查询出每个部门大于经理的工资" class="headerlink" title="查询出每个部门大于经理的工资"></a>查询出每个部门大于经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal &gt; ANY(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询出每个部门小于经理的工资"><a href="#查询出每个部门小于经理的工资" class="headerlink" title="查询出每个部门小于经理的工资"></a>查询出每个部门小于经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal &lt; ANY(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK    | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER  | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER  | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK    | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK    | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">10 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="ALL操作符有以下三种用法："><a href="#ALL操作符有以下三种用法：" class="headerlink" title="ALL操作符有以下三种用法："></a>ALL操作符有以下三种用法：</h3><p>&lt;&gt;ALL：等价于NOT IN（但是=ALL并不等价于IN）</p>
<blockquote>
<p>ALL：比子查询中最大的值还要大（还包含了&gt;=ALL）</p>
<p>&lt;ALL：比子查询中最小的值还要小（还包含了&lt;=ALL）</p>
</blockquote>
<h4 id="查询出每个部门不等于经理的工资"><a href="#查询出每个部门不等于经理的工资" class="headerlink" title="查询出每个部门不等于经理的工资"></a>查询出每个部门不等于经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal&lt;&gt;ALL(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询出每个部门大于经理的工资-1"><a href="#查询出每个部门大于经理的工资-1" class="headerlink" title="查询出每个部门大于经理的工资"></a>查询出每个部门大于经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal&gt;ALL(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询出每个部门小于经理的工资-1"><a href="#查询出每个部门小于经理的工资-1" class="headerlink" title="查询出每个部门小于经理的工资"></a>查询出每个部门小于经理的工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE sal&lt;ALL(</div><div class="line">    -&gt; SELECT MIN(sal)</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;manager&apos;</div><div class="line">    -&gt; GROUP BY deptno</div><div class="line">    -&gt; );</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK    | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK    | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK    | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">8 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="空数据判断"><a href="#空数据判断" class="headerlink" title="空数据判断"></a>空数据判断</h3><p>在SQL之中提供了一个exists结构用于判断子查询是否有数据返回。如果子查询中有数据返回，则exists结构返回true，反之返回false。</p>
<h4 id="验证exists结构"><a href="#验证exists结构" class="headerlink" title="验证exists结构"></a>验证exists结构</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">--验证exists结构</div><div class="line">SELECT * FROM emp</div><div class="line">    WHERE EXISTS(   --返回空值，没有内容输出</div><div class="line">      SELECT * FROM emp WHERE empno=9999); --没有这个编号的员工</div><div class="line">mysql&gt; select *</div><div class="line">    -&gt; from emp</div><div class="line">    -&gt; where exists(</div><div class="line">    -&gt; select * from emp where empno=9999);</div><div class="line">Empty set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="有数据返回"><a href="#有数据返回" class="headerlink" title="有数据返回"></a>有数据返回</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SELECT * FROM emp</div><div class="line"> WHERE EXISTS(SELECT * FROM emp);--有内容将返回数据</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp</div><div class="line">    -&gt; where exists(</div><div class="line">    -&gt; select * from emp);</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="测试取反"><a href="#测试取反" class="headerlink" title="测试取反"></a>测试取反</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT * FROM emp</div><div class="line">    -&gt;  WHERE NOT EXISTS(SELECT * FROM emp);--有数据，但取返，没有内容输出</div><div class="line">Empty set (0.00 sec)</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十二子查询一-WHERE中的子查询&quot;&gt;&lt;a href=&quot;#mysql学习十二子查询一-WHERE中的子查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十二子查询一(WHERE中的子查询)&quot;&gt;&lt;/a&gt;mysql学习十二子查询一
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十一多表数据查询</title>
    <link href="https://ln0491.github.io/2017/02/16/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E4%B8%80%E5%A4%9A%E8%A1%A8%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/16/mysql学习十一多表数据查询/</id>
    <published>2017-02-16T02:10:47.000Z</published>
    <updated>2017-02-16T03:22:15.337Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十一多表数据查询"><a href="#mysql学习十一多表数据查询" class="headerlink" title="mysql学习十一多表数据查询"></a>mysql学习十一多表数据查询</h3><p>多表查询分为：内连接，外连接，子查询</p>
<h4 id="UNION与UNION-ALL"><a href="#UNION与UNION-ALL" class="headerlink" title="UNION与UNION ALL"></a>UNION与UNION ALL</h4><p>UNION用的比较多union all是直接连接，取到得是所有值，记录可能有重复   union 是取唯一值，记录没有重复<br>  1、UNION 的语法如下：<br>     [SQL 语句 1]<br>      UNION<br>     [SQL 语句 2]<br>2、UNION ALL 的语法如下：<br>     [SQL 语句 1]<br>      UNION ALL<br>     [SQL 语句 2]<br>效率：<br>UNION和UNION ALL关键字都是将两个结果集合并为一个，但这两者从使用和效率上来说都有所不同。<br>1、对重复结果的处理：UNION在进行表链接后会筛选掉重复的记录，Union All不会去除重复记录。<br>2、对排序的处理：Union将会按照字段的顺序进行排序；UNION ALL只是简单的将两个结果合并后就返回。<br>从效率上说，UNION ALL 要比UNION快很多，所以，如果可以确认合并的两个结果集中不包含重复数据且不需要排序时的话，那么就使用UNION ALL。</p>
<h4 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h4><p>查询所有员工的信息和部门信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp ,dept;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno | deptno | dname      | loc      |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |     40 | OPERATIONS | BOSTON   |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |     40 | OPERATIONS | BOSTON   |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">56 rows in set (0.01 sec)</div></pre></td></tr></table></figure>
<p>原来只有14条记录的，2张表一起查就变56条，<br>消除笛卡尔积</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp e,dept d where e.deptno=d.deptno;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno | deptno | dname      | loc      |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |     30 | SALES      | CHICAGO  |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |     20 | RESEARCH   | DALLAS   |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |     10 | ACCOUNTING | NEW YORK |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+--------+------------+----------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="内连接-INNER-JION"><a href="#内连接-INNER-JION" class="headerlink" title="内连接 INNER JION"></a>内连接 INNER JION</h4><p>连接分为内连接 INNER JION，外连接 OUTER JION，交叉连接 CROSS JION</p>
<p>内连接： 在表关系的笛卡尔积数据记录中，保留表关系中所有匹配的数据记录，舍弃不匹配的数据记录<br>分为自然连接、等值连接，不等连接</p>
<h4 id="查询每个员工的编号、姓名、职位、基本工资、部门名称、部门位置"><a href="#查询每个员工的编号、姓名、职位、基本工资、部门名称、部门位置" class="headerlink" title="查询每个员工的编号、姓名、职位、基本工资、部门名称、部门位置"></a>查询每个员工的编号、姓名、职位、基本工资、部门名称、部门位置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.job,e.sal,d.dname,d.loc</div><div class="line">    -&gt; FROM emp e ,dept d</div><div class="line">    -&gt; WHERE e.deptno = d.deptno;</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">| empno | ename  | job       | sal     | dname      | loc      |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     |  800.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 1600.00 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7566 | JONES  | MANAGER   | 2975.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 2850.00 | SALES      | CHICAGO  |</div><div class="line">|  7782 | CLARK  | MANAGER   | 2450.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7839 | KING   | PRESIDENT | 5000.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7844 | TURNER | SALESMAN  | 1500.00 | SALES      | CHICAGO  |</div><div class="line">|  7876 | ADAMS  | CLERK     | 1100.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7900 | JAMES  | CLERK     |  950.00 | SALES      | CHICAGO  |</div><div class="line">|  7902 | FORD   | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7934 | MILLER | CLERK     | 1300.00 | ACCOUNTING | NEW YORK |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>第二种连接查询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.job,e.sal,d.dname,d.loc</div><div class="line">    -&gt; FROM emp e INNER JOIN dept d ON e.deptno = d.deptno;</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">| empno | ename  | job       | sal     | dname      | loc      |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     |  800.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 1600.00 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7566 | JONES  | MANAGER   | 2975.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 2850.00 | SALES      | CHICAGO  |</div><div class="line">|  7782 | CLARK  | MANAGER   | 2450.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7839 | KING   | PRESIDENT | 5000.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7844 | TURNER | SALESMAN  | 1500.00 | SALES      | CHICAGO  |</div><div class="line">|  7876 | ADAMS  | CLERK     | 1100.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7900 | JAMES  | CLERK     |  950.00 | SALES      | CHICAGO  |</div><div class="line">|  7902 | FORD   | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7934 | MILLER | CLERK     | 1300.00 | ACCOUNTING | NEW YORK |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>结果相同<br>左连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.job,e.sal,d.dname,d.loc</div><div class="line">    -&gt; FROM emp e LEFT JOIN dept d ON e.deptno = d.deptno;</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">| empno | ename  | job       | sal     | dname      | loc      |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">|  7782 | CLARK  | MANAGER   | 2450.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7839 | KING   | PRESIDENT | 5000.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7934 | MILLER | CLERK     | 1300.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7369 | SMITH  | CLERK     |  800.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7566 | JONES  | MANAGER   | 2975.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7876 | ADAMS  | CLERK     | 1100.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7902 | FORD   | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 1600.00 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 2850.00 | SALES      | CHICAGO  |</div><div class="line">|  7844 | TURNER | SALESMAN  | 1500.00 | SALES      | CHICAGO  |</div><div class="line">|  7900 | JAMES  | CLERK     |  950.00 | SALES      | CHICAGO  |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>右连接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT e.empno,e.ename,e.job,e.sal,d.dname,d.loc</div><div class="line">    -&gt; FROM emp e RIGHT JOIN dept d ON e.deptno = d.deptno;</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">| empno | ename  | job       | sal     | dname      | loc      |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     |  800.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 1600.00 | SALES      | CHICAGO  |</div><div class="line">|  7521 | WARD   | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7566 | JONES  | MANAGER   | 2975.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 1250.00 | SALES      | CHICAGO  |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 2850.00 | SALES      | CHICAGO  |</div><div class="line">|  7782 | CLARK  | MANAGER   | 2450.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7839 | KING   | PRESIDENT | 5000.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  7844 | TURNER | SALESMAN  | 1500.00 | SALES      | CHICAGO  |</div><div class="line">|  7876 | ADAMS  | CLERK     | 1100.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7900 | JAMES  | CLERK     |  950.00 | SALES      | CHICAGO  |</div><div class="line">|  7902 | FORD   | ANALYST   | 3000.00 | RESEARCH   | DALLAS   |</div><div class="line">|  7934 | MILLER | CLERK     | 1300.00 | ACCOUNTING | NEW YORK |</div><div class="line">|  NULL | NULL   | NULL      |    NULL | OPERATIONS | BOSTON   |</div><div class="line">+-------+--------+-----------+---------+------------+----------+</div><div class="line">15 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="集合运算是一种二目运算符"><a href="#集合运算是一种二目运算符" class="headerlink" title="集合运算是一种二目运算符"></a>集合运算是一种二目运算符</h4><p> 一共4种运算符,并，差，交，笛卡尔积</p>
<p>集合运算语法:</p>
<p>查询语句<br>[UNION | UNION ALL | INTERSECT|MINUS |]<br>查询语句<br>…</p>
<p>UNION(并集):返回查询结果的全部内容，但是重复内容不显示</p>
<p>UNION ALL(并集):返回查询结果的全部内容，但是重复内容显示</p>
<p>INTERSECT(交集):返回查询结果中的相同部分</p>
<p>MINUS(差集):返回查询结果中的不同部分</p>
<h4 id="UNION-并集"><a href="#UNION-并集" class="headerlink" title="(UNION)并集"></a>(UNION)并集</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT * from dept</div><div class="line">    -&gt; union</div><div class="line">    -&gt; select * from dept where deptno=10;</div><div class="line">+--------+------------+----------+</div><div class="line">| deptno | dname      | loc      |</div><div class="line">+--------+------------+----------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |</div><div class="line">|     20 | RESEARCH   | DALLAS   |</div><div class="line">|     30 | SALES      | CHICAGO  |</div><div class="line">|     40 | OPERATIONS | BOSTON   |</div><div class="line">+--------+------------+----------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>结果返回4条记录,重复内容未显示</p>
<h4 id="UNION-ALL-并集"><a href="#UNION-ALL-并集" class="headerlink" title="(UNION ALL)并集"></a>(UNION ALL)并集</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT * FROM dept</div><div class="line">    -&gt; UNION ALL</div><div class="line">    -&gt; SELECT * FROM dept WHERE deptno=10;</div><div class="line">+--------+------------+----------+</div><div class="line">| deptno | dname      | loc      |</div><div class="line">+--------+------------+----------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |</div><div class="line">|     20 | RESEARCH   | DALLAS   |</div><div class="line">|     30 | SALES      | CHICAGO  |</div><div class="line">|     40 | OPERATIONS | BOSTON   |</div><div class="line">|     10 | ACCOUNTING | NEW YORK |</div><div class="line">+--------+------------+----------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>结果返回5条记录，重复内容会显示</p>
<h4 id="子查询一单行单列"><a href="#子查询一单行单列" class="headerlink" title="子查询一单行单列"></a>子查询一单行单列</h4><p>查询所有比SMITH工资高的人<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT * FROM emp</div><div class="line">    -&gt;  WHERE sal&gt;(</div><div class="line">    -&gt; SELECT e.sal</div><div class="line">    -&gt; FROM emp e</div><div class="line">    -&gt; WHERE e.ename=&apos;smith&apos;);</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">13 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="单行多列"><a href="#单行多列" class="headerlink" title="单行多列"></a>单行多列</h4><p>查询所有工资和职位和SMITH相同的人<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT * FROM emp</div><div class="line">    -&gt;  WHERE (sal,job)=(</div><div class="line">    -&gt; SELECT sal,job</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE ename=&apos;smith&apos;);</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal    | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 | 800.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="多行单列-IN-ANY-ALL-EXISTS"><a href="#多行单列-IN-ANY-ALL-EXISTS" class="headerlink" title="多行单列 IN ANY,ALL EXISTS"></a>多行单列 IN ANY,ALL EXISTS</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT * FROM emp</div><div class="line">    -&gt; WHERE deptno IN(</div><div class="line">    -&gt; SELECT deptno</div><div class="line">    -&gt; FROM dept);</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="ANY"><a href="#ANY" class="headerlink" title="ANY"></a>ANY</h4><ul>
<li>=ANY 功能与IN一样</li>
<li><blockquote>
<p>ANY(&gt;=ANY) 比子查询中最小的记录还要大于（大于等于）</p>
</blockquote>
</li>
<li><any(<=any) 比子查询中最大的记录还要大于（小于等于）="" <figure="" class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;MANAGER&apos;;</div><div class="line">+---------+</div><div class="line">| sal     |</div><div class="line">+---------+</div><div class="line">| 2975.00 |</div><div class="line">| 2850.00 |</div><div class="line">| 2450.00 |</div><div class="line">+---------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table>

</any(<=any)></li>
</ul>
<p>使用ANY<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ename,sal FROM emp</div><div class="line">    -&gt; WHERE sal &gt;=ANY(</div><div class="line">    -&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;MANAGER&apos;);</div><div class="line">+-------+---------+</div><div class="line">| ename | sal     |</div><div class="line">+-------+---------+</div><div class="line">| JONES | 2975.00 |</div><div class="line">| BLAKE | 2850.00 |</div><div class="line">| CLARK | 2450.00 |</div><div class="line">| SCOTT | 3000.00 |</div><div class="line">| KING  | 5000.00 |</div><div class="line">| FORD  | 3000.00 |</div><div class="line">+-------+---------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ename,sal FROM emp</div><div class="line">    -&gt; WHERE sal &gt;ANY(</div><div class="line">    -&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;MANAGER&apos;);</div><div class="line">+-------+---------+</div><div class="line">| ename | sal     |</div><div class="line">+-------+---------+</div><div class="line">| JONES | 2975.00 |</div><div class="line">| BLAKE | 2850.00 |</div><div class="line">| SCOTT | 3000.00 |</div><div class="line">| KING  | 5000.00 |</div><div class="line">| FORD  | 3000.00 |</div><div class="line">+-------+---------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="ALL"><a href="#ALL" class="headerlink" title="ALL"></a>ALL</h4><ul>
<li>=ALL 功能与IN一样</li>
<li><blockquote>
<p>ALL(&gt;=ALL) 比子查询中最大的记录还要大于（大于等于）</p>
</blockquote>
</li>
<li>&lt;ALL(&lt;=ALL) 比子查询中最小的记录还要小于（小于等于）</li>
</ul>
<p>大于ALL<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ename,sal,job FROM emp</div><div class="line">    -&gt; WHERE sal &gt;ALL(</div><div class="line">    -&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;MANAGER&apos;);</div><div class="line">+-------+---------+-----------+</div><div class="line">| ename | sal     | job       |</div><div class="line">+-------+---------+-----------+</div><div class="line">| SCOTT | 3000.00 | ANALYST   |</div><div class="line">| KING  | 5000.00 | PRESIDENT |</div><div class="line">| FORD  | 3000.00 | ANALYST   |</div><div class="line">+-------+---------+-----------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>小于all<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT ename,sal,job FROM emp</div><div class="line">    -&gt; WHERE sal &lt;ALL(</div><div class="line">    -&gt; SELECT sal</div><div class="line">    -&gt; FROM emp</div><div class="line">    -&gt; WHERE job=&apos;MANAGER&apos;);</div><div class="line">+--------+---------+----------+</div><div class="line">| ename  | sal     | job      |</div><div class="line">+--------+---------+----------+</div><div class="line">| SMITH  |  800.00 | CLERK    |</div><div class="line">| ALLEN  | 1600.00 | SALESMAN |</div><div class="line">| WARD   | 1250.00 | SALESMAN |</div><div class="line">| MARTIN | 1250.00 | SALESMAN |</div><div class="line">| TURNER | 1500.00 | SALESMAN |</div><div class="line">| ADAMS  | 1100.00 | CLERK    |</div><div class="line">| JAMES  |  950.00 | CLERK    |</div><div class="line">| MILLER | 1300.00 | CLERK    |</div><div class="line">+--------+---------+----------+</div><div class="line">8 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="EXISTS的子查询"><a href="#EXISTS的子查询" class="headerlink" title="EXISTS的子查询"></a>EXISTS的子查询</h4><p>关键字EXISTS是一个布尔类型，当返回的结果集时为TRUE，不能返回结果集时为FALSE.<br>查询部门表中有员工的部门或者没有员工部门 多行单列<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM dept d</div><div class="line">    -&gt; WHERE NOT EXISTS(</div><div class="line">    -&gt; SELECT * FROM emp</div><div class="line">    -&gt; WHERE deptno = d.deptno</div><div class="line">    -&gt; );</div><div class="line">+--------+------------+--------+</div><div class="line">| deptno | dname      | loc    |</div><div class="line">+--------+------------+--------+</div><div class="line">|     40 | OPERATIONS | BOSTON |</div><div class="line">+--------+------------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT *</div><div class="line">    -&gt; FROM dept d</div><div class="line">    -&gt; WHERE  EXISTS(</div><div class="line">    -&gt; SELECT * FROM emp</div><div class="line">    -&gt; WHERE deptno = d.deptno</div><div class="line">    -&gt; );</div><div class="line">+--------+------------+----------+</div><div class="line">| deptno | dname      | loc      |</div><div class="line">+--------+------------+----------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |</div><div class="line">|     20 | RESEARCH   | DALLAS   |</div><div class="line">|     30 | SALES      | CHICAGO  |</div><div class="line">+--------+------------+----------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>多行多列</p>
<p>查询员工表中各个部门的编辑，名称，地址，员工人数，平均工资</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT d.deptno,d.dname,d.loc,COUNT(e.empno) counts,ROUND(AVG(e.sal),2) avgsal</div><div class="line">    -&gt; FROM emp e INNER JOIN dept d</div><div class="line">    -&gt; ON e.deptno=d.deptno</div><div class="line">    -&gt; GROUP BY deptno,dname,loc;</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">| deptno | dname      | loc      | counts | avgsal  |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |      3 | 2916.67 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |      5 | 2175.00 |</div><div class="line">|     30 | SALES      | CHICAGO  |      6 | 1566.67 |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT d.deptno,d.dname,d.loc,COUNT(e.empno) counts,ROUND(AVG(e.sal),2) avgsal</div><div class="line">    -&gt; FROM emp e INNER JOIN dept d</div><div class="line">    -&gt; ON e.deptno=d.deptno</div><div class="line">    -&gt; GROUP BY deptno DESC,dname,loc;</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">| deptno | dname      | loc      | counts | avgsal  |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">|     30 | SALES      | CHICAGO  |      6 | 1566.67 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |      5 | 2175.00 |</div><div class="line">|     10 | ACCOUNTING | NEW YORK |      3 | 2916.67 |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>查询每个部门的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT</div><div class="line">    -&gt;   e.deptno,</div><div class="line">    -&gt;   de.dname,</div><div class="line">    -&gt;   de.loc,</div><div class="line">    -&gt;   de.counts,</div><div class="line">    -&gt;   de.avgsal</div><div class="line">    -&gt; FROM</div><div class="line">    -&gt;   dept e</div><div class="line">    -&gt;   INNER JOIN</div><div class="line">    -&gt;     (SELECT</div><div class="line">    -&gt;       d.deptno,</div><div class="line">    -&gt;       d.dname,</div><div class="line">    -&gt;       d.loc,</div><div class="line">    -&gt;       COUNT(e.empno) counts,</div><div class="line">    -&gt;       ROUND(AVG(e.sal), 2) avgsal</div><div class="line">    -&gt;     FROM</div><div class="line">    -&gt;       emp e</div><div class="line">    -&gt;       INNER JOIN dept d</div><div class="line">    -&gt;         ON e.deptno = d.deptno</div><div class="line">    -&gt;     GROUP BY deptno DESC,</div><div class="line">    -&gt;       dname,</div><div class="line">    -&gt;       loc) de</div><div class="line">    -&gt;     ON e.deptno = de.deptno ;</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">| deptno | dname      | loc      | counts | avgsal  |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">|     10 | ACCOUNTING | NEW YORK |      3 | 2916.67 |</div><div class="line">|     20 | RESEARCH   | DALLAS   |      5 | 2175.00 |</div><div class="line">|     30 | SALES      | CHICAGO  |      6 | 1566.67 |</div><div class="line">+--------+------------+----------+--------+---------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十一多表数据查询&quot;&gt;&lt;a href=&quot;#mysql学习十一多表数据查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十一多表数据查询&quot;&gt;&lt;/a&gt;mysql学习十一多表数据查询&lt;/h3&gt;&lt;p&gt;多表查询分为：内连接，外连接，子查询
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习十单表记录查询</title>
    <link href="https://ln0491.github.io/2017/02/14/mysql%E5%AD%A6%E4%B9%A0%E5%8D%81%E5%8D%95%E8%A1%A8%E8%AE%B0%E5%BD%95%E6%9F%A5%E8%AF%A2/"/>
    <id>https://ln0491.github.io/2017/02/14/mysql学习十单表记录查询/</id>
    <published>2017-02-14T02:41:23.000Z</published>
    <updated>2017-02-15T06:01:59.716Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习十单表记录查询"><a href="#mysql学习十单表记录查询" class="headerlink" title="mysql学习十单表记录查询"></a>mysql学习十单表记录查询</h3><p>语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">SELECT</div><div class="line">    [ALL | DISTINCT | DISTINCTROW ]</div><div class="line">      [HIGH_PRIORITY]</div><div class="line">      [STRAIGHT_JOIN]</div><div class="line">      [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]</div><div class="line">      [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]</div><div class="line">    select_expr, ...</div><div class="line">    [FROM table_references</div><div class="line">    [WHERE where_condition]</div><div class="line">    [GROUP BY &#123;col_name | expr | position&#125;</div><div class="line">      [ASC | DESC], ... [WITH ROLLUP]]</div><div class="line">    [HAVING where_condition]</div><div class="line">    [ORDER BY &#123;col_name | expr | position&#125;</div><div class="line">      [ASC | DESC], ...]</div><div class="line">    [LIMIT &#123;[offset,] row_count | row_count OFFSET offset&#125;]</div><div class="line">    [PROCEDURE procedure_name(argument_list)]</div><div class="line">    [INTO OUTFILE &apos;file_name&apos; export_options</div><div class="line">      | INTO DUMPFILE &apos;file_name&apos;]</div><div class="line">    [FOR UPDATE | LOCK IN SHARE MODE]]</div></pre></td></tr></table></figure>
<h4 id="建立表为oracle。scott用户下的表"><a href="#建立表为oracle。scott用户下的表" class="headerlink" title="建立表为oracle。scott用户下的表"></a>建立表为oracle。scott用户下的表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">CREATE TABLE emp (</div><div class="line">    empno NUMERIC(4) NOT NULL,</div><div class="line">    ename VARCHAR(10),</div><div class="line">    job VARCHAR(9),</div><div class="line">    mgr NUMERIC(4),</div><div class="line">    hiredate DATETIME,</div><div class="line">    sal NUMERIC(7, 2),</div><div class="line">    comm NUMERIC(7, 2),</div><div class="line">    deptno NUMERIC(2)</div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO emp VALUES (7369, &apos;SMITH&apos;, &apos;CLERK&apos;, 7902, &apos;1980-12-17&apos;, 800, NULL, 20);</div><div class="line">INSERT INTO emp VALUES (7499, &apos;ALLEN&apos;, &apos;SALESMAN&apos;, 7698, &apos;1981-02-20&apos;, 1600, 300, 30);</div><div class="line">INSERT INTO emp VALUES (7521, &apos;WARD&apos;, &apos;SALESMAN&apos;, 7698, &apos;1981-02-22&apos;, 1250, 500, 30);</div><div class="line">INSERT INTO emp VALUES (7566, &apos;JONES&apos;, &apos;MANAGER&apos;, 7839, &apos;1981-04-02&apos;, 2975, NULL, 20);</div><div class="line">INSERT INTO emp VALUES (7654, &apos;MARTIN&apos;, &apos;SALESMAN&apos;, 7698, &apos;1981-09-28&apos;, 1250, 1400, 30);</div><div class="line">INSERT INTO emp VALUES (7698, &apos;BLAKE&apos;, &apos;MANAGER&apos;, 7839, &apos;1981-05-01&apos;, 2850, NULL, 30);</div><div class="line">INSERT INTO emp VALUES (7782, &apos;CLARK&apos;, &apos;MANAGER&apos;, 7839, &apos;1981-06-09&apos;, 2450, NULL, 10);</div><div class="line">INSERT INTO emp VALUES (7788, &apos;SCOTT&apos;, &apos;ANALYST&apos;, 7566, &apos;1982-12-09&apos;, 3000, NULL, 20);</div><div class="line">INSERT INTO emp VALUES (7839, &apos;KING&apos;, &apos;PRESIDENT&apos;, NULL, &apos;1981-11-17&apos;, 5000, NULL, 10);</div><div class="line">INSERT INTO emp VALUES (7844, &apos;TURNER&apos;, &apos;SALESMAN&apos;, 7698, &apos;1981-09-08&apos;, 1500, 0, 30);</div><div class="line">INSERT INTO emp VALUES (7876, &apos;ADAMS&apos;, &apos;CLERK&apos;, 7788, &apos;1983-01-12&apos;, 1100, NULL, 20);</div><div class="line">INSERT INTO emp VALUES (7900, &apos;JAMES&apos;, &apos;CLERK&apos;, 7698, &apos;1981-12-03&apos;, 950, NULL, 30);</div><div class="line">INSERT INTO emp VALUES (7902, &apos;FORD&apos;, &apos;ANALYST&apos;, 7566, &apos;1981-12-03&apos;, 3000, NULL, 20);</div><div class="line">INSERT INTO emp VALUES (7934, &apos;MILLER&apos;, &apos;CLERK&apos;, 7782, &apos;1982-01-23&apos;, 1300, NULL, 10);</div><div class="line"></div><div class="line">CREATE TABLE dept (</div><div class="line">    deptno NUMERIC(2),</div><div class="line">    dname VARCHAR(14),</div><div class="line">    loc VARCHAR(13)</div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO dept VALUES (10, &apos;ACCOUNTING&apos;, &apos;NEW YORK&apos;);</div><div class="line">INSERT INTO dept VALUES (20, &apos;RESEARCH&apos;, &apos;DALLAS&apos;);</div><div class="line">INSERT INTO dept VALUES (30, &apos;SALES&apos;, &apos;CHICAGO&apos;);</div><div class="line">INSERT INTO dept VALUES (40, &apos;OPERATIONS&apos;, &apos;BOSTON&apos;);</div><div class="line"></div><div class="line">CREATE TABLE bonus (</div><div class="line">    empno NUMERIC(4),</div><div class="line">    job VARCHAR(9),</div><div class="line">    sal NUMERIC,</div><div class="line">    comm NUMERIC</div><div class="line">);</div><div class="line"></div><div class="line">CREATE TABLE salgrade (</div><div class="line">    grade NUMERIC,</div><div class="line">    losal NUMERIC,</div><div class="line">    hisal NUMERIC</div><div class="line">);</div><div class="line"></div><div class="line">INSERT INTO salgrade VALUES (1, 700, 1200);</div><div class="line">INSERT INTO salgrade VALUES (2, 1201, 1400);</div><div class="line">INSERT INTO salgrade VALUES (3, 1401, 2000);</div><div class="line">INSERT INTO salgrade VALUES (4, 2001, 3000);</div><div class="line">INSERT INTO salgrade VALUES (5, 3001, 9999);</div></pre></td></tr></table></figure>
<h4 id="查询指定字段数据"><a href="#查询指定字段数据" class="headerlink" title="查询指定字段数据"></a>查询指定字段数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">查询指定字段数据:</div><div class="line">SELECT field1 field2 ……fieldn</div><div class="line">    FROM table_name</div><div class="line">SELECT field2 field1 ……fieldn</div><div class="line">    FROM table_name</div></pre></td></tr></table></figure>
<p>查询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select empno,ename,job,mgr, hiredate from emp;</div><div class="line">+-------+--------+-----------+------+---------------------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            |</div><div class="line">+-------+--------+-----------+------+---------------------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 |</div><div class="line">+-------+--------+-----------+------+---------------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询所有字段数据"><a href="#查询所有字段数据" class="headerlink" title="查询所有字段数据"></a>查询所有字段数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT *</div><div class="line">    FROM table_name</div><div class="line"></div><div class="line">SELECT field1 field2 ……fieldn(所有字段)</div><div class="line">    FROM table_name</div></pre></td></tr></table></figure>
<p>查询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show databases;</div><div class="line">+--------------------+</div><div class="line">| Database           |</div><div class="line">+--------------------+</div><div class="line">| information_schema |</div><div class="line">| company            |</div><div class="line">| databasetest       |</div><div class="line">| mysql              |</div><div class="line">| performance_schema |</div><div class="line">| sakila             |</div><div class="line">| sys                |</div><div class="line">| view               |</div><div class="line">| world              |</div><div class="line">+--------------------+</div><div class="line">9 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; use company;</div><div class="line">Database changed</div><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| bonus             |</div><div class="line">| dept              |</div><div class="line">| emp               |</div><div class="line">| salgrade          |</div><div class="line">| t_dept            |</div><div class="line">| t_diary           |</div><div class="line">+-------------------+</div><div class="line">6 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.06 sec)</div></pre></td></tr></table></figure></p>
<h4 id="避免重复数据查询——DISTINCT"><a href="#避免重复数据查询——DISTINCT" class="headerlink" title="避免重复数据查询——DISTINCT"></a>避免重复数据查询——DISTINCT</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select job from emp;</div><div class="line">+-----------+</div><div class="line">| job       |</div><div class="line">+-----------+</div><div class="line">| CLERK     |</div><div class="line">| SALESMAN  |</div><div class="line">| SALESMAN  |</div><div class="line">| MANAGER   |</div><div class="line">| SALESMAN  |</div><div class="line">| MANAGER   |</div><div class="line">| MANAGER   |</div><div class="line">| ANALYST   |</div><div class="line">| PRESIDENT |</div><div class="line">| SALESMAN  |</div><div class="line">| CLERK     |</div><div class="line">| CLERK     |</div><div class="line">| ANALYST   |</div><div class="line">| CLERK     |</div><div class="line">+-----------+</div><div class="line">14 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select distinct job from emp;</div><div class="line">+-----------+</div><div class="line">| job       |</div><div class="line">+-----------+</div><div class="line">| CLERK     |</div><div class="line">| SALESMAN  |</div><div class="line">| MANAGER   |</div><div class="line">| ANALYST   |</div><div class="line">| PRESIDENT |</div><div class="line">+-----------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="实现数学四则运算数据查询"><a href="#实现数学四则运算数据查询" class="headerlink" title="实现数学四则运算数据查询"></a>实现数学四则运算数据查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select 1+1;</div><div class="line">+-----+</div><div class="line">| 1+1 |</div><div class="line">+-----+</div><div class="line">|   2 |</div><div class="line">+-----+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; SELECT empno,ename,job AS 职位,sal AS 月薪,sal*12 AS 年薪 FROM emp;</div><div class="line">+-------+--------+-----------+---------+----------+</div><div class="line">| empno | ename  | 职位      | 月薪    | 年薪     |</div><div class="line">+-------+--------+-----------+---------+----------+</div><div class="line">|  7369 | SMITH  | CLERK     |  800.00 |  9600.00 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 1600.00 | 19200.00 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 1250.00 | 15000.00 |</div><div class="line">|  7566 | JONES  | MANAGER   | 2975.00 | 35700.00 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 1250.00 | 15000.00 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 2850.00 | 34200.00 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 2450.00 | 29400.00 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 3000.00 | 36000.00 |</div><div class="line">|  7839 | KING   | PRESIDENT | 5000.00 | 60000.00 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 1500.00 | 18000.00 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 1100.00 | 13200.00 |</div><div class="line">|  7900 | JAMES  | CLERK     |  950.00 | 11400.00 |</div><div class="line">|  7902 | FORD   | ANALYST   | 3000.00 | 36000.00 |</div><div class="line">|  7934 | MILLER | CLERK     | 1300.00 | 15600.00 |</div><div class="line">+-------+--------+-----------+---------+----------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="设置显示格式数据查询"><a href="#设置显示格式数据查询" class="headerlink" title="设置显示格式数据查询"></a>设置显示格式数据查询</h4><p>SELECT CONCAT(ename,’雇员的年薪为：’,sal*12) yearsalary FROM emp;</p>
<ul>
<li>CONCAT合并连接字符串</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select empno,concat(ename,&apos;工资:&apos;,sal,&apos;年薪&apos;,sal*12) from emp;</div><div class="line">+-------+---------------------------------------------+</div><div class="line">| empno | concat(ename,&apos;工资:&apos;,sal,&apos;年薪&apos;,sal*12)     |</div><div class="line">+-------+---------------------------------------------+</div><div class="line">|  7369 | SMITH工资:800.00年薪9600.00                 |</div><div class="line">|  7499 | ALLEN工资:1600.00年薪19200.00               |</div><div class="line">|  7521 | WARD工资:1250.00年薪15000.00                |</div><div class="line">|  7566 | JONES工资:2975.00年薪35700.00               |</div><div class="line">|  7654 | MARTIN工资:1250.00年薪15000.00              |</div><div class="line">|  7698 | BLAKE工资:2850.00年薪34200.00               |</div><div class="line">|  7782 | CLARK工资:2450.00年薪29400.00               |</div><div class="line">|  7788 | SCOTT工资:3000.00年薪36000.00               |</div><div class="line">|  7839 | KING工资:5000.00年薪60000.00                |</div><div class="line">|  7844 | TURNER工资:1500.00年薪18000.00              |</div><div class="line">|  7876 | ADAMS工资:1100.00年薪13200.00               |</div><div class="line">|  7900 | JAMES工资:950.00年薪11400.00                |</div><div class="line">|  7902 | FORD工资:3000.00年薪36000.00                |</div><div class="line">|  7934 | MILLER工资:1300.00年薪15600.00              |</div><div class="line">+-------+---------------------------------------------+</div><div class="line">14 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select empno,ename,concat(&apos;工资:&apos;,sal,&apos;年薪&apos;,sal*12) from emp;</div><div class="line">+-------+--------+---------------------------------------+</div><div class="line">| empno | ename  | concat(&apos;工资:&apos;,sal,&apos;年薪&apos;,sal*12)     |</div><div class="line">+-------+--------+---------------------------------------+</div><div class="line">|  7369 | SMITH  | 工资:800.00年薪9600.00                |</div><div class="line">|  7499 | ALLEN  | 工资:1600.00年薪19200.00              |</div><div class="line">|  7521 | WARD   | 工资:1250.00年薪15000.00              |</div><div class="line">|  7566 | JONES  | 工资:2975.00年薪35700.00              |</div><div class="line">|  7654 | MARTIN | 工资:1250.00年薪15000.00              |</div><div class="line">|  7698 | BLAKE  | 工资:2850.00年薪34200.00              |</div><div class="line">|  7782 | CLARK  | 工资:2450.00年薪29400.00              |</div><div class="line">|  7788 | SCOTT  | 工资:3000.00年薪36000.00              |</div><div class="line">|  7839 | KING   | 工资:5000.00年薪60000.00              |</div><div class="line">|  7844 | TURNER | 工资:1500.00年薪18000.00              |</div><div class="line">|  7876 | ADAMS  | 工资:1100.00年薪13200.00              |</div><div class="line">|  7900 | JAMES  | 工资:950.00年薪11400.00               |</div><div class="line">|  7902 | FORD   | 工资:3000.00年薪36000.00              |</div><div class="line">|  7934 | MILLER | 工资:1300.00年薪15600.00              |</div><div class="line">+-------+--------+---------------------------------------+</div><div class="line">14 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select empno,ename,concat(&apos;工资:&apos;,sal,&apos;--年薪&apos;,sal*12) from emp;</div><div class="line">+-------+--------+-----------------------------------------+</div><div class="line">| empno | ename  | concat(&apos;工资:&apos;,sal,&apos;--年薪&apos;,sal*12)     |</div><div class="line">+-------+--------+-----------------------------------------+</div><div class="line">|  7369 | SMITH  | 工资:800.00--年薪9600.00                |</div><div class="line">|  7499 | ALLEN  | 工资:1600.00--年薪19200.00              |</div><div class="line">|  7521 | WARD   | 工资:1250.00--年薪15000.00              |</div><div class="line">|  7566 | JONES  | 工资:2975.00--年薪35700.00              |</div><div class="line">|  7654 | MARTIN | 工资:1250.00--年薪15000.00              |</div><div class="line">|  7698 | BLAKE  | 工资:2850.00--年薪34200.00              |</div><div class="line">|  7782 | CLARK  | 工资:2450.00--年薪29400.00              |</div><div class="line">|  7788 | SCOTT  | 工资:3000.00--年薪36000.00              |</div><div class="line">|  7839 | KING   | 工资:5000.00--年薪60000.00              |</div><div class="line">|  7844 | TURNER | 工资:1500.00--年薪18000.00              |</div><div class="line">|  7876 | ADAMS  | 工资:1100.00--年薪13200.00              |</div><div class="line">|  7900 | JAMES  | 工资:950.00--年薪11400.00               |</div><div class="line">|  7902 | FORD   | 工资:3000.00--年薪36000.00              |</div><div class="line">|  7934 | MILLER | 工资:1300.00--年薪15600.00              |</div><div class="line">+-------+--------+-----------------------------------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="条件数据记录查询"><a href="#条件数据记录查询" class="headerlink" title="条件数据记录查询"></a>条件数据记录查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">带有关系运算符和逻辑运算符的条件数据查询。</div><div class="line">Select col from table_name where a=b and c&gt;1 or d&lt;12</div><div class="line"></div><div class="line">SELECT field1,field2,fieldn</div><div class="line">from 表名</div><div class="line">where CONDITION</div></pre></td></tr></table></figure>
<p>CONDITION对数据进行条件查询</p>
<ul>
<li>带关系运算符和逻辑运算符的条件查询</li>
<li>带BETWEEN AND关键字的条件查询</li>
<li>带IS NULL关键字的条件查询</li>
<li>带IN 关键字条件查询</li>
<li>带LIKE关键字的条件查询</li>
</ul>
<h4 id="查询表的所有内容"><a href="#查询表的所有内容" class="headerlink" title="查询表的所有内容"></a>查询表的所有内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询员工编号，姓名，基本工资"><a href="#查询员工编号，姓名，基本工资" class="headerlink" title="查询员工编号，姓名，基本工资"></a>查询员工编号，姓名，基本工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select empno 员工编号 ,ename 姓名,sal 基本工资 from emp;</div><div class="line">+--------------+--------+--------------+</div><div class="line">| 员工编号     | 姓名   | 基本工资     |</div><div class="line">+--------------+--------+--------------+</div><div class="line">|         7369 | SMITH  |       800.00 |</div><div class="line">|         7499 | ALLEN  |      1600.00 |</div><div class="line">|         7521 | WARD   |      1250.00 |</div><div class="line">|         7566 | JONES  |      2975.00 |</div><div class="line">|         7654 | MARTIN |      1250.00 |</div><div class="line">|         7698 | BLAKE  |      2850.00 |</div><div class="line">|         7782 | CLARK  |      2450.00 |</div><div class="line">|         7788 | SCOTT  |      3000.00 |</div><div class="line">|         7839 | KING   |      5000.00 |</div><div class="line">|         7844 | TURNER |      1500.00 |</div><div class="line">|         7876 | ADAMS  |      1100.00 |</div><div class="line">|         7900 | JAMES  |       950.00 |</div><div class="line">|         7902 | FORD   |      3000.00 |</div><div class="line">|         7934 | MILLER |      1300.00 |</div><div class="line">+--------------+--------+--------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询职位并去掉重复"><a href="#查询职位并去掉重复" class="headerlink" title="查询职位并去掉重复"></a>查询职位并去掉重复</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select distinct job from emp;</div><div class="line">+-----------+</div><div class="line">| job       |</div><div class="line">+-----------+</div><div class="line">| CLERK     |</div><div class="line">| SALESMAN  |</div><div class="line">| MANAGER   |</div><div class="line">| ANALYST   |</div><div class="line">| PRESIDENT |</div><div class="line">+-----------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询员工编号，姓名，基本工资-月薪，年薪"><a href="#查询员工编号，姓名，基本工资-月薪，年薪" class="headerlink" title="查询员工编号，姓名，基本工资,月薪，年薪"></a>查询员工编号，姓名，基本工资,月薪，年薪</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select empno 编号,ename 姓名,sal 月薪,sal*12 年薪, sal/30 from emp;</div><div class="line">+--------+--------+---------+----------+------------+</div><div class="line">| 编号   | 姓名   | 月薪    | 年薪     | sal/30     |</div><div class="line">+--------+--------+---------+----------+------------+</div><div class="line">|   7369 | SMITH  |  800.00 |  9600.00 |  26.666667 |</div><div class="line">|   7499 | ALLEN  | 1600.00 | 19200.00 |  53.333333 |</div><div class="line">|   7521 | WARD   | 1250.00 | 15000.00 |  41.666667 |</div><div class="line">|   7566 | JONES  | 2975.00 | 35700.00 |  99.166667 |</div><div class="line">|   7654 | MARTIN | 1250.00 | 15000.00 |  41.666667 |</div><div class="line">|   7698 | BLAKE  | 2850.00 | 34200.00 |  95.000000 |</div><div class="line">|   7782 | CLARK  | 2450.00 | 29400.00 |  81.666667 |</div><div class="line">|   7788 | SCOTT  | 3000.00 | 36000.00 | 100.000000 |</div><div class="line">|   7839 | KING   | 5000.00 | 60000.00 | 166.666667 |</div><div class="line">|   7844 | TURNER | 1500.00 | 18000.00 |  50.000000 |</div><div class="line">|   7876 | ADAMS  | 1100.00 | 13200.00 |  36.666667 |</div><div class="line">|   7900 | JAMES  |  950.00 | 11400.00 |  31.666667 |</div><div class="line">|   7902 | FORD   | 3000.00 | 36000.00 | 100.000000 |</div><div class="line">|   7934 | MILLER | 1300.00 | 15600.00 |  43.333333 |</div><div class="line">+--------+--------+---------+----------+------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select empno 工号,ename 姓名,sal 月薪, sal*12 年薪,ROUND(sal/30,2) 日薪, &apos;$&apos; 货币单位 from emp;</div><div class="line">+--------+--------+---------+----------+--------+--------------+</div><div class="line">| 工号   | 姓名   | 月薪    | 年薪     | 日薪   | 货币单位     |</div><div class="line">+--------+--------+---------+----------+--------+--------------+</div><div class="line">|   7369 | SMITH  |  800.00 |  9600.00 |  26.67 | $            |</div><div class="line">|   7499 | ALLEN  | 1600.00 | 19200.00 |  53.33 | $            |</div><div class="line">|   7521 | WARD   | 1250.00 | 15000.00 |  41.67 | $            |</div><div class="line">|   7566 | JONES  | 2975.00 | 35700.00 |  99.17 | $            |</div><div class="line">|   7654 | MARTIN | 1250.00 | 15000.00 |  41.67 | $            |</div><div class="line">|   7698 | BLAKE  | 2850.00 | 34200.00 |  95.00 | $            |</div><div class="line">|   7782 | CLARK  | 2450.00 | 29400.00 |  81.67 | $            |</div><div class="line">|   7788 | SCOTT  | 3000.00 | 36000.00 | 100.00 | $            |</div><div class="line">|   7839 | KING   | 5000.00 | 60000.00 | 166.67 | $            |</div><div class="line">|   7844 | TURNER | 1500.00 | 18000.00 |  50.00 | $            |</div><div class="line">|   7876 | ADAMS  | 1100.00 | 13200.00 |  36.67 | $            |</div><div class="line">|   7900 | JAMES  |  950.00 | 11400.00 |  31.67 | $            |</div><div class="line">|   7902 | FORD   | 3000.00 | 36000.00 | 100.00 | $            |</div><div class="line">|   7934 | MILLER | 1300.00 | 15600.00 |  43.33 | $            |</div><div class="line">+--------+--------+---------+----------+--------+--------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询表中有多少条记录"><a href="#查询表中有多少条记录" class="headerlink" title="查询表中有多少条记录"></a>查询表中有多少条记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select count(*) from emp;</div><div class="line">+----------+</div><div class="line">| count(*) |</div><div class="line">+----------+</div><div class="line">|       14 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询基本工资高于1500的全部员工信息"><a href="#查询基本工资高于1500的全部员工信息" class="headerlink" title="查询基本工资高于1500的全部员工信息"></a>查询基本工资高于1500的全部员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where  sal&gt;1500;</div><div class="line">+-------+-------+-----------+------+---------------------+---------+--------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm   | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+--------+--------+</div><div class="line">|  7499 | ALLEN | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 | 300.00 |     30 |</div><div class="line">|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |   NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |   NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |   NULL |     10 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |   NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+--------+--------+</div><div class="line">7 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询基本工资小于等于2000的全部员工信息"><a href="#查询基本工资小于等于2000的全部员工信息" class="headerlink" title="查询基本工资小于等于2000的全部员工信息"></a>查询基本工资小于等于2000的全部员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where sal&lt;=2000;</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK    | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK    | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK    | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">8 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询姓名是smith的员工信息"><a href="#查询姓名是smith的员工信息" class="headerlink" title="查询姓名是smith的员工信息"></a>查询姓名是smith的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where ename=&apos;smith&apos;;</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal    | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 | 800.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line">mysql&gt; select * from emp where ename=&apos;SMITH&apos;;</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal    | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 | 800.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>字符串是不区大小写的</p>
<h4 id="查询职位是clerk的的员工信息"><a href="#查询职位是clerk的的员工信息" class="headerlink" title="查询职位是clerk的的员工信息"></a>查询职位是clerk的的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where job=&apos;clerk&apos;;</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job   | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7876 | ADAMS  | CLERK | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7934 | MILLER | CLERK | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div></pre></td></tr></table></figure>
<h4 id="查询职位不是clerk的的员工信息"><a href="#查询职位不是clerk的的员工信息" class="headerlink" title="查询职位不是clerk的的员工信息"></a>查询职位不是clerk的的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where job!=&apos;clerk&apos;;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line"></div><div class="line">mysql&gt; select * from emp where job &lt;&gt;&apos;clerk&apos;;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where not job=&apos;clerk&apos;;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">10 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询工资在1500-3000包含1500和3000的员工的信息"><a href="#查询工资在1500-3000包含1500和3000的员工的信息" class="headerlink" title="查询工资在1500~3000包含1500和3000的员工的信息"></a>查询工资在1500~3000包含1500和3000的员工的信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where sal between 1500 and 3000;</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm   | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 | 300.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER  | 7839 | 1981-04-02 00:00:00 | 2975.00 |   NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER  | 7839 | 1981-05-01 00:00:00 | 2850.00 |   NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER  | 7839 | 1981-06-09 00:00:00 | 2450.00 |   NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST  | 7566 | 1982-12-09 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |   0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST  | 7566 | 1981-12-03 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">7 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where sal&gt;=1500 and sal &lt;=3000;</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm   | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 | 300.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER  | 7839 | 1981-04-02 00:00:00 | 2975.00 |   NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER  | 7839 | 1981-05-01 00:00:00 | 2850.00 |   NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER  | 7839 | 1981-06-09 00:00:00 | 2450.00 |   NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST  | 7566 | 1982-12-09 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |   0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST  | 7566 | 1981-12-03 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">7 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where sal&gt;=1500 &amp;&amp; sal &lt;=3000;</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm   | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 | 300.00 |     30 |</div><div class="line">|  7566 | JONES  | MANAGER  | 7839 | 1981-04-02 00:00:00 | 2975.00 |   NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER  | 7839 | 1981-05-01 00:00:00 | 2850.00 |   NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER  | 7839 | 1981-06-09 00:00:00 | 2450.00 |   NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST  | 7566 | 1982-12-09 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |   0.00 |     30 |</div><div class="line">|  7902 | FORD   | ANALYST  | 7566 | 1981-12-03 00:00:00 | 3000.00 |   NULL |     20 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+--------+--------+</div><div class="line">7 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询职位是销售人员salesman并且工资高于1200的员工信息"><a href="#查询职位是销售人员salesman并且工资高于1200的员工信息" class="headerlink" title="查询职位是销售人员salesman并且工资高于1200的员工信息"></a>查询职位是销售人员salesman并且工资高于1200的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where job=&apos;salesman&apos; and sal&gt;1200;</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="要求查询中10部门中的经理或者20部门中的业务员"><a href="#要求查询中10部门中的经理或者20部门中的业务员" class="headerlink" title="要求查询中10部门中的经理或者20部门中的业务员"></a>要求查询中10部门中的经理或者20部门中的业务员</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT * FROM emp</div><div class="line">    -&gt;  WHERE (deptno=10 AND job=&apos;manager&apos;)</div><div class="line">    -&gt;     OR</div><div class="line">    -&gt;   (deptno=20 AND job=&apos;clerk&apos;)</div><div class="line">    -&gt; ;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK   | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7782 | CLARK | MANAGER | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7876 | ADAMS | CLERK   | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询不是业务员且工资大于2000的员工"><a href="#查询不是业务员且工资大于2000的员工" class="headerlink" title="查询不是业务员且工资大于2000的员工"></a>查询不是业务员且工资大于2000的员工</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp</div><div class="line">    -&gt; where job!=&apos;clerk&apos; and sal&gt;2000;</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="判断内容是否为空is-null-is-not-null"><a href="#判断内容是否为空is-null-is-not-null" class="headerlink" title="判断内容是否为空is null ,is not null"></a>判断内容是否为空is null ,is not null</h4><h4 id="查询所有领取奖金的员工的信息"><a href="#查询所有领取奖金的员工的信息" class="headerlink" title="查询所有领取奖金的员工的信息"></a>查询所有领取奖金的员工的信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is not null;</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询所有不领取资金的员工的信息"><a href="#查询所有不领取资金的员工的信息" class="headerlink" title="查询所有不领取资金的员工的信息"></a>查询所有不领取资金的员工的信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is  null;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">10 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询所有不领取资金同时工资大于2000的员工的信息"><a href="#查询所有不领取资金同时工资大于2000的员工的信息" class="headerlink" title="查询所有不领取资金同时工资大于2000的员工的信息"></a>查询所有不领取资金同时工资大于2000的员工的信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is null and sal &gt; 2000;</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7566 | JONES | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7902 | FORD  | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询不收取佣金，或者收取佣金小于100元的员工"><a href="#查询不收取佣金，或者收取佣金小于100元的员工" class="headerlink" title="查询不收取佣金，或者收取佣金小于100元的员工"></a>查询不收取佣金，或者收取佣金小于100元的员工</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is null or comm &lt; 100;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 | 0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查找收取佣金的员工的不同职位的工作"><a href="#查找收取佣金的员工的不同职位的工作" class="headerlink" title="查找收取佣金的员工的不同职位的工作"></a>查找收取佣金的员工的不同职位的工作</h4><pre><code>先查找收取佣金的员工职位JOB
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select job from emp where comm is not null;</div><div class="line">+----------+</div><div class="line">| job      |</div><div class="line">+----------+</div><div class="line">| SALESMAN |</div><div class="line">| SALESMAN |</div><div class="line">| SALESMAN |</div><div class="line">| SALESMAN |</div><div class="line">+----------+</div><div class="line">4 rows in set (0.00 sec)</div><div class="line"># 发现职位重复使用distinct</div><div class="line">mysql&gt; select distinct job from emp where comm is not null;</div><div class="line">+----------+</div><div class="line">| job      |</div><div class="line">+----------+</div><div class="line">| SALESMAN |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="列的范围查找in-not-in-有固定的多个条件才使用"><a href="#列的范围查找in-not-in-有固定的多个条件才使用" class="headerlink" title="列的范围查找in ,not in,有固定的多个条件才使用"></a>列的范围查找in ,not in,有固定的多个条件才使用</h4><h4 id="查询出员工编号是7369-7788-7566的员工信息"><a href="#查询出员工编号是7369-7788-7566的员工信息" class="headerlink" title="查询出员工编号是7369,7788,7566的员工信息"></a>查询出员工编号是7369,7788,7566的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where empno=7369 or empno=7788 or empno=7566;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK   | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7566 | JONES | MANAGER | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT | ANALYST | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>IN来写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where empno in (7369,7566,7788);</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK   | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7566 | JONES | MANAGER | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT | ANALYST | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询出员工编号不是7369-7788-7566的员工信息"><a href="#查询出员工编号不是7369-7788-7566的员工信息" class="headerlink" title="查询出员工编号不是7369,7788,7566的员工信息"></a>查询出员工编号不是7369,7788,7566的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where empno not  in (7369,7566,7788);</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="模糊查询-like-not-like"><a href="#模糊查询-like-not-like" class="headerlink" title="模糊查询 like not like"></a>模糊查询 like not like</h4><ul>
<li>%匹配0个，1个或者多个字符</li>
<li>_下划线只能匹配一个字符</li>
</ul>
<h4 id="查询出员工姓名是S开头的员工信息"><a href="#查询出员工姓名是S开头的员工信息" class="headerlink" title="查询出员工姓名是S开头的员工信息"></a>查询出员工姓名是S开头的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">mysql&gt; #查询出员工姓名是S开头的员工信息</div><div class="line">mysql&gt; select * from emp where ename like &apos;S%&apos;;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK   | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT | ANALYST | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">2 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where ename like &apos;s%&apos;;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK   | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT | ANALYST | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询姓名第2个字母是M的员工信息"><a href="#查询姓名第2个字母是M的员工信息" class="headerlink" title="查询姓名第2个字母是M的员工信息"></a>查询姓名第2个字母是M的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where ename like&apos;_M%&apos;;</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal    | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 | 800.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+--------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询姓名中包含F的员工信息"><a href="#查询姓名中包含F的员工信息" class="headerlink" title="查询姓名中包含F的员工信息"></a>查询姓名中包含F的员工信息</h4><p>–先分析F可以出现在姓名中的任意位置用%来匹配<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mysql&gt; #查询姓名中包含F的员工信息</div><div class="line">mysql&gt; select * from emp where ename like &apos;%F%&apos;;</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7902 | FORD  | ANALYST | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+-------+---------+------+---------------------+---------+------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询姓名长度为6或者长度超过6的员工信息"><a href="#查询姓名长度为6或者长度超过6的员工信息" class="headerlink" title="查询姓名长度为6或者长度超过6的员工信息"></a>查询姓名长度为6或者长度超过6的员工信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where ename like &apos;______%&apos;;</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>函数LENGTH<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where length(ename)&gt;=6;</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job      | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7654 | MARTIN | SALESMAN | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7934 | MILLER | CLERK    | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">+-------+--------+----------+------+---------------------+---------+---------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="查询10部门中的所有经理，20部门中所有业务员，既不不是经理又不是业务员但工资大于2000元的所有员工-同时员工姓名中包含S或者K"><a href="#查询10部门中的所有经理，20部门中所有业务员，既不不是经理又不是业务员但工资大于2000元的所有员工-同时员工姓名中包含S或者K" class="headerlink" title="查询10部门中的所有经理，20部门中所有业务员，既不不是经理又不是业务员但工资大于2000元的所有员工 同时员工姓名中包含S或者K"></a>查询10部门中的所有经理，20部门中所有业务员，既不不是经理又不是业务员但工资大于2000元的所有员工 同时员工姓名中包含S或者K</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt;  SELECT * FROM emp</div><div class="line">    -&gt;  WHERE (( deptno =10 AND job =&apos;manager&apos;)</div><div class="line">    -&gt;  OR (deptno=20 AND job=&apos;clerk&apos;)</div><div class="line">    -&gt;   OR (job NOT IN (&apos;manager&apos;,&apos;clerk&apos;) AND sal&gt;2000))</div><div class="line">    -&gt;  AND (ename LIKE &apos;%s%&apos; OR ename LIKE  &apos;%k%&apos;);</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7782 | CLARK | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7788 | SCOTT | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING  | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">|  7876 | ADAMS | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">+-------+-------+-----------+------+---------------------+---------+------+--------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="order-by-排序-ASC-ASC可以省略-升序-DESC-降序"><a href="#order-by-排序-ASC-ASC可以省略-升序-DESC-降序" class="headerlink" title="order by 排序 ASC ASC可以省略,升序 DESC 降序"></a>order by 排序 ASC ASC可以省略,升序 DESC 降序</h4><h4 id="查询所有员工，并按工资由高到低排序"><a href="#查询所有员工，并按工资由高到低排序" class="headerlink" title="查询所有员工，并按工资由高到低排序"></a>查询所有员工，并按工资由高到低排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt;   # 查询所有员工，并按工资由高到低排序</div><div class="line">mysql&gt; select * from emp order by sal desc;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询所有员工，并按工资由低到高排序"><a href="#查询所有员工，并按工资由低到高排序" class="headerlink" title="查询所有员工，并按工资由低到高排序"></a>查询所有员工，并按工资由低到高排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp order by sal asc</div><div class="line">    -&gt; ;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>ASC可以不写</p>
<h4 id="查询所有业务员的详细信息，并且按照，基本工资由低到高排序"><a href="#查询所有业务员的详细信息，并且按照，基本工资由低到高排序" class="headerlink" title="查询所有业务员的详细信息，并且按照，基本工资由低到高排序"></a>查询所有业务员的详细信息，并且按照，基本工资由低到高排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; #查询所有业务员的详细信息，并且按照，基本工资由低到高排序</div><div class="line">mysql&gt; select * from emp where job=&apos;clerk&apos; order by sal desc;</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job   | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">|  7934 | MILLER | CLERK | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">|  7876 | ADAMS  | CLERK | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7369 | SMITH  | CLERK | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">+-------+--------+-------+------+---------------------+---------+------+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询所有员工信息，要求按基本工资由高到低排序，如果工资相同按入职早，晚时间排序"><a href="#查询所有员工信息，要求按基本工资由高到低排序，如果工资相同按入职早，晚时间排序" class="headerlink" title="查询所有员工信息，要求按基本工资由高到低排序，如果工资相同按入职早，晚时间排序"></a>查询所有员工信息，要求按基本工资由高到低排序，如果工资相同按入职早，晚时间排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp order by sal desc,hiredate asc;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm    | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 |    NULL |     10 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 |    NULL |     20 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 |    NULL |     20 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 |    NULL |     30 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 |    NULL |     10 |</div><div class="line">|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 00:00:00 | 1600.00 |  300.00 |     30 |</div><div class="line">|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 00:00:00 | 1500.00 |    0.00 |     30 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 |    NULL |     10 |</div><div class="line">|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 00:00:00 | 1250.00 |  500.00 |     30 |</div><div class="line">|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 00:00:00 | 1250.00 | 1400.00 |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 |    NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 |    NULL |     30 |</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 |    NULL |     20 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+---------+--------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="限制数据记录查询数量-分页查询"><a href="#限制数据记录查询数量-分页查询" class="headerlink" title="限制数据记录查询数量 -分页查询"></a>限制数据记录查询数量 -分页查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT field1 field2 ……fieldn</div><div class="line">    FROM table_name</div><div class="line">        WHERE CONDITION</div><div class="line">            LIMIT OFFSET_START,ROW_COUNT</div></pre></td></tr></table></figure>
<p>LIMIT来限制查询结果数量<br>其中OFFSET_START表示 起始记录偏移量——–(currPageNo-1) <em> pageSize+1;<br>参数ROW_COUNT显示的行数———-currPageNo </em> pageSize</p>
<h4 id="不指定初始位置"><a href="#不指定初始位置" class="headerlink" title="不指定初始位置"></a>不指定初始位置</h4><p>SELECT field1 field2 ……fieldn<br>    FROM table_name<br>        WHERE CONDITION<br>            LIMIT  ROW_COUNT</p>
<p>默认OFFSET_START为0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is null order by sal;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where comm is null order by sal limit 3;</div><div class="line">+-------+-------+-------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename | job   | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+-------+-------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH | CLERK | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES | CLERK | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7876 | ADAMS | CLERK | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">+-------+-------+-------+------+---------------------+---------+------+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="指定初始位置"><a href="#指定初始位置" class="headerlink" title="指定初始位置"></a>指定初始位置</h4><p>select * from emp where comm is null order by sal limit 3,5;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from emp where comm is null order by sal;</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job       | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 00:00:00 |  800.00 | NULL |     20 |</div><div class="line">|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 00:00:00 |  950.00 | NULL |     30 |</div><div class="line">|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 00:00:00 | 1100.00 | NULL |     20 |</div><div class="line">|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT  | ANALYST   | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 00:00:00 | 5000.00 | NULL |     10 |</div><div class="line">+-------+--------+-----------+------+---------------------+---------+------+--------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from emp where comm is null order by sal limit 3,5;</div><div class="line">+-------+--------+---------+------+---------------------+---------+------+--------+</div><div class="line">| empno | ename  | job     | mgr  | hiredate            | sal     | comm | deptno |</div><div class="line">+-------+--------+---------+------+---------------------+---------+------+--------+</div><div class="line">|  7934 | MILLER | CLERK   | 7782 | 1982-01-23 00:00:00 | 1300.00 | NULL |     10 |</div><div class="line">|  7782 | CLARK  | MANAGER | 7839 | 1981-06-09 00:00:00 | 2450.00 | NULL |     10 |</div><div class="line">|  7698 | BLAKE  | MANAGER | 7839 | 1981-05-01 00:00:00 | 2850.00 | NULL |     30 |</div><div class="line">|  7566 | JONES  | MANAGER | 7839 | 1981-04-02 00:00:00 | 2975.00 | NULL |     20 |</div><div class="line">|  7788 | SCOTT  | ANALYST | 7566 | 1982-12-09 00:00:00 | 3000.00 | NULL |     20 |</div><div class="line">+-------+--------+---------+------+---------------------+---------+------+--------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="统计函数和分组数据记录查询"><a href="#统计函数和分组数据记录查询" class="headerlink" title="统计函数和分组数据记录查询"></a>统计函数和分组数据记录查询</h4><ul>
<li>COUNT()函数：该统计函数实现统计表中记录的条数。</li>
<li>AVG()函数：该统计函数实现计算字段值的平均值。</li>
<li>SUM()函数：该统计函数实现计算字段值的总和。</li>
<li>MAX()函数：该统计函数实现查询字段值的最大值。</li>
<li>MIN()函数：该统计函数实现查询字段值的最小值。</li>
</ul>
<h4 id="查询表中的总记录数"><a href="#查询表中的总记录数" class="headerlink" title="查询表中的总记录数"></a>查询表中的总记录数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select count(*) from emp;</div><div class="line">+----------+</div><div class="line">| count(*) |</div><div class="line">+----------+</div><div class="line">|       14 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select count(1) from emp;</div><div class="line">+----------+</div><div class="line">| count(1) |</div><div class="line">+----------+</div><div class="line">|       14 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询领取奖金的人数"><a href="#查询领取奖金的人数" class="headerlink" title="查询领取奖金的人数"></a>查询领取奖金的人数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select count(comm) from emp;</div><div class="line">+-------------+</div><div class="line">| count(comm) |</div><div class="line">+-------------+</div><div class="line">|           4 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select count(comm) from emp where not comm=0;</div><div class="line">+-------------+</div><div class="line">| count(comm) |</div><div class="line">+-------------+</div><div class="line">|           3 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询员工的平均工资和资金"><a href="#查询员工的平均工资和资金" class="headerlink" title="查询员工的平均工资和资金"></a>查询员工的平均工资和资金</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select avg(sal) from emp;</div><div class="line">+-------------+</div><div class="line">| avg(sal)    |</div><div class="line">+-------------+</div><div class="line">| 2073.214286 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select avg(comm) from emp;</div><div class="line">+------------+</div><div class="line">| avg(comm)  |</div><div class="line">+------------+</div><div class="line">| 550.000000 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select avg(comm) from emp where not comm=0;</div><div class="line">+------------+</div><div class="line">| avg(comm)  |</div><div class="line">+------------+</div><div class="line">| 733.333333 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select avg(sal),avg(comm) from emp where not comm=0;</div><div class="line">+-------------+------------+</div><div class="line">| avg(sal)    | avg(comm)  |</div><div class="line">+-------------+------------+</div><div class="line">| 1366.666667 | 733.333333 |</div><div class="line">+-------------+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure>
<h4 id="月总工资"><a href="#月总工资" class="headerlink" title="月总工资"></a>月总工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select sum(sal) from emp;</div><div class="line">+----------+</div><div class="line">| sum(sal) |</div><div class="line">+----------+</div><div class="line">| 29025.00 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="查询最低工资与最高工资"><a href="#查询最低工资与最高工资" class="headerlink" title="查询最低工资与最高工资"></a>查询最低工资与最高工资</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select max(sal),min(sal) from emp;</div><div class="line">+----------+----------+</div><div class="line">| max(sal) | min(sal) |</div><div class="line">+----------+----------+</div><div class="line">|  5000.00 |   800.00 |</div><div class="line">+----------+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="分组数据查询"><a href="#分组数据查询" class="headerlink" title="分组数据查询"></a>分组数据查询</h4><h4 id="简单分组数据记录查询"><a href="#简单分组数据记录查询" class="headerlink" title="简单分组数据记录查询"></a>简单分组数据记录查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT function()</div><div class="line">    FROM table_name</div><div class="line">        WHERE CONDITION</div><div class="line">        GROUP BY field;</div></pre></td></tr></table></figure>
<h4 id="功能性分组"><a href="#功能性分组" class="headerlink" title="功能性分组"></a>功能性分组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT GROUP_CONCAT(field)</div><div class="line">    FROM table_name</div><div class="line">        WHERE CONDITION</div><div class="line">        GROUP BY field;</div></pre></td></tr></table></figure>
<p>GROUP_CONCAT会显示第个分组中的指定字段<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno, group_concat(ename) from emp group by deptno;</div><div class="line">+--------+--------------------------------------+</div><div class="line">| deptno | group_concat(ename)                  |</div><div class="line">+--------+--------------------------------------+</div><div class="line">|     10 | CLARK,KING,MILLER                    |</div><div class="line">|     20 | SMITH,JONES,SCOTT,ADAMS,FORD         |</div><div class="line">|     30 | ALLEN,WARD,MARTIN,BLAKE,TURNER,JAMES |</div><div class="line">+--------+--------------------------------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>加人统计人数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno ,group_concat(ename), count(*) from emp group by deptno;</div><div class="line">+--------+--------------------------------------+----------+</div><div class="line">| deptno | group_concat(ename)                  | count(*) |</div><div class="line">+--------+--------------------------------------+----------+</div><div class="line">|     10 | CLARK,KING,MILLER                    |        3 |</div><div class="line">|     20 | SMITH,JONES,SCOTT,ADAMS,FORD         |        5 |</div><div class="line">|     30 | ALLEN,WARD,MARTIN,BLAKE,TURNER,JAMES |        6 |</div><div class="line">+--------+--------------------------------------+----------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="多个字段分组查询"><a href="#多个字段分组查询" class="headerlink" title="多个字段分组查询"></a>多个字段分组查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT GROUP_CONCAT(field),function(field)</div><div class="line">    FROM table_name</div><div class="line">        WHERE CONDITION</div><div class="line">        GROUP BY field1,field2,……fileldn;</div></pre></td></tr></table></figure>
<p>首先会field1分组，再针对每个组按照field2分组，依次类推</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno from emp group by deptno;</div><div class="line">+--------+</div><div class="line">| deptno |</div><div class="line">+--------+</div><div class="line">|     10 |</div><div class="line">|     20 |</div><div class="line">|     30 |</div><div class="line">+--------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>加个日期<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno,hiredate from emp group by deptno,hiredate;</div><div class="line">+--------+---------------------+</div><div class="line">| deptno | hiredate            |</div><div class="line">+--------+---------------------+</div><div class="line">|     10 | 1981-06-09 00:00:00 |</div><div class="line">|     10 | 1981-11-17 00:00:00 |</div><div class="line">|     10 | 1982-01-23 00:00:00 |</div><div class="line">|     20 | 1980-12-17 00:00:00 |</div><div class="line">|     20 | 1981-04-02 00:00:00 |</div><div class="line">|     20 | 1981-12-03 00:00:00 |</div><div class="line">|     20 | 1982-12-09 00:00:00 |</div><div class="line">|     20 | 1983-01-12 00:00:00 |</div><div class="line">|     30 | 1981-02-20 00:00:00 |</div><div class="line">|     30 | 1981-02-22 00:00:00 |</div><div class="line">|     30 | 1981-05-01 00:00:00 |</div><div class="line">|     30 | 1981-09-08 00:00:00 |</div><div class="line">|     30 | 1981-09-28 00:00:00 |</div><div class="line">|     30 | 1981-12-03 00:00:00 |</div><div class="line">+--------+---------------------+</div><div class="line">14 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="HAVING子句限定分组查询"><a href="#HAVING子句限定分组查询" class="headerlink" title="HAVING子句限定分组查询"></a>HAVING子句限定分组查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT function(field)</div><div class="line">    FROM table_name</div><div class="line">        WHERE CONDITION</div><div class="line">        GROUP BY field1,field2,……fileldn</div><div class="line">        HAVING CONTITION;</div></pre></td></tr></table></figure>
<p>HAVING是对分组后的数据进行条件过滤查询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno, avg(sal) avgsal from emp group by deptno;</div><div class="line">+--------+-------------+</div><div class="line">| deptno | avgsal      |</div><div class="line">+--------+-------------+</div><div class="line">|     10 | 2916.666667 |</div><div class="line">|     20 | 2175.000000 |</div><div class="line">|     30 | 1566.666667 |</div><div class="line">+--------+-------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>对以上数据条件过滤,平均工资大于2000的部门</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select deptno, avg(sal) avgsal from emp group by deptno having avg(sal)&gt;2000;</div><div class="line">+--------+-------------+</div><div class="line">| deptno | avgsal      |</div><div class="line">+--------+-------------+</div><div class="line">|     10 | 2916.666667 |</div><div class="line">|     20 | 2175.000000 |</div><div class="line">+--------+-------------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习十单表记录查询&quot;&gt;&lt;a href=&quot;#mysql学习十单表记录查询&quot; class=&quot;headerlink&quot; title=&quot;mysql学习十单表记录查询&quot;&gt;&lt;/a&gt;mysql学习十单表记录查询&lt;/h3&gt;&lt;p&gt;语法&lt;/p&gt;
&lt;figure class=&quot;
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习九数据的基本操作</title>
    <link href="https://ln0491.github.io/2017/02/14/mysql%E5%AD%A6%E4%B9%A0%E4%B9%9D%E6%95%B0%E6%8D%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>https://ln0491.github.io/2017/02/14/mysql学习九数据的基本操作/</id>
    <published>2017-02-14T02:15:21.000Z</published>
    <updated>2017-02-14T02:45:14.037Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习九数据的基本操作"><a href="#mysql学习九数据的基本操作" class="headerlink" title="mysql学习九数据的基本操作"></a>mysql学习九数据的基本操作</h3><p>实际上就是对表的数据进行操作<br>CRUD</p>
<ul>
<li>C–CREATE 插入 </li>
<li>R–READ 查询</li>
<li>U–UPDATE 更新</li>
<li>D–DELETE 删除</li>
</ul>
<h4 id="插入完整数据记录"><a href="#插入完整数据记录" class="headerlink" title="插入完整数据记录"></a>插入完整数据记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">INSERT INTO table_name(field1,field2,field3,……fieldn)</div><div class="line">    VALUES(value11,value21,value31……valuen1),</div><div class="line">            (value12,value22,value32……valuen2),</div><div class="line">            (value13,value23,value33……valuen3),</div><div class="line">            ……</div><div class="line">            (value1m,value2m,value3m……valuenm)</div></pre></td></tr></table></figure>
<p>创建表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div></pre></td></tr></table></figure></p>
<p>插入记录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | NO   |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept(deptno,dname,loc) values(1,&apos;开发&apos;,&apos;深圳&apos;);</div><div class="line">Query OK, 1 row affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">+--------+--------+--------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="插入了一部分数据记录"><a href="#插入了一部分数据记录" class="headerlink" title="插入了一部分数据记录"></a>插入了一部分数据记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INSERT INTO 表名(field1,field2,...) values(value1,valu2,...);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_dept(dname,loc) values(&apos;测试&apos;,&apos;上海&apos;);</div><div class="line">Query OK, 1 row affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|   NULL | 测试   | 上海   |</div><div class="line">+--------+--------+--------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="插入了多条数据记录"><a href="#插入了多条数据记录" class="headerlink" title="插入了多条数据记录"></a>插入了多条数据记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INSERT INTO 表名(field1,field2,...) values(value1,valu2,...),(value1,valu2,...),....;</div></pre></td></tr></table></figure>
<p>插入记录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; INSERT INTO t_dept VALUES(2,&apos;sz&apos;,&apos;szn&apos;),(3,&apos;test&apos;,&apos;sh&apos;),(4,&apos;销售&apos;,&apos;北京&apos;),(5,&apos;人事&apos;,&apos;重庆&apos;);</div><div class="line">Query OK, 4 rows affected (0.04 sec)</div><div class="line">Records: 4  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|   NULL | 测试   | 上海   |</div><div class="line">|      2 | sz     | szn    |</div><div class="line">|      3 | test   | sh     |</div><div class="line">|      4 | 销售   | 北京   |</div><div class="line">|      5 | 人事   | 重庆   |</div><div class="line">+--------+--------+--------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="插入了查询结果"><a href="#插入了查询结果" class="headerlink" title="插入了查询结果"></a>插入了查询结果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">INSERT INTO table_name1(field11,field12,field13,……field1n)</div><div class="line">    SELECT (field21,field22,field23,……field2n)</div><div class="line">        FROM table_name2</div><div class="line">            WHERE ……</div></pre></td></tr></table></figure>
<p>插入查询结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; INSERT INTO t_dept select * from t_dept where deptno is not null;</div><div class="line">Query OK, 5 rows affected (0.05 sec)</div><div class="line">Records: 5  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|   NULL | 测试   | 上海   |</div><div class="line">|      2 | sz     | szn    |</div><div class="line">|      3 | test   | sh     |</div><div class="line">|      4 | 销售   | 北京   |</div><div class="line">|      5 | 人事   | 重庆   |</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|      2 | sz     | szn    |</div><div class="line">|      3 | test   | sh     |</div><div class="line">|      4 | 销售   | 北京   |</div><div class="line">|      5 | 人事   | 重庆   |</div><div class="line">+--------+--------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="更新记录"><a href="#更新记录" class="headerlink" title="更新记录"></a>更新记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">UPDATE table_name</div><div class="line">    SET field1=value1,</div><div class="line">        field2=value2,</div><div class="line">        field3=value3,</div><div class="line">    WHERE CONDITION</div></pre></td></tr></table></figure>
<p>更新所有deptno不是NULL的loc为广州<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|   NULL | 测试   | 上海   |</div><div class="line">|      2 | sz     | szn    |</div><div class="line">|      3 | test   | sh     |</div><div class="line">|      4 | 销售   | 北京   |</div><div class="line">|      5 | 人事   | 重庆   |</div><div class="line">|      1 | 开发   | 深圳   |</div><div class="line">|      2 | sz     | szn    |</div><div class="line">|      3 | test   | sh     |</div><div class="line">|      4 | 销售   | 北京   |</div><div class="line">|      5 | 人事   | 重庆   |</div><div class="line">+--------+--------+--------+</div><div class="line">11 rows in set (0.00 sec)</div><div class="line"></div><div class="line"></div><div class="line">mysql&gt; update t_dept set loc=&apos;广州&apos; where deptno is not null;</div><div class="line">Query OK, 10 rows affected (0.05 sec)</div><div class="line">Rows matched: 10  Changed: 10  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|   NULL | 测试   | 上海   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">+--------+--------+--------+</div><div class="line">11 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="删除记录"><a href="#删除记录" class="headerlink" title="删除记录"></a>删除记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM tbl_name</div><div class="line">    [WHERE where_condition]</div><div class="line">    [ORDER BY ...]</div><div class="line">    [LIMIT row_count]</div></pre></td></tr></table></figure>
<p>删除deptno 为null的记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; delete from t_dept where deptno is null;</div><div class="line">Query OK, 1 row affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">+--------+--------+--------+</div><div class="line">10 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="删除所有记录"><a href="#删除所有记录" class="headerlink" title="删除所有记录"></a>删除所有记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DELETE FROM 表名</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">|      1 | 开发   | 广州   |</div><div class="line">|      2 | sz     | 广州   |</div><div class="line">|      3 | test   | 广州   |</div><div class="line">|      4 | 销售   | 广州   |</div><div class="line">|      5 | 人事   | 广州   |</div><div class="line">+--------+--------+--------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; delete from t_dept;</div><div class="line">Query OK, 10 rows affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">Empty set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="清空表"><a href="#清空表" class="headerlink" title="清空表"></a>清空表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">truncate  表名</div></pre></td></tr></table></figure>
<p>数据表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE t_dept (</div><div class="line">    -&gt;   deptno INT(11)  PRIMARY KEY AUTO_INCREMENT,</div><div class="line">    -&gt;   dname VARCHAR(20) ,</div><div class="line">    -&gt;   loc VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.19 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra          |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    | auto_increment |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |                |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |                |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; INSERT INTO t_dept VALUES(&apos;sz&apos;,&apos;szn&apos;),(&apos;test&apos;,&apos;sh&apos;),(&apos;销售&apos;,&apos;北京&apos;),(&apos;人事&apos;,&apos;重庆&apos;);</div><div class="line">ERROR 1136 (21S01): Column count doesn&apos;t match value count at row 1</div><div class="line">mysql&gt; INSERT INTO t_dept (dname,loc) VALUES(&apos;sz&apos;,&apos;szn&apos;),(&apos;test&apos;,&apos;sh&apos;),(&apos;销售&apos;,&apos;北京&apos;),(&apos;人事&apos;,&apos;重庆&apos;);</div><div class="line">Query OK, 4 rows affected (0.05 sec)</div><div class="line">Records: 4  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | sz     | szn    |</div><div class="line">|      2 | test   | sh     |</div><div class="line">|      3 | 销售   | 北京   |</div><div class="line">|      4 | 人事   | 重庆   |</div><div class="line">+--------+--------+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>清空<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; TRUNCATE t_dept;</div><div class="line">Query OK, 0 rows affected (0.22 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">Empty set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; INSERT INTO t_dept (dname,loc) VALUES(&apos;sz&apos;,&apos;szn&apos;),(&apos;test&apos;,&apos;sh&apos;),(&apos;销售&apos;,&apos;北京&apos;),(&apos;人事&apos;,&apos;重庆&apos;);</div><div class="line">Query OK, 4 rows affected (0.05 sec)</div><div class="line">Records: 4  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+--------+--------+</div><div class="line">| deptno | dname  | loc    |</div><div class="line">+--------+--------+--------+</div><div class="line">|      1 | sz     | szn    |</div><div class="line">|      2 | test   | sh     |</div><div class="line">|      3 | 销售   | 北京   |</div><div class="line">|      4 | 人事   | 重庆   |</div><div class="line">+--------+--------+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>TRUNCATE 会把表中的数据和主键同时都复位DELETE 不会<br>但是使用delete清空表中的记录，内容的ID仍然从删除点的ID继续建立，而不是从1开始，而truncate相当于保留了表的结构而重新建立了一张同样的新表。</p>
<p>效率上truncate比delete快，但truncate删除后不记录mysql日志，不可以恢复数据。</p>
<p>delete的效果有点像将mysql表中所有记录一条一条删除到删完。</p>
<h4 id="查询记录语法"><a href="#查询记录语法" class="headerlink" title="查询记录语法"></a>查询记录语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">SELECT</div><div class="line">    [ALL | DISTINCT | DISTINCTROW ]</div><div class="line">      [HIGH_PRIORITY]</div><div class="line">      [STRAIGHT_JOIN]</div><div class="line">      [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]</div><div class="line">      [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]</div><div class="line">    select_expr, ...</div><div class="line">    [FROM table_references</div><div class="line">    [WHERE where_condition]</div><div class="line">    [GROUP BY &#123;col_name | expr | position&#125;</div><div class="line">      [ASC | DESC], ... [WITH ROLLUP]]</div><div class="line">    [HAVING where_condition]</div><div class="line">    [ORDER BY &#123;col_name | expr | position&#125;</div><div class="line">      [ASC | DESC], ...]</div><div class="line">    [LIMIT &#123;[offset,] row_count | row_count OFFSET offset&#125;]</div><div class="line">    [PROCEDURE procedure_name(argument_list)]</div><div class="line">    [INTO OUTFILE &apos;file_name&apos; export_options</div><div class="line">      | INTO DUMPFILE &apos;file_name&apos;]</div><div class="line">    [FOR UPDATE | LOCK IN SHARE MODE]]</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习九数据的基本操作&quot;&gt;&lt;a href=&quot;#mysql学习九数据的基本操作&quot; class=&quot;headerlink&quot; title=&quot;mysql学习九数据的基本操作&quot;&gt;&lt;/a&gt;mysql学习九数据的基本操作&lt;/h3&gt;&lt;p&gt;实际上就是对表的数据进行操作&lt;br&gt;
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习八触发器基本操作</title>
    <link href="https://ln0491.github.io/2017/02/13/mysql%E5%AD%A6%E4%B9%A0%E5%85%AB%E8%A7%A6%E5%8F%91%E5%99%A8%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>https://ln0491.github.io/2017/02/13/mysql学习八触发器基本操作/</id>
    <published>2017-02-13T08:02:11.000Z</published>
    <updated>2017-02-13T08:43:42.329Z</updated>
    
    <content type="html"><![CDATA[<h3 id="mysql学习八触发器基本操作"><a href="#mysql学习八触发器基本操作" class="headerlink" title="mysql学习八触发器基本操作"></a>mysql学习八触发器基本操作</h3><h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CREATE OR REPLACE TRIGGER 触发器名称</div><div class="line"></div><div class="line">BEFORE | AFTER 触发器事件trigger_event</div><div class="line"></div><div class="line">ON 表名TABLE_NAME FOR EACH ROW trigger_stmt</div></pre></td></tr></table></figure>
<ul>
<li>触发器名称                         trigger_xxx</li>
<li>BEFORE | AFTER             参数指定触发器执行的时间</li>
<li>触发器事件trigger_event         包含DELETE,INSERT,UPDATE</li>
<li>表名TABLE_NAME                 触发事件的操作的表名</li>
<li>FOR EACH ROW                     参数表示任何一条记录上的操作满足触发条件都会触发这个触发器</li>
<li>trigger_stmt  激活触发器后被执行的语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">mysql&gt; use company;</div><div class="line">Database changed</div><div class="line">mysql&gt; show tables;</div><div class="line">Empty set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) ,</div><div class="line">    -&gt;   `dname` VARCHAR(20) ,</div><div class="line">    -&gt;   `loc` VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.20 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE `t_diary` (</div><div class="line">    -&gt;   diaryno INT PRIMARY KEY AUTO_INCREMENT,</div><div class="line">    -&gt;   tablename VARCHAR(20),</div><div class="line">    -&gt;   diarytime DATETIME</div><div class="line">    -&gt;</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.19 sec)</div><div class="line"></div><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| t_dept            |</div><div class="line">| t_diary           |</div><div class="line">+-------------------+</div><div class="line">2 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_diary;</div><div class="line">+-----------+------------+------+-----+---------+----------------+</div><div class="line">| Field     | Type       | Null | Key | Default | Extra          |</div><div class="line">+-----------+------------+------+-----+---------+----------------+</div><div class="line">| diaryno   | int(11)    | NO   | PRI | NULL    | auto_increment |</div><div class="line">| tablename | varchar(2) | YES  |     | NULL    |                |</div><div class="line">| diarytime | datetime   | YES  |     | NULL    |                |</div><div class="line">+-----------+------------+------+-----+---------+----------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE  TRIGGER tri_diarytime</div><div class="line">    -&gt; BEFORE INSERT</div><div class="line">    -&gt; ON t_dept FOR EACH ROW</div><div class="line">    -&gt; INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">Query OK, 0 rows affected (0.07 sec)</div></pre></td></tr></table></figure></p>
<p>插入一条记录到t_dept</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">mysql&gt; INSERT INTO t_dept VALUE(1,&apos;sz&apos;,&apos;szn&apos;);</div><div class="line">Query OK, 1 row affected (0.08 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|      1 | sz    | szn  |</div><div class="line">+--------+-------+------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_diary;</div><div class="line">+---------+-----------+---------------------+</div><div class="line">| diaryno | tablename | diarytime           |</div><div class="line">+---------+-----------+---------------------+</div><div class="line">|       1 | t_dept    | 2017-02-13 16:29:41 |</div><div class="line">+---------+-----------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; INSERT INTO t_dept VALUE(2,&apos;sz&apos;,&apos;szn&apos;),(3,&apos;test&apos;,&apos;sh&apos;);</div><div class="line">Query OK, 2 rows affected (0.10 sec)</div><div class="line">Records: 2  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|      1 | sz    | szn  |</div><div class="line">|      2 | sz    | szn  |</div><div class="line">|      3 | test  | sh   |</div><div class="line">+--------+-------+------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_diary;</div><div class="line">+---------+-----------+---------------------+</div><div class="line">| diaryno | tablename | diarytime           |</div><div class="line">+---------+-----------+---------------------+</div><div class="line">|       1 | t_dept    | 2017-02-13 16:29:41 |</div><div class="line">|       2 | t_dept    | 2017-02-13 16:30:24 |</div><div class="line">|       3 | t_dept    | 2017-02-13 16:30:24 |</div><div class="line">+---------+-----------+---------------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>第二种创建<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">DELIMITER $$</div><div class="line"></div><div class="line">CREATE  TRIGGER tri_diarytime</div><div class="line">BEFORE INSERT</div><div class="line">ON t_dept FOR EACH ROW</div><div class="line">BEGIN</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">END</div><div class="line">$$;</div><div class="line">DELIMITER;</div></pre></td></tr></table></figure></p>
<h4 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h4><p>show triggers \G<br>show triggers;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show triggers \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">             Trigger: tri_diarytime</div><div class="line">               Event: INSERT</div><div class="line">               Table: t_dept</div><div class="line">           Statement: begin</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">end</div><div class="line">              Timing: BEFORE</div><div class="line">             Created: 2017-02-13 16:35:31.52</div><div class="line">            sql_mode: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</div><div class="line">             Definer: root@localhost</div><div class="line">character_set_client: utf8</div><div class="line">collation_connection: utf8_general_ci</div><div class="line">  Database Collation: utf8_general_ci</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h4 id="通过information-schma查看triggers"><a href="#通过information-schma查看triggers" class="headerlink" title="通过information_schma查看triggers"></a>通过information_schma查看triggers</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show databases;</div><div class="line">+--------------------+</div><div class="line">| Database           |</div><div class="line">+--------------------+</div><div class="line">| information_schema |</div><div class="line">| company            |</div><div class="line">| databasetest       |</div><div class="line">| mysql              |</div><div class="line">| performance_schema |</div><div class="line">| sakila             |</div><div class="line">| sys                |</div><div class="line">| view               |</div><div class="line">| world              |</div><div class="line">+--------------------+</div><div class="line">9 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; use information_schema;</div><div class="line">Database changed</div><div class="line">mysql&gt; desc triggers;</div><div class="line">+----------------------------+---------------+------+-----+---------+-------+</div><div class="line">| Field                      | Type          | Null | Key | Default | Extra |</div><div class="line">+----------------------------+---------------+------+-----+---------+-------+</div><div class="line">| TRIGGER_CATALOG            | varchar(512)  | NO   |     |         |       |</div><div class="line">| TRIGGER_SCHEMA             | varchar(64)   | NO   |     |         |       |</div><div class="line">| TRIGGER_NAME               | varchar(64)   | NO   |     |         |       |</div><div class="line">| EVENT_MANIPULATION         | varchar(6)    | NO   |     |         |       |</div><div class="line">| EVENT_OBJECT_CATALOG       | varchar(512)  | NO   |     |         |       |</div><div class="line">| EVENT_OBJECT_SCHEMA        | varchar(64)   | NO   |     |         |       |</div><div class="line">| EVENT_OBJECT_TABLE         | varchar(64)   | NO   |     |         |       |</div><div class="line">| ACTION_ORDER               | bigint(4)     | NO   |     | 0       |       |</div><div class="line">| ACTION_CONDITION           | longtext      | YES  |     | NULL    |       |</div><div class="line">| ACTION_STATEMENT           | longtext      | NO   |     | NULL    |       |</div><div class="line">| ACTION_ORIENTATION         | varchar(9)    | NO   |     |         |       |</div><div class="line">| ACTION_TIMING              | varchar(6)    | NO   |     |         |       |</div><div class="line">| ACTION_REFERENCE_OLD_TABLE | varchar(64)   | YES  |     | NULL    |       |</div><div class="line">| ACTION_REFERENCE_NEW_TABLE | varchar(64)   | YES  |     | NULL    |       |</div><div class="line">| ACTION_REFERENCE_OLD_ROW   | varchar(3)    | NO   |     |         |       |</div><div class="line">| ACTION_REFERENCE_NEW_ROW   | varchar(3)    | NO   |     |         |       |</div><div class="line">| CREATED                    | datetime(2)   | YES  |     | NULL    |       |</div><div class="line">| SQL_MODE                   | varchar(8192) | NO   |     |         |       |</div><div class="line">| DEFINER                    | varchar(93)   | NO   |     |         |       |</div><div class="line">| CHARACTER_SET_CLIENT       | varchar(32)   | NO   |     |         |       |</div><div class="line">| COLLATION_CONNECTION       | varchar(32)   | NO   |     |         |       |</div><div class="line">| DATABASE_COLLATION         | varchar(32)   | NO   |     |         |       |</div><div class="line">+----------------------------+---------------+------+-----+---------+-------+</div><div class="line">22 rows in set (0.00 sec)</div><div class="line"></div><div class="line"></div><div class="line">mysql&gt; select * from triggers where trigger_name=&apos;tri_diarytime&apos; \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">           TRIGGER_CATALOG: def</div><div class="line">            TRIGGER_SCHEMA: company</div><div class="line">              TRIGGER_NAME: tri_diarytime</div><div class="line">        EVENT_MANIPULATION: INSERT</div><div class="line">      EVENT_OBJECT_CATALOG: def</div><div class="line">       EVENT_OBJECT_SCHEMA: company</div><div class="line">        EVENT_OBJECT_TABLE: t_dept</div><div class="line">              ACTION_ORDER: 1</div><div class="line">          ACTION_CONDITION: NULL</div><div class="line">          ACTION_STATEMENT: begin</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">INSERT INTO t_diary VALUES(NULL,&apos;t_dept&apos;,NOW());</div><div class="line">end</div><div class="line">        ACTION_ORIENTATION: ROW</div><div class="line">             ACTION_TIMING: BEFORE</div><div class="line">ACTION_REFERENCE_OLD_TABLE: NULL</div><div class="line">ACTION_REFERENCE_NEW_TABLE: NULL</div><div class="line">  ACTION_REFERENCE_OLD_ROW: OLD</div><div class="line">  ACTION_REFERENCE_NEW_ROW: NEW</div><div class="line">                   CREATED: 2017-02-13 16:35:31.52</div><div class="line">                  SQL_MODE: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</div><div class="line">                   DEFINER: root@localhost</div><div class="line">      CHARACTER_SET_CLIENT: utf8</div><div class="line">      COLLATION_CONNECTION: utf8_general_ci</div><div class="line">        DATABASE_COLLATION: utf8_general_ci</div><div class="line">1 row in set (0.01 sec)</div></pre></td></tr></table></figure>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><p>DROP TRIGGER IF EXISTS 触发器名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">drop trigger if exists tri_diarytime;</div><div class="line">mysql&gt; show triggers;</div><div class="line">Empty set (0.00 sec)</div></pre></td></tr></table></figure>
<p>删除成功</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;mysql学习八触发器基本操作&quot;&gt;&lt;a href=&quot;#mysql学习八触发器基本操作&quot; class=&quot;headerlink&quot; title=&quot;mysql学习八触发器基本操作&quot;&gt;&lt;/a&gt;mysql学习八触发器基本操作&lt;/h3&gt;&lt;h4 id=&quot;创建&quot;&gt;&lt;a href=&quot;
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习七视图的基本应用</title>
    <link href="https://ln0491.github.io/2017/02/13/mysql%E5%AD%A6%E4%B9%A0%E4%B8%83%E8%A7%86%E5%9B%BE%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%BA%94%E7%94%A8/"/>
    <id>https://ln0491.github.io/2017/02/13/mysql学习七视图的基本应用/</id>
    <published>2017-02-13T06:36:46.000Z</published>
    <updated>2017-02-13T07:06:48.137Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql学习七视图的基本应用"><a href="#mysql学习七视图的基本应用" class="headerlink" title="mysql学习七视图的基本应用"></a>mysql学习七视图的基本应用</h2><ul>
<li>视图的列可以来自于不同的表，是表的抽象和在逻辑意义上建立的新关系</li>
<li>视图是由基本表（实表）产生的表（虚表）</li>
<li>视图的建立和删除不影响基本表</li>
<li>对视图内容的更新（添加、修改、删除）直接影响基本表</li>
<li>当视图来自多个表时，不允许添加和删除数据</li>
</ul>
<h3 id="创建视图和查看"><a href="#创建视图和查看" class="headerlink" title="创建视图和查看"></a>创建视图和查看</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">create view view_name</div><div class="line">    AS 查询语句</div><div class="line"></div><div class="line">-----------</div><div class="line">CREATE OR REPLACE VIEW  视图名</div><div class="line">AS</div><div class="line">语句</div></pre></td></tr></table></figure>
<p>####查看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">SHOW CREATE VIEW viewname</div><div class="line">DESCRIBE | DESC viewname</div><div class="line"> show table status from view;</div></pre></td></tr></table></figure></p>
<p>####准备数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">DROP TABLE IF EXISTS `t_product`;</div><div class="line"></div><div class="line">CREATE TABLE `t_product` (</div><div class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</div><div class="line">  `name` varchar(50) NOT NULL,</div><div class="line">  `price` decimal(5,2) unsigned DEFAULT &apos;0.00&apos;,</div><div class="line">  PRIMARY KEY (`id`)</div><div class="line">) </div><div class="line"></div><div class="line">/*Data for the table `t_product` */</div><div class="line"></div><div class="line">insert  into `t_product`(`id`,`name`,`price`) values (1,&apos;apple&apos;,&apos;6.50&apos;),(2,&apos;banana&apos;,&apos;4.50&apos;),(3,&apos;orange&apos;,&apos;1.50&apos;),(4,&apos;pear&apos;,&apos;2.50&apos;);</div></pre></td></tr></table></figure></p>
<p>####建立视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">CREATE VIEW  view_product</div><div class="line">AS</div><div class="line">SELECT id,NAME,price</div><div class="line">FROM t_product;</div></pre></td></tr></table></figure>
<p>####使用视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select * from view_product;</div><div class="line">+----+--------+-------+</div><div class="line">| id | name   | price |</div><div class="line">+----+--------+-------+</div><div class="line">|  1 | apple  |  6.50 |</div><div class="line">|  2 | banana |  4.50 |</div><div class="line">|  3 | orange |  1.50 |</div><div class="line">|  4 | pear   |  2.50 |</div><div class="line">+----+--------+-------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="向视图插入数据"><a href="#向视图插入数据" class="headerlink" title="向视图插入数据"></a>向视图插入数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">INSERT INTO view_product (NAME,price) VALUES(&apos;花生&apos;,3.33);</div><div class="line"></div><div class="line">mysql&gt; select * from view_product;</div><div class="line">+----+--------+-------+</div><div class="line">| id | name   | price |</div><div class="line">+----+--------+-------+</div><div class="line">|  1 | apple  |  6.50 |</div><div class="line">|  2 | banana |  4.50 |</div><div class="line">|  3 | orange |  1.50 |</div><div class="line">|  4 | pear   |  2.50 |</div><div class="line">|  5 | 花生   |  3.33 |</div><div class="line">+----+--------+-------+</div><div class="line">5 rows in set (0.05 sec)</div></pre></td></tr></table></figure>
<h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; UPDATE view_product SET price=5.55 WHERE NAME=&apos;花生&apos;;</div><div class="line">Query OK, 1 row affected (0.04 sec)</div><div class="line">Rows matched: 1  Changed: 1  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; select * from view_product;</div><div class="line">+----+--------+-------+</div><div class="line">| id | name   | price |</div><div class="line">+----+--------+-------+</div><div class="line">|  1 | apple  |  6.50 |</div><div class="line">|  2 | banana |  4.50 |</div><div class="line">|  3 | orange |  1.50 |</div><div class="line">|  4 | pear   |  2.50 |</div><div class="line">|  5 | 花生   |  5.55 |</div><div class="line">+----+--------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; delete from view_product where name=&apos;花生&apos;;</div><div class="line">Query OK, 1 row affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from view_product;</div><div class="line">+----+--------+-------+</div><div class="line">| id | name   | price |</div><div class="line">+----+--------+-------+</div><div class="line">|  1 | apple  |  6.50 |</div><div class="line">|  2 | banana |  4.50 |</div><div class="line">|  3 | orange |  1.50 |</div><div class="line">|  4 | pear   |  2.50 |</div><div class="line">+----+--------+-------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a>修改视图</h4><p>CREATE OR REPLACE VIEW  视图名<br>AS<br>语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create or replace view_product</div><div class="line">    -&gt; as</div><div class="line">    -&gt; select name from t_product;</div><div class="line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;view_product</div><div class="line">as</div><div class="line">select name from t_product&apos; at line 1</div><div class="line">mysql&gt; create or replace view view_product</div><div class="line">    -&gt; as</div><div class="line">    -&gt; select name from t_product;</div><div class="line">Query OK, 0 rows affected (0.02 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from view_product;</div><div class="line">+--------+</div><div class="line">| name   |</div><div class="line">+--------+</div><div class="line">| apple  |</div><div class="line">| banana |</div><div class="line">| orange |</div><div class="line">| pear   |</div><div class="line">+--------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="Alter-修改视图"><a href="#Alter-修改视图" class="headerlink" title="Alter 修改视图"></a>Alter 修改视图</h4><p>ALTER VIWE 视图名<br>AS<br>语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter view view_product</div><div class="line">    -&gt; as</div><div class="line">    -&gt; select name,price from t_product;</div><div class="line">Query OK, 0 rows affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from view_product;</div><div class="line">+--------+-------+</div><div class="line">| name   | price |</div><div class="line">+--------+-------+</div><div class="line">| apple  |  6.50 |</div><div class="line">| banana |  4.50 |</div><div class="line">| orange |  1.50 |</div><div class="line">| pear   |  2.50 |</div><div class="line">+--------+-------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="通过系统表查看视图"><a href="#通过系统表查看视图" class="headerlink" title="通过系统表查看视图"></a>通过系统表查看视图</h4><p>数据库information_schema，下有一个包含视图信息的表views;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">mysql&gt; desc views;</div><div class="line">+----------------------+--------------+------+-----+---------+-------+</div><div class="line">| Field                | Type         | Null | Key | Default | Extra |</div><div class="line">+----------------------+--------------+------+-----+---------+-------+</div><div class="line">| TABLE_CATALOG        | varchar(512) | NO   |     |         |       |</div><div class="line">| TABLE_SCHEMA         | varchar(64)  | NO   |     |         |       |</div><div class="line">| TABLE_NAME           | varchar(64)  | NO   |     |         |       |</div><div class="line">| VIEW_DEFINITION      | longtext     | NO   |     | NULL    |       |</div><div class="line">| CHECK_OPTION         | varchar(8)   | NO   |     |         |       |</div><div class="line">| IS_UPDATABLE         | varchar(3)   | NO   |     |         |       |</div><div class="line">| DEFINER              | varchar(93)  | NO   |     |         |       |</div><div class="line">| SECURITY_TYPE        | varchar(7)   | NO   |     |         |       |</div><div class="line">| CHARACTER_SET_CLIENT | varchar(32)  | NO   |     |         |       |</div><div class="line">| COLLATION_CONNECTION | varchar(32)  | NO   |     |         |       |</div><div class="line">+----------------------+--------------+------+-----+---------+-------+</div><div class="line">10 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from views where table_name=&apos;view_product&apos;;</div><div class="line">+---------------+--------------+--------------+------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</div><div class="line">| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME   | VIEW_DEFINITION                                                                                                                          | CHECK_OPTION | IS_UPDATABLE | DEFINER        | SECURITY_TYPE | CHARACTER_SET_CLIENT | COLLATION_CONNECTION |</div><div class="line">+---------------+--------------+--------------+------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</div><div class="line">| def           | view         | view_product | select `view`.`t_product`.`id` AS `id`,`view`.`t_product`.`name` AS `name`,`view`.`t_product`.`price` AS `price` from `view`.`t_product` | NONE         | YES          | root@localhost | DEFINER       | utf8                 | utf8_general_ci      |</div><div class="line">+---------------+--------------+--------------+------------------------------------------------------------------------------------------------------------------------------------------+--------------+--------------+----------------+---------------+----------------------+----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from views where table_name=&apos;view_product&apos;\G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       TABLE_CATALOG: def</div><div class="line">        TABLE_SCHEMA: view</div><div class="line">          TABLE_NAME: view_product</div><div class="line">     VIEW_DEFINITION: select `view`.`t_product`.`id` AS `id`,`view`.`t_product`.`name` AS `name`,`view`.`t_product`.`price` AS `price` from `view`.`t_product`</div><div class="line">        CHECK_OPTION: NONE</div><div class="line">        IS_UPDATABLE: YES</div><div class="line">             DEFINER: root@localhost</div><div class="line">       SECURITY_TYPE: DEFINER</div><div class="line">CHARACTER_SET_CLIENT: utf8</div><div class="line">COLLATION_CONNECTION: utf8_general_ci</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h4><p>DROP VIEW 视图名1，视图名2 。。。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop view if exists view_product;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show tables;</div><div class="line">+----------------+</div><div class="line">| Tables_in_view |</div><div class="line">+----------------+</div><div class="line">| t_product      |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>删除成功</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mysql学习七视图的基本应用&quot;&gt;&lt;a href=&quot;#mysql学习七视图的基本应用&quot; class=&quot;headerlink&quot; title=&quot;mysql学习七视图的基本应用&quot;&gt;&lt;/a&gt;mysql学习七视图的基本应用&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;视图的列可以来自于不同的
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习六索引基本操作</title>
    <link href="https://ln0491.github.io/2017/02/13/mysql%E5%AD%A6%E4%B9%A0%E5%85%AD%E7%B4%A2%E5%BC%95%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>https://ln0491.github.io/2017/02/13/mysql学习六索引基本操作/</id>
    <published>2017-02-13T02:41:00.000Z</published>
    <updated>2017-02-13T05:32:54.808Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql学习六索引基本操作"><a href="#mysql学习六索引基本操作" class="headerlink" title="mysql学习六索引基本操作"></a>mysql学习六索引基本操作</h2><h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>索引就像书的目录一样。主要是为了提高从表中检索数据的速度。</p>
<h3 id="以下情况适合创建索引"><a href="#以下情况适合创建索引" class="headerlink" title="以下情况适合创建索引"></a>以下情况适合创建索引</h3><ul>
<li>经常被查询的字段，即在WHERE子句中出现的字段</li>
<li>在分组的字段，即在GROUG BY子句中出现的字段</li>
<li>存在依赖关系的子表与父表之间的联合查询，即主键或者外键字段</li>
<li>设置唯一完整性约束字段</li>
</ul>
<h3 id="以下情况不适合创建索引"><a href="#以下情况不适合创建索引" class="headerlink" title="以下情况不适合创建索引"></a>以下情况不适合创建索引</h3><ul>
<li>在查询中很少被使用的字段</li>
<li>拥有许多重复值的字段</li>
</ul>
<h3 id="创建和查看普通索引"><a href="#创建和查看普通索引" class="headerlink" title="创建和查看普通索引"></a>创建和查看普通索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE 表名(</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	</div><div class="line">	INDEX | KEY 【索引名】（属性名1，【长度】【ASC|DESC】）</div><div class="line">);</div></pre></td></tr></table></figure>
<p>INDEX或者KEY参数用来指定字段为索引，<br>索引名参数用来指定所创建的索引名，<br>属性名1，用来指定索引所关联的字段名称，<br>长度用来指定索引长度，<br>ASC参数用来指定索引为升序，DESC用来指定索引为降序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_employee;</div><div class="line">Query OK, 0 rows affected (0.21 sec)</div><div class="line"></div><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.10 sec)</div><div class="line"></div><div class="line">mysql&gt; drop database company;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show databases;</div><div class="line">+--------------------+</div><div class="line">| Database           |</div><div class="line">+--------------------+</div><div class="line">| information_schema |</div><div class="line">| databasetest       |</div><div class="line">| mysql              |</div><div class="line">| performance_schema |</div><div class="line">| sakila             |</div><div class="line">| sys                |</div><div class="line">| world              |</div><div class="line">+--------------------+</div><div class="line">7 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; create database company;</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; use company;</div><div class="line">Database changed</div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT ,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40) ,</div><div class="line">    -&gt; INDEX index_deptno (deptno)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.30 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | MUL | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept;</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| Table  | Create Table                                                                                                                                                                                        |</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| t_dept | CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 |</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       Table: t_dept</div><div class="line">Create Table: CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>show create table t_dept \G 查看是否创建索引</p>
<h3 id="检验索引是否被使用"><a href="#检验索引是否被使用" class="headerlink" title="检验索引是否被使用"></a>检验索引是否被使用</h3><p>EXPLAIN select * from t_dept where deptno=1;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; EXPLAIN select * from t_dept where deptno=1;</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key          | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ref  | index_deptno  | index_deptno | 5       | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>possible_keys | key<br>字段处的值为报建的索引名，说这个索引已经存在，而且开始使用</p>
<h3 id="在已经存在的表上创建普通索引"><a href="#在已经存在的表上创建普通索引" class="headerlink" title="在已经存在的表上创建普通索引"></a>在已经存在的表上创建普通索引</h3><p>CREATE INDEX 索引名 on 表名（属性名【(长度)】【ASC|DESC】）<br>删除表，创建一个没有索引的空表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.17 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT ,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.19 sec)</div><div class="line"></div><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| t_dept            |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where deptno=1;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    1 |   100.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>下面是创建索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create index index_deptno on t_dept(deptno);</div><div class="line">Query OK, 0 rows affected (0.24 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where deptno=1;</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key          | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ref  | index_deptno  | index_deptno | 5       | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+------+---------------+--------------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">ysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | MUL | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept;</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| Table  | Create Table                                                                                                                                                                                        |</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| t_dept | CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 |</div><div class="line">+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>Key已经有值，说明创建成功</p>
<h3 id="在已经存在的表上添加普通索引"><a href="#在已经存在的表上添加普通索引" class="headerlink" title="在已经存在的表上添加普通索引"></a>在已经存在的表上添加普通索引</h3><p>ALTER table 表名 ADD INDEX 索引名 （属性名【(长度)】【ASC|DESC】）</p>
<p>准备数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.18 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT ,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.21 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       Table: t_dept</div><div class="line">Create Table: CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>添加索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table t_dept add index index_deptno (deptno);</div><div class="line">Query OK, 0 rows affected (0.20 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | MUL | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       Table: t_dept</div><div class="line">Create Table: CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>KEY已经有值</p>
<h3 id="创建来查看唯一索引"><a href="#创建来查看唯一索引" class="headerlink" title="创建来查看唯一索引"></a>创建来查看唯一索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE 表名(</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	</div><div class="line">	UNIQUE INDEX | KEY 【索引名】（属性名1，【长度】【ASC|DESC】）</div><div class="line">);</div></pre></td></tr></table></figure>
<p>创建表时直接创建唯一索引<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.45 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT ,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40),</div><div class="line">    -&gt; UNIQUE INDEX index_deptno (deptno)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.20 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | UNI | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       Table: t_dept</div><div class="line">Create Table: CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  UNIQUE KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>KEY的值为UNI,表示创建成功</p>
<h3 id="在已经存在的表上创建唯一索引"><a href="#在已经存在的表上创建唯一索引" class="headerlink" title="在已经存在的表上创建唯一索引"></a>在已经存在的表上创建唯一索引</h3><p>CREATE UNIQUE INDEX 索引名 on 表名（属性名【(长度)】【ASC|DESC】）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.16 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT UNIQUE,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.24 sec)</div><div class="line"></div><div class="line">mysql&gt; create unique index index_deptno on t_dept (deptno);</div><div class="line">Query OK, 0 rows affected, 1 warning (1.30 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 1</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | UNI | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show create table t_dept;</div><div class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| Table  | Create Table                                                                                                                                                                                                                                 |</div><div class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| t_dept | CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  UNIQUE KEY `deptno` (`deptno`),</div><div class="line">  UNIQUE KEY `index_deptno` (`deptno`)</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 |</div><div class="line">+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>KEY的值为UNI,表示创建成功</p>
<h3 id="在已经存在的表上添加唯一索引"><a href="#在已经存在的表上添加唯一索引" class="headerlink" title="在已经存在的表上添加唯一索引"></a>在已经存在的表上添加唯一索引</h3><p>ALTER table 表名 ADD UNIQUE INDEX 索引名 （属性名【(长度)】【ASC|DESC】）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.21 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT UNIQUE,</div><div class="line">    -&gt; dname VARCHAR(20)  ,</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.21 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table t_dept add unique index index_deptno (deptno);</div><div class="line">Query OK, 0 rows affected, 1 warning (0.20 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 1</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  | UNI | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain  select * from t_dept where deptno=1;</div><div class="line">+----+-------------+--------+------------+-------+---------------------+--------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type  | possible_keys       | key    | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+-------+---------------------+--------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | const | deptno,index_deptno | deptno | 5       | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+-------+---------------------+--------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain  select * from t_dept where deptno=1\G</div><div class="line">*************************** 1. row ***************************</div><div class="line">           id: 1</div><div class="line">  select_type: SIMPLE</div><div class="line">        table: t_dept</div><div class="line">   partitions: NULL</div><div class="line">         type: const</div><div class="line">possible_keys: deptno,index_deptno</div><div class="line">          key: deptno</div><div class="line">      key_len: 5</div><div class="line">          ref: const</div><div class="line">         rows: 1</div><div class="line">     filtered: 100.00</div><div class="line">        Extra: NULL</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="创建和查看全文索引"><a href="#创建和查看全文索引" class="headerlink" title="创建和查看全文索引"></a>创建和查看全文索引</h3><p>全文索引主要关联在数据类型为 CHAR ,VARCHAR和TEXT的字段上,<br>Mysql从3.23.23版本开始支持全文索引，只能在存储引擎为MyISAM的数据表表创建全文索引，默认情况下不区分大小写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE 表名(</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	</div><div class="line">	FULLTEXT INDEX | KEY 【索引名】（属性名1，【长度】【ASC|DESC】）</div><div class="line">);</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) DEFAULT NULL,</div><div class="line">    -&gt;   `dname` VARCHAR(20) DEFAULT NULL,</div><div class="line">    -&gt;   `loc` VARCHAR(40) DEFAULT NULL</div><div class="line">    -&gt;</div><div class="line">    -&gt; ) ENGINE=MYISAM DEFAULT CHARSET=utf8;</div><div class="line">Query OK, 0 rows affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; create fulltext index index_loc on t_dept(loc);</div><div class="line">Query OK, 2 rows affected (0.05 sec)</div><div class="line">Records: 2  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;bj&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | index_loc     | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;sz&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | index_loc     | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure>
<h3 id="在已经存在的表上创建全文索引"><a href="#在已经存在的表上创建全文索引" class="headerlink" title="在已经存在的表上创建全文索引"></a>在已经存在的表上创建全文索引</h3><p>CREATE FULLTEXT INDEX 索引名 on 表名（属性名【(长度)】【ASC|DESC】）</p>
<p>创建全文索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">DROP TABLE IF EXISTS `t_dept`;</div><div class="line"></div><div class="line">CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL,</div><div class="line">  FULLTEXT KEY `index_loc` (`loc`)</div><div class="line">) ENGINE=MyISAM DEFAULT CHARSET=utf8;</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;cj&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | index_loc     | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="在已经存在的表上添加全文索引"><a href="#在已经存在的表上添加全文索引" class="headerlink" title="在已经存在的表上添加全文索引"></a>在已经存在的表上添加全文索引</h3><p>ALTER table 表名 ADD FULLTEXT INDEX 索引名 （属性名【(长度)】【ASC|DESC】）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) ,</div><div class="line">    -&gt;   `dname` VARCHAR(20) ,</div><div class="line">    -&gt;   `loc` VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt; ) ENGINE=MYISAM DEFAULT CHARSET=utf8;</div><div class="line">Query OK, 0 rows affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table t_dept add fulltext index index_loc(loc);</div><div class="line">Query OK, 0 rows affected (0.02 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  | MUL | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;sz&apos;;</div><div class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------+</div><div class="line">| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                          |</div><div class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------+</div><div class="line">|  1 | SIMPLE      | NULL  | NULL       | NULL | NULL          | NULL | NULL    | NULL | NULL |     NULL | no matching row in const table |</div><div class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+--------------------------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;sz&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | index_loc     | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  | MUL | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="创建和查看多列索引"><a href="#创建和查看多列索引" class="headerlink" title="创建和查看多列索引"></a>创建和查看多列索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE 表名(</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	属性名 数据类型，</div><div class="line">	</div><div class="line">	 INDEX | KEY 【索引名】（属性名1，【长度】【ASC|DESC】,</div><div class="line">                         （属性名2，【长度】【ASC|DESC】</div><div class="line">							.....)</div><div class="line">	）</div><div class="line">);</div></pre></td></tr></table></figure>
<p>多列索引，是指在创建索引时，所关联的字段不是一个字段，而是多字段，虽然可以通过所关联的字段进行查询，但是只有查询条件中使用了所关联字段中的第一个字段，多列索引才会被使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) ,</div><div class="line">    -&gt;   `dname` VARCHAR(20) ,</div><div class="line">    -&gt;   `loc` VARCHAR(40),</div><div class="line">    -&gt;   INDEX index_dname_loc(dname,loc)</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.18 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept values(1,&apos;sz&apos;,&apos;szn&apos;),(2,&apos;sh&apos;,&apos;shg&apos;);</div><div class="line">Query OK, 2 rows affected (0.05 sec)</div><div class="line">Records: 2  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  | MUL | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;szn&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where dname=&apos;sz&apos;;</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys   | key             | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ref  | index_dname_loc | index_dname_loc | 63      | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="在已经存在的表上创建多列索引"><a href="#在已经存在的表上创建多列索引" class="headerlink" title="在已经存在的表上创建多列索引"></a>在已经存在的表上创建多列索引</h3><p>CREATE  INDEX 索引名 on 表名（属性名1，【长度】【ASC|DESC】,<br>（属性名2，【长度】【ASC|DESC】<br>…..)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.15 sec)</div><div class="line"></div><div class="line">mysql&gt;</div><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) ,</div><div class="line">    -&gt;   `dname` VARCHAR(20) ,</div><div class="line">    -&gt;   `loc` VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.31 sec)</div><div class="line"></div><div class="line">mysql&gt; INSERT INTO t_dept VALUES(1,&apos;sz&apos;,&apos;szn&apos;),(2,&apos;sh&apos;,&apos;shg&apos;);</div><div class="line">Query OK, 2 rows affected (0.05 sec)</div><div class="line">Records: 2  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; create index index_dname_loc on t_dept (dname,loc);</div><div class="line">Query OK, 0 rows affected (0.25 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  | MUL | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;shg&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where dname=&apos;sh&apos;;</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys   | key             | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ref  | index_dname_loc | index_dname_loc | 63      | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="在已经存在的表上添加多列索引"><a href="#在已经存在的表上添加多列索引" class="headerlink" title="在已经存在的表上添加多列索引"></a>在已经存在的表上添加多列索引</h3><p>ALTER table 表名<br>ADD  INDEX 索引名<br>（属性名1，【长度】【ASC|DESC】,<br>（属性名2，【长度】【ASC|DESC】<br>…..)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.15 sec)</div><div class="line"></div><div class="line">mysql&gt;</div><div class="line">mysql&gt; CREATE TABLE `t_dept` (</div><div class="line">    -&gt;   `deptno` INT(11) ,</div><div class="line">    -&gt;   `dname` VARCHAR(20) ,</div><div class="line">    -&gt;   `loc` VARCHAR(40)</div><div class="line">    -&gt;</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.31 sec)</div><div class="line"></div><div class="line">mysql&gt; INSERT INTO t_dept VALUES(1,&apos;sz&apos;,&apos;szn&apos;),(2,&apos;sh&apos;,&apos;shg&apos;);</div><div class="line">Query OK, 2 rows affected (0.05 sec)</div><div class="line">Records: 2  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line">mysql&gt; alter table t_dept add index index_loc_dname (loc,dname);</div><div class="line">Query OK, 0 rows affected (0.23 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  | MUL | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where loc=&apos;szn&apos;;</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys   | key             | key_len | ref   | rows | filtered | Extra |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ref  | index_loc_dname | index_loc_dname | 123     | const |    1 |   100.00 | NULL  |</div><div class="line">+----+-------------+--------+------------+------+-----------------+-----------------+---------+-------+------+----------+-------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; explain select * from t_dept where dname=&apos;sz&apos;;</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">| id | select_type | table  | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">|  1 | SIMPLE      | t_dept | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    2 |    50.00 | Using where |</div><div class="line">+----+-------------+--------+------------+------+---------------+------+---------+------+------+----------+-------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h3><p>DROP INDEX 索引名 on 表名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop index  index_dname_loc on t_dept;</div><div class="line">Query OK, 0 rows affected (0.14 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mysql学习六索引基本操作&quot;&gt;&lt;a href=&quot;#mysql学习六索引基本操作&quot; class=&quot;headerlink&quot; title=&quot;mysql学习六索引基本操作&quot;&gt;&lt;/a&gt;mysql学习六索引基本操作&lt;/h2&gt;&lt;h3 id=&quot;索引&quot;&gt;&lt;a href=&quot;#索引&quot;
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习五表的约束</title>
    <link href="https://ln0491.github.io/2017/02/10/mysql%E5%AD%A6%E4%B9%A0%E4%BA%94%E8%A1%A8%E7%9A%84%E7%BA%A6%E6%9D%9F/"/>
    <id>https://ln0491.github.io/2017/02/10/mysql学习五表的约束/</id>
    <published>2017-02-10T05:43:33.000Z</published>
    <updated>2017-02-10T06:36:26.175Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql学习五表的约束"><a href="#mysql学习五表的约束" class="headerlink" title="mysql学习五表的约束"></a>mysql学习五表的约束</h2><p><img src="https://ln0491.github.io/img/mysql.png" alt="mysql.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| tab_dept          |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; drop table tab_dept;</div><div class="line">Query OK, 0 rows affected (0.10 sec)</div><div class="line"></div><div class="line">mysql&gt; drop database company;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; show databases;</div><div class="line">+--------------------+</div><div class="line">| Database           |</div><div class="line">+--------------------+</div><div class="line">| information_schema |</div><div class="line">| databasetest       |</div><div class="line">| mysql              |</div><div class="line">| performance_schema |</div><div class="line">| sakila             |</div><div class="line">| sys                |</div><div class="line">| world              |</div><div class="line">+--------------------+</div><div class="line">7 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="添加非空约束-NOT-NULL"><a href="#添加非空约束-NOT-NULL" class="headerlink" title="添加非空约束 NOT NULL"></a>添加非空约束 NOT NULL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create database company;</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; use company;</div><div class="line">Database changed</div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT(20) NOT NULL,</div><div class="line">    -&gt; dname VARCHAR(20),</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.18 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(20)     | NO   |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>插入NULL数据时会报错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_dept values(null,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">ERROR 1048 (23000): Column &apos;deptno&apos; cannot be null</div><div class="line">mysql&gt; insert into t_dept values(1001,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">Query OK, 1 row affected (0.02 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1001 | RD    | SZ   |</div><div class="line">+--------+-------+------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="添加默认值"><a href="#添加默认值" class="headerlink" title="添加默认值"></a>添加默认值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.15 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT(20) NOT NULL,</div><div class="line">    -&gt; dname VARCHAR(20) DEFAULT &apos;测试默认值&apos;,</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.20 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+-----------------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default         | Extra |</div><div class="line">+--------+-------------+------+-----+-----------------+-------+</div><div class="line">| deptno | int(20)     | NO   |     | NULL            |       |</div><div class="line">| dname  | varchar(20) | YES  |     | 测试默认值      |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL            |       |</div><div class="line">+--------+-------------+------+-----+-----------------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept (deptno,loc) values(1001,&apos;QQ&apos;);</div><div class="line">Query OK, 1 row affected (0.04 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-----------------+------+</div><div class="line">| deptno | dname           | loc  |</div><div class="line">+--------+-----------------+------+</div><div class="line">|   1001 | 测试默认值      | QQ   |</div><div class="line">+--------+-----------------+------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>插入值时没有写时，会使用默认值</p>
<h3 id="添加唯一约束"><a href="#添加唯一约束" class="headerlink" title="添加唯一约束"></a>添加唯一约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.13 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT(20) NOT NULL,</div><div class="line">    -&gt; dname VARCHAR(20) UNIQUE, #唯一</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.18 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(20)     | NO   |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  | UNI | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept (deptno,danme,loc) values(1001,&apos;RD&apos;,&apos;QQ&apos;);</div><div class="line">ERROR 1054 (42S22): Unknown column &apos;danme&apos; in &apos;field list&apos;</div><div class="line">mysql&gt; insert into t_dept (deptno,danme,loc) values(1001,&apos;RD&apos;,&apos;QQ&apos;);</div><div class="line">ERROR 1054 (42S22): Unknown column &apos;danme&apos; in &apos;field list&apos;</div><div class="line">mysql&gt; insert into t_dept (deptno,dname,loc) values(1001,&apos;RD&apos;,&apos;QQ&apos;);</div><div class="line">Query OK, 1 row affected (0.03 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1001 | RD    | QQ   |</div><div class="line">+--------+-------+------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept (deptno,dname,loc) values(1002,&apos;TEST&apos;,&apos;ALI&apos;);</div><div class="line">Query OK, 1 row affected (0.03 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept (deptno,dname,loc) values(1003,&apos;TEST&apos;,&apos;WWA&apos;);</div><div class="line">ERROR 1062 (23000): Duplicate entry &apos;TEST&apos; for key &apos;dname&apos;</div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1001 | RD    | QQ   |</div><div class="line">|   1002 | TEST  | ALI  |</div><div class="line">+--------+-------+------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>dname 字段不能重复，为唯一约束，添加相同时会报错<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ERROR 1062 (23000): Duplicate entry &apos;TEST&apos; for key &apos;dname&apos;</div></pre></td></tr></table></figure></p>
<p>另外一种添加唯一约束</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.13 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT(20) NOT NULL,</div><div class="line">    -&gt; dname VARCHAR(20),</div><div class="line">    -&gt; loc   VARCHAR(40),</div><div class="line">    -&gt; CONSTRAINT uk_dname UNIQUE (dname)  #创建唯一约束名称</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.31 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(20)     | NO   |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  | UNI | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="设置主键-PK-primary-key"><a href="#设置主键-PK-primary-key" class="headerlink" title="设置主键 PK primary key"></a>设置主键 PK primary key</h3><p>当想使用数据库表中的某个字段来唯一标识所有记录时，可以使用PK来进行约束设置<br>PK约束就是在创建数据库表时为某个字段加个 primary key约束条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table t_dept;</div><div class="line">Query OK, 0 rows affected (0.13 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT PRIMARY KEY,</div><div class="line">    -&gt; dname VARCHAR(20),</div><div class="line">    -&gt; loc   VARCHAR(40)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.18 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>加个primary key约束的会在key上显示pri表示主键约束，主键不能重复<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_dept (deptno,dname,loc) values(1003,&apos;TEST&apos;,&apos;WWA&apos;);</div><div class="line">Query OK, 1 row affected (0.03 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept (deptno,dname,loc) values(1003,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">ERROR 1062 (23000): Duplicate entry &apos;1003&apos; for key &apos;PRIMARY&apos;</div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1003 | TEST  | WWA  |</div><div class="line">+--------+-------+------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>报错表示<br>ERROR 1062 (23000): Duplicate entry ‘1003’ for key ‘PRIMARY’</p>
<p>另外一种写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT,</div><div class="line">    -&gt; dname VARCHAR(20),</div><div class="line">    -&gt; loc   VARCHAR(40),</div><div class="line">    -&gt; CONSTRAINT pk_deptpno PRIMARY KEY (deptno)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.30 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.01 sec)</div></pre></td></tr></table></figure>
<p>效果是一样的</p>
<h3 id="多字段组合主键"><a href="#多字段组合主键" class="headerlink" title="多字段组合主键"></a>多字段组合主键</h3><p>CONSTRAINT 约束名 PRIMARY KEY (属性名1,属性名2…)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop tables t_dept;</div><div class="line">Query OK, 0 rows affected (0.12 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT,</div><div class="line">    -&gt; dname VARCHAR(20),</div><div class="line">    -&gt; loc   VARCHAR(40),</div><div class="line">    -&gt; CONSTRAINT pk_deptpno_dname PRIMARY KEY (deptno,dname)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.19 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    |       |</div><div class="line">| dname  | varchar(20) | NO   | PRI | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>插入数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_dept value(1001,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">Query OK, 1 row affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept value(1001,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">ERROR 1062 (23000): Duplicate entry &apos;1001-RD&apos; for key &apos;PRIMARY&apos;</div><div class="line">mysql&gt; insert into t_dept value(1002,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">Query OK, 1 row affected (0.03 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept value(1002,&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">ERROR 1062 (23000): Duplicate entry &apos;1002-RD&apos; for key &apos;PRIMARY&apos;</div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1001 | RD    | SZ   |</div><div class="line">|   1002 | RD    | SZ   |</div><div class="line">+--------+-------+------+</div><div class="line">2 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept value(1002,&apos;RD2&apos;,&apos;SZ&apos;);</div><div class="line">Query OK, 1 row affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+------+</div><div class="line">| deptno | dname | loc  |</div><div class="line">+--------+-------+------+</div><div class="line">|   1001 | RD    | SZ   |</div><div class="line">|   1002 | RD    | SZ   |</div><div class="line">|   1002 | RD2   | SZ   |</div><div class="line">+--------+-------+------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>发现在我个主键时，只要有一个不重复就可以插入数据</p>
<h3 id="设置字段自增（AUTO-INCREMENT"><a href="#设置字段自增（AUTO-INCREMENT" class="headerlink" title="设置字段自增（AUTO_INCREMENT)"></a>设置字段自增（AUTO_INCREMENT)</h3><p>一个表只能有一个字段使用AUTO_INCREMENT来约束，该字段数据类型必须为整数类型，由于设置AUTO_INCREMENT后的字段会生成唯一约束ID，所以该字段也经常会设置为PK主键</p>
<p>属性名 数据类型（整数） PRIMARY KEY AUTO_INCREMENT,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT PRIMARY KEY AUTO_INCREMENT, # 主键加自增</div><div class="line">    -&gt; dname VARCHAR(20) UNIQUE NOT NULL,# 唯一</div><div class="line">    -&gt; loc   VARCHAR(40) NOT NULL  #非空</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.22 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra          |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    | auto_increment |</div><div class="line">| dname  | varchar(20) | NO   | UNI | NULL    |                |</div><div class="line">| loc    | varchar(40) | NO   |     | NULL    |                |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>插入数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_dept(dname,loc) values(&apos;RD&apos;,&apos;SZ&apos;);</div><div class="line">Query OK, 1 row affected (0.06 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_dept(dname,loc) values(&apos;TEST&apos;,&apos;BJ&apos;);</div><div class="line">Query OK, 1 row affected (0.05 sec)</div><div class="line"></div><div class="line">mysql&gt; select * from t_dept;</div><div class="line">+--------+-------+-----+</div><div class="line">| deptno | dname | loc |</div><div class="line">+--------+-------+-----+</div><div class="line">|      1 | RD    | SZ  |</div><div class="line">|      2 | TEST  | BJ  |</div><div class="line">+--------+-------+-----+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>另外的写法一<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT AUTO_INCREMENT,</div><div class="line">    -&gt; dname VARCHAR(20)  NOT NULL,# 唯一</div><div class="line">    -&gt; loc   VARCHAR(40) NOT NULL,  #非空</div><div class="line">    -&gt; CONSTRAINT pk_deptno PRIMARY KEY   (deptno),</div><div class="line">    -&gt; CONSTRAINT uk_dname UNIQUE  (dname)</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.29 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra          |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    | auto_increment |</div><div class="line">| dname  | varchar(20) | NO   | UNI | NULL    |                |</div><div class="line">| loc    | varchar(40) | NO   |     | NULL    |                |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>另外的写法二<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_dept(</div><div class="line">    -&gt; deptno INT AUTO_INCREMENT,</div><div class="line">    -&gt; dname VARCHAR(20)  NOT NULL,# 唯一</div><div class="line">    -&gt; loc   VARCHAR(40) NOT NULL,  #非空</div><div class="line">    -&gt; PRIMARY KEY   (deptno),</div><div class="line">    -&gt;  UNIQUE  (dname)</div><div class="line">    -&gt;</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.22 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra          |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    | auto_increment |</div><div class="line">| dname  | varchar(20) | NO   | UNI | NULL    |                |</div><div class="line">| loc    | varchar(40) | NO   |     | NULL    |                |</div><div class="line">+--------+-------------+------+-----+---------+----------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h2 id="外键约束（FOREIGN-KEY-FK）"><a href="#外键约束（FOREIGN-KEY-FK）" class="headerlink" title="外键约束（FOREIGN KEY FK）"></a>外键约束（FOREIGN KEY FK）</h2><p>外键约束主要用于约束2个表之间的父子关系，即子表中某个字段的取值范围由父表决定。<br>如表示一个部门和员工关系，每个部门有多个员工，首先有2个表，部门表和员工表，然后员工表中有一个表示部门编号的字段deptno,其依赖为部门表的主键，</p>
<p>CONSTRAINT 外表约束名称 FOREIGN KEY(属性) REFERENCES 表2(表2属性);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | NO   | PRI | NULL    |       |</div><div class="line">| dname  | varchar(20) | NO   |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | NO   |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; CREATE TABLE IF NOT EXISTS t_employee (</div><div class="line">    -&gt; empno INT PRIMARY KEY,</div><div class="line">    -&gt; ename VARCHAR(20),</div><div class="line">    -&gt; job VARCHAR(40),</div><div class="line">    -&gt; MGR INT,</div><div class="line">    -&gt; Hiredate DATE,</div><div class="line">    -&gt; sal DOUBLE(10,2),</div><div class="line">    -&gt; comm DOUBLE(10,2),</div><div class="line">    -&gt; deptno INT,</div><div class="line">    -&gt; CONSTRAINT fk_deptno FOREIGN KEY(deptno) REFERENCES t_dept(deptno)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.21 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_employee;</div><div class="line">+----------+--------------+------+-----+---------+-------+</div><div class="line">| Field    | Type         | Null | Key | Default | Extra |</div><div class="line">+----------+--------------+------+-----+---------+-------+</div><div class="line">| empno    | int(11)      | NO   | PRI | NULL    |       |</div><div class="line">| ename    | varchar(20)  | YES  |     | NULL    |       |</div><div class="line">| job      | varchar(40)  | YES  |     | NULL    |       |</div><div class="line">| MGR      | int(11)      | YES  |     | NULL    |       |</div><div class="line">| Hiredate | date         | YES  |     | NULL    |       |</div><div class="line">| sal      | double(10,2) | YES  |     | NULL    |       |</div><div class="line">| comm     | double(10,2) | YES  |     | NULL    |       |</div><div class="line">| deptno   | int(11)      | YES  | MUL | NULL    |       |</div><div class="line">+----------+--------------+------+-----+---------+-------+</div><div class="line">8 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<p>在员工表中插入数据时,deptno的值一定要在t_dept表中存在不然插入失败</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mysql学习五表的约束&quot;&gt;&lt;a href=&quot;#mysql学习五表的约束&quot; class=&quot;headerlink&quot; title=&quot;mysql学习五表的约束&quot;&gt;&lt;/a&gt;mysql学习五表的约束&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://ln0491.githu
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习四表的基本操作</title>
    <link href="https://ln0491.github.io/2017/02/10/mysql%E5%AD%A6%E4%B9%A0%E5%9B%9B%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>https://ln0491.github.io/2017/02/10/mysql学习四表的基本操作/</id>
    <published>2017-02-10T02:46:41.000Z</published>
    <updated>2017-02-10T05:16:08.081Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql学习四表的基本操作"><a href="#mysql学习四表的基本操作" class="headerlink" title="mysql学习四表的基本操作"></a>mysql学习四表的基本操作</h2><h2 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h2><p>create table  表名<br>create table if not exists 表名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create database company;</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; use company;</div><div class="line">Database changed</div><div class="line">mysql&gt; create table if not exists t_dept(</div><div class="line">    -&gt; deptno int,</div><div class="line">    -&gt; dname varchar(20),</div><div class="line">    -&gt; loc varchar(40));</div><div class="line">Query OK, 0 rows affected (0.20 sec)</div><div class="line"></div><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| t_dept            |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure></p>
<h2 id="显示当前库下的所有表"><a href="#显示当前库下的所有表" class="headerlink" title="显示当前库下的所有表"></a>显示当前库下的所有表</h2><p>show tables;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| t_dept            |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h2 id="查看表的结构"><a href="#查看表的结构" class="headerlink" title="查看表的结构"></a>查看表的结构</h2><p>describe 表名<br>简写<br>desc 表名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; describe t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc t_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="查看表的详细"><a href="#查看表的详细" class="headerlink" title="查看表的详细"></a>查看表的详细</h2><p>show create table 表名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show create table t_dept;</div><div class="line">+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| Table  | Create Table                                                                                                                                                       |</div><div class="line">+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">| t_dept | CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 |</div><div class="line">+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<p>show create table t_dept \G<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; show create table t_dept \G</div><div class="line">*************************** 1. row ***************************</div><div class="line">       Table: t_dept</div><div class="line">Create Table: CREATE TABLE `t_dept` (</div><div class="line">  `deptno` int(11) DEFAULT NULL,</div><div class="line">  `dname` varchar(20) DEFAULT NULL,</div><div class="line">  `loc` varchar(40) DEFAULT NULL</div><div class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h2 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h2><p>drop table  表名<br>drop table if  exists 表名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql&gt; drop table if exists t_dept;</div><div class="line">Query OK, 0 rows affected (0.12 sec)</div><div class="line"></div><div class="line">mysql&gt; show  tables;</div><div class="line">Empty set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="修改表名"><a href="#修改表名" class="headerlink" title="修改表名"></a>修改表名</h3><p>ALTER TABLE old_table_name RENAME [TO] new_table_name</p>
<ul>
<li>old_table_name  原表名</li>
<li>new_table_name 新表名<br>将t_dept修改为tab_dept<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table t_dept rename tab_dept;</div><div class="line">Query OK, 0 rows affected (0.09 sec)</div><div class="line"></div><div class="line">mysql&gt; show tables;</div><div class="line">+-------------------+</div><div class="line">| Tables_in_company |</div><div class="line">+-------------------+</div><div class="line">| tab_dept          |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="为表增加一个字段默认在最后"><a href="#为表增加一个字段默认在最后" class="headerlink" title="为表增加一个字段默认在最后"></a>为表增加一个字段默认在最后</h3><p>ALTER TABLE table_name ADD 属性名 属性类型<br>为tab_dept增加一个字段descri varchar(20)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table tab_dept add descri varchar(20);</div><div class="line">Query OK, 0 rows affected (0.33 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | varchar(20) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">4 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="在表的第一个位置增加一个字段"><a href="#在表的第一个位置增加一个字段" class="headerlink" title="在表的第一个位置增加一个字段"></a>在表的第一个位置增加一个字段</h3><p>ALTER TABLE table_name ADD 属性名 属性类型 first<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept add id int first;</div><div class="line">Query OK, 0 rows affected (0.38 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | varchar(20) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="在表的指定字段之后增加字段"><a href="#在表的指定字段之后增加字段" class="headerlink" title="在表的指定字段之后增加字段"></a>在表的指定字段之后增加字段</h3><p>ALTER TABLE table_name ADD 属性名 属性类型     AFTER 属性名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept add comm varchar(20) after dname;</div><div class="line">Query OK, 0 rows affected (0.31 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| comm   | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | varchar(20) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">6 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h3><p>ALTER TABLE table_name     DROP 属性名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept drop comm;</div><div class="line">Query OK, 0 rows affected (0.32 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | varchar(20) | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="字段修改-修改字段数据类型"><a href="#字段修改-修改字段数据类型" class="headerlink" title="字段修改-修改字段数据类型"></a>字段修改-修改字段数据类型</h3><p>ALTER TABLE table_name MODIFY 属性名 数据类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept modify descri int;</div><div class="line">Query OK, 0 rows affected (0.45 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="字段修改-修改字段名称"><a href="#字段修改-修改字段名称" class="headerlink" title="字段修改-修改字段名称"></a>字段修改-修改字段名称</h3><p>ALTER TABLE table_name CHANGE 旧属性名 新属性名 旧数据类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept change id deptid int;</div><div class="line">Query OK, 0 rows affected (0.07 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptid | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h3 id="字段修改-同时修改字段名称与数据类型"><a href="#字段修改-同时修改字段名称与数据类型" class="headerlink" title="字段修改-同时修改字段名称与数据类型"></a>字段修改-同时修改字段名称与数据类型</h3><p>ALTER TABLE table_name CHANGE 旧属性名 新属性名 新数据类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept change deptid id varchar(32);</div><div class="line">Query OK, 0 rows affected (0.49 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | varchar(32) | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h3 id="修改顺序"><a href="#修改顺序" class="headerlink" title="修改顺序"></a>修改顺序</h3><p>ALTER TABLE table_name MODIFY 属性名1 数据类型 FIRST|AFTER 属性名2</p>
<p>2个属性必须存在</p>
<h4 id="将deptno调到第一个位置"><a href="#将deptno调到第一个位置" class="headerlink" title="将deptno调到第一个位置"></a>将deptno调到第一个位置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept modify deptno int first;</div><div class="line">Query OK, 0 rows affected (0.33 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| id     | varchar(32) | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h4 id="将ID放在最后"><a href="#将ID放在最后" class="headerlink" title="将ID放在最后"></a>将ID放在最后</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">mysql&gt; alter table tab_dept modify deptno int after descri;</div><div class="line">Query OK, 0 rows affected (0.29 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| id     | varchar(32) | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table tab_dept modify deptno int first;</div><div class="line">Query OK, 0 rows affected (0.34 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; alter table tab_dept modify id int after descri;</div><div class="line">Query OK, 0 rows affected (0.47 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; desc tab_dept;</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| Field  | Type        | Null | Key | Default | Extra |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">| deptno | int(11)     | YES  |     | NULL    |       |</div><div class="line">| dname  | varchar(20) | YES  |     | NULL    |       |</div><div class="line">| loc    | varchar(40) | YES  |     | NULL    |       |</div><div class="line">| descri | int(11)     | YES  |     | NULL    |       |</div><div class="line">| id     | int(11)     | YES  |     | NULL    |       |</div><div class="line">+--------+-------------+------+-----+---------+-------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mysql学习四表的基本操作&quot;&gt;&lt;a href=&quot;#mysql学习四表的基本操作&quot; class=&quot;headerlink&quot; title=&quot;mysql学习四表的基本操作&quot;&gt;&lt;/a&gt;mysql学习四表的基本操作&lt;/h2&gt;&lt;h2 id=&quot;创建表&quot;&gt;&lt;a href=&quot;#创建
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql学习三帮忙文档</title>
    <link href="https://ln0491.github.io/2017/02/09/mysql%E5%AD%A6%E4%B9%A0%E4%B8%89%E5%B8%AE%E5%BF%99%E6%96%87%E6%A1%A3/"/>
    <id>https://ln0491.github.io/2017/02/09/mysql学习三帮忙文档/</id>
    <published>2017-02-09T06:24:45.000Z</published>
    <updated>2017-02-09T06:27:43.977Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql学习三帮忙文档"><a href="#mysql学习三帮忙文档" class="headerlink" title="mysql学习三帮忙文档"></a>mysql学习三帮忙文档</h2><h3 id="查看系统帮助"><a href="#查看系统帮助" class="headerlink" title="查看系统帮助"></a>查看系统帮助</h3><p>help contents<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">mysql&gt; help contents;</div><div class="line">You asked for help about help category: &quot;Contents&quot;</div><div class="line">For more information, type &apos;help &lt;item&gt;&apos;, where &lt;item&gt; is one of the following</div><div class="line">categories:</div><div class="line">   Account Management</div><div class="line">   Administration</div><div class="line">   Compound Statements</div><div class="line">   Data Definition</div><div class="line">   Data Manipulation</div><div class="line">   Data Types</div><div class="line">   Functions</div><div class="line">   Functions and Modifiers for Use with GROUP BY</div><div class="line">   Geographic Features</div><div class="line">   Help Metadata</div><div class="line">   Language Structure</div><div class="line">   Plugins</div><div class="line">   Procedures</div><div class="line">   Storage Engines</div><div class="line">   Table Maintenance</div><div class="line">   Transactions</div><div class="line">   User-Defined Functions</div><div class="line">   Utility</div></pre></td></tr></table></figure></p>
<p>帮助文档的目录列表</p>
<h3 id="查看数据类型"><a href="#查看数据类型" class="headerlink" title="查看数据类型"></a>查看数据类型</h3><p>help data types<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">mysql&gt; help data types;</div><div class="line">You asked for help about help category: &quot;Data Types&quot;</div><div class="line">For more information, type &apos;help &lt;item&gt;&apos;, where &lt;item&gt; is one of the following</div><div class="line">topics:</div><div class="line">   AUTO_INCREMENT</div><div class="line">   BIGINT</div><div class="line">   BINARY</div><div class="line">   BIT</div><div class="line">   BLOB</div><div class="line">   BLOB DATA TYPE</div><div class="line">   BOOLEAN</div><div class="line">   CHAR</div><div class="line">   CHAR BYTE</div><div class="line">   DATE</div><div class="line">   DATETIME</div><div class="line">   DEC</div><div class="line">   DECIMAL</div><div class="line">   DOUBLE</div><div class="line">   DOUBLE PRECISION</div><div class="line">   ENUM</div><div class="line">   FLOAT</div><div class="line">   INT</div><div class="line">   INTEGER</div><div class="line">   LONGBLOB</div><div class="line">   LONGTEXT</div><div class="line">   MEDIUMBLOB</div><div class="line">   MEDIUMINT</div><div class="line">   MEDIUMTEXT</div><div class="line">   SET DATA TYPE</div><div class="line">   SMALLINT</div><div class="line">   TEXT</div><div class="line">   TIME</div><div class="line">   TIMESTAMP</div><div class="line">   TINYBLOB</div><div class="line">   TINYINT</div><div class="line">   TINYTEXT</div><div class="line">   VARBINARY</div><div class="line">   VARCHAR</div><div class="line">   YEAR DATA TYPE</div></pre></td></tr></table></figure></p>
<h3 id="查看整数"><a href="#查看整数" class="headerlink" title="查看整数"></a>查看整数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">mysql&gt; help int;</div><div class="line">Name: &apos;INT&apos;</div><div class="line">Description:</div><div class="line">INT[(M)] [UNSIGNED] [ZEROFILL]</div><div class="line"></div><div class="line">A normal-size integer. The signed range is -2147483648 to 2147483647.</div><div class="line">The unsigned range is 0 to 4294967295.</div><div class="line"></div><div class="line">URL: http://dev.mysql.com/doc/refman/5.7/en/numeric-type-overview.html</div><div class="line"></div><div class="line"></div><div class="line">mysql&gt; help tinyint;</div><div class="line">Name: &apos;TINYINT&apos;</div><div class="line">Description:</div><div class="line">TINYINT[(M)] [UNSIGNED] [ZEROFILL]</div><div class="line"></div><div class="line">A very small integer. The signed range is -128 to 127. The unsigned</div><div class="line">range is 0 to 255.</div><div class="line"></div><div class="line">URL: http://dev.mysql.com/doc/refman/5.7/en/numeric-type-overview.html</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mysql学习三帮忙文档&quot;&gt;&lt;a href=&quot;#mysql学习三帮忙文档&quot; class=&quot;headerlink&quot; title=&quot;mysql学习三帮忙文档&quot;&gt;&lt;/a&gt;mysql学习三帮忙文档&lt;/h2&gt;&lt;h3 id=&quot;查看系统帮助&quot;&gt;&lt;a href=&quot;#查看系统帮助&quot;
    
    </summary>
    
      <category term="mysql" scheme="https://ln0491.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://ln0491.github.io/tags/mysql/"/>
    
  </entry>
  
</feed>
